<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>解决每次Github部署完成后都需要重新绑定域名的问题</title>
    <url>/posts/52420/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>解决每次Github部署完成后都需要重新绑定域名的问题！！！</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><ol>
<li><p>在博客根目录的配置文件 <code>config.yml</code>中找到<code>skip_render</code>，添加值<code>GNAME</code>,用来置顶不进行渲染的文件</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">CNAME</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在**&#x2F;source<strong>的目录中创建一个文件，文件名为</strong>CNAME**，里边的内容写你的域名。</p>
</li>
<li><p>只写域名，例如 creammint.cn，不需要添加http(s):&#x2F;&#x2F;前缀。</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">creammint.cn</span><br></pre></td></tr></table></figure>
</li>
<li><p>hexo g 重新生成一下</p>
</li>
<li><p>hexo d 部署到Github上</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Github</category>
      </categories>
      <tags>
        <tag>域名</tag>
      </tags>
  </entry>
  <entry>
    <title>Git SSH公钥配置</title>
    <url>/posts/58668/</url>
    <content><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>首先下载安装git：<a href="https://git-scm.com/downloads/">https://git-scm.com/downloads/</a></p>
<p>一路默认，安装完成后，在任意文件夹内右键选择“Git Bush Here” ，打开gitbush。</p>
<p>配置用户名和邮箱：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;your_name&quot;</span><br><span class="line"></span><br><span class="line">$ git config --global user.email &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>

<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>生成密钥对：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>

<p>一路默认点Enter，C:\Users\Administrator.ssh（Administrator是当前用户名）文件夹中会生成两个密钥文件：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1035310-20181106235426595-857406464.png" alt="img"></p>
<p>打开id_rsa.pub，将文件内容全选复制，准备粘贴到github上：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1035310-20181106235534357-1259001712.png" alt="img"></p>
<p>登陆github，点击右上角头像，选择Settings，选择SSH and GPG keys：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240105092825784.png" alt="image-20240105092825784"></p>
<p>点击“New SSH key”，将复制的密钥内容粘贴进Key的输入框，Title随便取：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1035310-20181107000122494-931212452.png" alt="img"></p>
<p>回到gitbush，测试输入： ssh -T <a href="mailto:&#103;&#105;&#x74;&#64;&#x67;&#105;&#x74;&#104;&#117;&#98;&#46;&#99;&#x6f;&#x6d;">&#103;&#105;&#x74;&#64;&#x67;&#105;&#x74;&#104;&#117;&#98;&#46;&#99;&#x6f;&#x6d;</a></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1035310-20181107000409948-1462846742.png" alt="img"></p>
<p>如果遇到 yes&#x2F;no 的选项，输入yes。最后看到 “Hi ….”表示设置成功。</p>
<p>�设置成功。</p>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>Java-jdk详细安装教程</title>
    <url>/posts/5819/</url>
    <content><![CDATA[<h2 id="Java-jdk详细安装教程"><a href="#Java-jdk详细安装教程" class="headerlink" title="Java&#x2F;jdk详细安装教程"></a>Java&#x2F;jdk详细安装教程</h2><h3 id="一、java历史简介"><a href="#一、java历史简介" class="headerlink" title="一、java历史简介"></a>一、java历史简介</h3><p>1991 年Sun公司的James Gosling等人开始开发名称为 Oak （橡树）的语言。希望用于控制嵌入在有线电视交换盒、PDA等的微处理器，</p>
<p>1994年将Oak语言更名为Java</p>
<p>1998年JDK1.2时，更名为Java 2 Platform</p>
<p>分为标准版J2SE,企业版J2EE,微型版J2ME</p>
<p>Java 既安全、可移植，又可跨平台，而且人们发现它能够解决Internet 上的大型应用问题，Internet使Java成为网上最流行的编程语言，Java对Internet的影响也意义深远。后来java被Oracle（甲骨文）公司收购。java实际是个地名，乃印度尼西亚的一个岛屿，当地盛产咖啡，因此标志也用了一个咖啡的标志。</p>
<h3 id="二、Java安装过程（以java8-0为例）"><a href="#二、Java安装过程（以java8-0为例）" class="headerlink" title="二、Java安装过程（以java8.0为例）"></a>二、Java安装过程（以java8.0为例）</h3><p>1、Oracle官网： <a href="https://www.oracle.com/index.html">Oracle | Cloud Applications and Cloud Platform</a> </p>
<p>如何在官网下载JDK8：<a href="https://jingyan.baidu.com/article/afd8f4de20588975e286e9e7.html">如何在Oracle官网找到并下载JDK8-百度经验 (baidu.com)</a> </p>
<p>JDK官网地址跳转：<a href="http://java.sun.com/">http://java.sun.com/</a></p>
<p>2、在官网下载太麻烦了，我这里为大家提供了两种版本的jdk；</p>
<blockquote>
<p>链接：<a href="https://pan.baidu.com/s/1qwFfkgx4fPOX43PqiaI3eg?pwd=gztx">https://pan.baidu.com/s/1qwFfkgx4fPOX43PqiaI3eg?pwd=gztx</a><br>提取码：gztx </p>
</blockquote>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/fbac42341d7b1905ead95cbbea9dd118.png" alt="img"></p>
<p><strong>3、开始安装</strong></p>
<p>双击 <code>jdk-8u181-windows-x64.exe</code> 进入JAVA运行环境安装界面，如下图所示： </p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/95b0e702d45801f19e6a2de6af3c33f0.png" alt="img"></p>
<p><strong>大致步骤为：以管理员运行  下一步下一步……</strong></p>
<p>点击“下一步”按钮开始安装，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/ae5e06848c325da9638945d27ed4f411.png" alt="img"></p>
<p>点击“下一步”按钮继续，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/403f33635534276ef51a2da3668c3cc1.png" alt="img"></p>
<p>选择安装路径后，点击“下一步”继续，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/ef999dd502be1b59c4bcf12b5d44b18d.png" alt="img"></p>
<p>JAVA运行环境正在安装，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/2fa74403f12a9d1df7fcd401cf913803.png" alt="img"></p>
<p>点击“关闭”按钮，安装完成，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/3c50623d03e2a4f41412e46dcdbc7422.png" alt="img"></p>
<p>JAVA运行环境安装完成后，需要配置系统变量。</p>
<p>在电脑图标上的右键菜单中选择“属性”菜单进行系统配置，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/b716c980249e7ee590654e12eebeed55.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/8ea9f03ac0a1688d263ceb58cd6d90a2.png" alt="img"></p>
<p>点击“新建”按钮，在【系统变量】，分别设置三个环境变量，即：</p>
<p>变量名1：<code>JAVA_HOME</code></p>
<p>变量值1： 电脑上JDK安装的绝对路径（我的路径是 <code>C:\Program Files\Java\jdk1.8.0_181</code> ） </p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/2b097295458490bc5894170e9e84bad2.png" alt="img"></p>
<p>变量名2：<code>PATH</code></p>
<p>变量值2： 新建两条路径 ：<code>%JAVA_HOME%\bin</code>、<code>%JAVA_HOME%\jre\bin</code></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/ae384b4861aaa19877e50a6972d1d6e9.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/52733ae6be43affaa66672a152372580.png" alt="img"></p>
<p>变量名3：<code>CLASSPATH</code></p>
<p>变量值3：<code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code>  （注意分号和小点）可复制我的变量值 </p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/52733ae6be43affaa66672a152372580.png"></p>
<p>三个环境变量添加完成之后，如下图所示。</p>
<p>点击“确定”按钮，完成环境变量设置。</p>
<p>接下来需要检测JAVA运行环境是否安装成功。</p>
<p>同时按键盘上的“Win+R”键，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/360a5c533c03b174d88293a85c088a0a.png" alt="img"></p>
<p>在显示的对话框中输入“cmd”命令，并点击“确定”，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/5e2fe946c64cfa471a12e5eb7812ef37.png" alt="img"></p>
<p>在显示的命令窗口中输入 <code>java -version</code> 命令并回车，如果能正常显示版本信息，说明JAVA运行环境安装成功，如下图所示：<br><strong>注意：</strong> <code>使用管理员身份运行cmd命令窗口</code></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/56831eb7088b46999a93f3b5965907fc.png" alt="img">a93f3b5965907fc.png)</p>
]]></content>
      <categories>
        <category>system</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Jdk</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+Butterfly 动态修改网站的标题</title>
    <url>/posts/32273/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>可以在切换至其他网页时动态修改网站的标题，引起访问者的注意，当再次回来时修改网站标题表示欢迎；</p>
<h2 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h2><h3 id="新建脚本文件"><a href="#新建脚本文件" class="headerlink" title="新建脚本文件"></a>新建脚本文件</h3><p>Root\source\js\title.js，写入一下内容：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">//动态标题</span></span><br><span class="line"><span class="string">var</span> <span class="string">OriginTitile</span> <span class="string">=</span> <span class="string">document.title;</span></span><br><span class="line"><span class="string">var</span> <span class="string">titleTime;</span></span><br><span class="line"><span class="string">document.addEventListener(&#x27;visibilitychange&#x27;,</span> <span class="string">function</span> <span class="string">()</span> &#123;</span><br><span class="line">  <span class="string">if</span> <span class="string">(document.hidden)</span> &#123;</span><br><span class="line">    <span class="string">//离开当前页面时标签显示内容</span></span><br><span class="line">    <span class="string">document.title</span> <span class="string">=</span> <span class="string">&#x27;👀不要走嘛~&#x27;</span><span class="string">;</span></span><br><span class="line">    <span class="string">clearTimeout(titleTime);</span></span><br><span class="line">  &#125; <span class="string">else</span> &#123;</span><br><span class="line">    <span class="string">//返回当前页面时标签显示内容</span></span><br><span class="line">    <span class="string">document.title</span> <span class="string">=</span> <span class="string">&#x27;🐖欢迎你回来～&#x27;</span><span class="string">;</span></span><br><span class="line">    <span class="string">//两秒后变回正常标题</span></span><br><span class="line">    <span class="string">titleTime</span> <span class="string">=</span> <span class="string">setTimeout(function</span> <span class="string">()</span> &#123;</span><br><span class="line">      <span class="string">document.title</span> <span class="string">=</span> <span class="string">OriginTitile;</span></span><br><span class="line">    &#125;, <span class="number">2000</span><span class="string">);</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;<span class="string">);</span></span><br></pre></td></tr></table></figure>

<h3 id="引用脚本文件"><a href="#引用脚本文件" class="headerlink" title="引用脚本文件"></a>引用脚本文件</h3><p>在主题配置文件<code>_config.butterfly.yml</code>引入该文件：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span> </span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/title.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="查看和验证效果"><a href="#查看和验证效果" class="headerlink" title="查看和验证效果"></a>查看和验证效果</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">cl</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure>





<hr>
<p>参考链接：<a href="https://www.fomal.cc/posts/d1927166.html">https://www.fomal.cc/posts/d1927166.html</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>腾讯云COS+PicGo+Typora图床搭建</title>
    <url>/posts/59423/</url>
    <content><![CDATA[<h3 id="腾讯云COS"><a href="#腾讯云COS" class="headerlink" title="腾讯云COS"></a>腾讯云COS</h3><h4 id="1-开通COS"><a href="#1-开通COS" class="headerlink" title="1.开通COS"></a>1.开通COS</h4><ul>
<li>进入腾讯云官网控制台搜索<a href="https://cloud.tencent.com/product/cos?from_column=20065&from=20065">对象存储</a> <a href="https://cloud.tencent.com/?from_column=20421&from=20421">腾讯云 产业智变·云启未来 - 腾讯 (tencent.com)</a></li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/6884baf546bf0f0766a79ee351b93f8f.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/c77a9e0460c21762f6e7108316d58e99.png" alt="img"></p>
<ul>
<li><strong>未开通会提示开通</strong> 直接按照要求进行开通即可</li>
</ul>
<h4 id="2-创建存储桶"><a href="#2-创建存储桶" class="headerlink" title="2.创建存储桶"></a>2.创建存储桶</h4><ul>
<li><strong>开通后创建存储桶</strong></li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/44074fdf58c23ec4d94083cc080d329d.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/e4cc07526d9471c3d3db35328c665dd6.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/e4cc07526d9471c3d3db35328c665dd6.png" alt="img"></p>
<ul>
<li>高级可选配置<strong>默认即可</strong></li>
<li>配置好之后创建</li>
</ul>
<h3 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h3><h4 id="1-下载PicGo"><a href="#1-下载PicGo" class="headerlink" title="1.下载PicGo"></a>1.下载PicGo</h4><ul>
<li>前往官网下载 <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://picgo.github.io/PicGo-Doc/zh/guide/%23%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85&source=article&objectId=2175760">PicGo is Here | PicGo</a> 可选多种方式</li>
<li>Git Hub 下载 <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://github.com/Molunerfinn/PicGo/releases&source=article&objectId=2175760">https://github.com/Molunerfinn/PicGo/releases</a></li>
<li>在文档末尾选择对应版本下载即可</li>
<li><strong>点击直接下载</strong> 2.3.1 版本： <a href="https://picgo-1251750343.cos.ap-chengdu.myqcloud.com/2.3.1/PicGo-Setup-2.3.1-x64.exe?from_column=20421&from=20421">PicGo-Setup-2.3.1-x64.exe</a></li>
<li>会显示该程序有风险 忽略风险安装即可</li>
</ul>
<h4 id="2-配置PicGo"><a href="#2-配置PicGo" class="headerlink" title="2.配置PicGo"></a>2.配置PicGo</h4><ul>
<li><strong>获取</strong><a href="https://cloud.tencent.com/product/cos?from_column=20065&from=20065"><strong>腾讯云COS</strong></a><strong>密钥</strong></li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/8bf9a9ff91c60adf5e727a5048e6aa11.png" alt="img"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/a5e423b8e9002e9ba9769d8f176426ed.png" alt="img"></p>
<ul>
<li>在控制台 <strong>对象存储</strong> 中获取基本信息</li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/967d505fcda18d2c30291b1bcf59a12c.png" alt="img"></p>
<ul>
<li><strong>配置 PicGo</strong></li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/ee5e403db868296f83c3571347ad251b.png" alt="img"></p>
<h3 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h3><h4 id="1-下载Typora"><a href="#1-下载Typora" class="headerlink" title="1.下载Typora"></a>1.下载Typora</h4><ul>
<li>官网下载即可 <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://typoraio.cn/&source=article&objectId=2175760">Typora 官方中文站 (typoraio.cn)</a></li>
<li>Typora收费了 大家自行寻找下载资源即可</li>
</ul>
<h4 id="2-Typora配置"><a href="#2-Typora配置" class="headerlink" title="2.Typora配置"></a>2.Typora配置</h4><ul>
<li><strong>文件(F) -&gt; 偏好设置</strong></li>
</ul>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/a1843c4d363d5e30dfa0e74937a322ad.png" alt="img"></p>
<hr>
<p><strong>原文链接：</strong><a href="https://cloud.tencent.com/developer/article/2175760?from=15425">https://cloud.tencent.com/developer/article/2175760?from=15425</a></p>
]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>腾讯云</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Hexo的静态博客网站搭建并部署至云服务器</title>
    <url>/posts/356/</url>
    <content><![CDATA[<h2 id="Hexo的静态博客网站搭建并部署至云服务器"><a href="#Hexo的静态博客网站搭建并部署至云服务器" class="headerlink" title="Hexo的静态博客网站搭建并部署至云服务器"></a>Hexo的静态博客网站搭建并部署至云服务器</h2><p><a href="https://www.glimound.com/build-hexo-blog/">基于Hexo的静态博客网站搭建并部署至云服务器 | Glimound的个人技术经验分享</a></p>
<h3 id="搭建博客前的准备"><a href="#搭建博客前的准备" class="headerlink" title="搭建博客前的准备"></a>搭建博客前的准备</h3><p>开始前，你需要购买一台云服务器，并注册好用于博客网站的域名。我选择了腾讯云的轻量应用服务器（2核2G 4M带宽）并预装了CentOS 8.2的系统镜像，用于搭建博客这类轻型网站性能完全足够。我这里购买服务器用了45元&#x2F;年的首单特惠，过期后还可以使用腾讯云的学生优惠来续费，大概也是100元左右一年，对于大部分学生来说也还算负担得起。</p>
<p>其次，还需要注册好自己的域名并完成实名认证，我是在阿里云的万网注册了 <code>www.glimound.com</code> 这个域名，费用是63元&#x2F;年，供大家参考。通常，非.com后缀的域名会更加便宜，但需要注意的是，<strong>只有在<a href="http://域名.信息/#">工信部域名行业管理信息公示网站</a>上展示的域名后缀才可进行后续的ICP备案</strong>，而未进行备案的域名解析至国内的服务器后将无法正常访问。</p>
<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E5%258E%259F%25E7%2590%2586%25E5%259B%25BE.png" alt="原理图"></p>
<p>了解整个博客架构的工作原理有助于理解下面各个步骤的意义。我们需要在本地安装Hexo程序，并在本地hexo目录内书写博客。书写的博客将会保存在source目录内，当我们输入 <code>hexo generate</code> 命令时，hexo将会把我们写的markdown文件渲染成静态文件（即网页文件）；输入 <code>hexo deploy</code> 时，hexo会通过我们配置好的免密登录连接至服务器，并将生成的静态文件推送到服务器的Git仓库内。Git仓库内容的变更触发钩子文件，将仓库内的内容部署至网站根目录下。</p>
<p>同时，我们还需要配置好nginx服务和域名解析。当用户访问我们博客的域名时，域名将被重定向为服务器的ip地址，并通过nginx服务访问网站根目录里的静态文件。</p>
<blockquote>
<p>Git：一个版本管理系统，可供开发者方便地管理不同版本的代码。</p>
<p>nginx：一个HTTP和反向代理web服务器，本文中我们用到反向代理功能，用户通过该功能以访问服务器内的资源。</p>
</blockquote>
<h3 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h3><h4 id="本地配置（Win10）"><a href="#本地配置（Win10）" class="headerlink" title="本地配置（Win10）"></a>本地配置（Win10）</h4><p>开始搭建网站前，需要先在本地计算机安装hexo与其所需的相关环境。注意，<strong>以下步骤全部在本地计算机上完成</strong>。</p>
<h5 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h5><p>前往<a href="https://git-scm.com/">官网</a>下载较新版本的Git并安装，安装时的各种选项默认即可，或根据自己的需要进行调整。安装完成后右键桌面空白处会多出”Git GUI Here”和”Git Bash Here”两个选项，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/git%25E5%258F%25B3%25E9%2594%25AE%25E8%258F%259C%25E5%258D%2595.png" alt="git右键菜单"></p>
<p>打开Git Bash，依次输入以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.email &quot;xxx@xxx.com&quot;     # xxx@xxx.com改为你的邮箱</span><br><span class="line">git config --global user.name &quot;xxx&quot;      # xxx改为你的昵称</span><br></pre></td></tr></table></figure>

<p>这两条命令修改了Git配置文件中用户的邮箱和名称，每一个Git提交都会使用这些信息。无需担心，这里的邮箱和名称只用于标识。</p>
<h5 id="安装Node-js和npm"><a href="#安装Node-js和npm" class="headerlink" title="安装Node.js和npm"></a>安装Node.js和npm</h5><p>前往<a href="https://nodejs.org/">官网</a>下载较新的LTS（即长期支持）版本并安装，Node.js安装过程中会一并将npm包管理工具安装至本地。安装完成后可以在Git Bash中输入 <code>node -v</code> 和 <code>npm -v</code> 查看版本。</p>
<h5 id="安装Hexo和相关插件"><a href="#安装Hexo和相关插件" class="headerlink" title="安装Hexo和相关插件"></a>安装Hexo和相关插件</h5><p>新建一个文件夹作为博客配置文件存放的目录，如 <code>D:\Blog</code> 。进入该文件夹，右键空白处打开Git Bash，安装hexo。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli hexo-server</span><br></pre></td></tr></table></figure>

<p>npm install -g命令即使用npm包管理工具进行全局安装，这里的hexo-cli为hexo的客户端模块，hexo-server为服务器模块，可以支持在本地服务器生成网页并进行浏览，调试网站时会使用到。</p>
<h5 id="本地初始化博客站点"><a href="#本地初始化博客站点" class="headerlink" title="本地初始化博客站点"></a>本地初始化博客站点</h5><p>进入上一步建立的博客文件夹，右键打开Git Bash，初始化博客站点。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>第一条命令中的myblog可以改成自己喜欢的名字。这里用npm安装的hexo-deployer-git为自动部署至远程git仓库的插件，用于把我们在本地生成的网站页面push到服务器上。</p>
<p>初始化后会在myblog文件夹下生成以下目录，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/blog%25E7%259B%25AE%25E5%25BD%2595%25E7%25BB%2593%25E6%259E%2584.PNG" alt="blog目录结构"></p>
<p>这里有一些比较重要的文件或文件夹：</p>
<ul>
<li><code>_config.yml</code> 文件：站点的配置文件</li>
<li><code>source</code> 文件夹：存放需要进行渲染的文件，该目录下的 <code>_post</code> 文件夹内存放我们写的博文</li>
<li><code>themes</code> 文件夹：存放主题及其配置文件</li>
</ul>
<h5 id="测试网页"><a href="#测试网页" class="headerlink" title="测试网页"></a>测试网页</h5><p>在Git Bash中输入命令，将网页生成至本地服务器上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo server     #也可输入缩写命令hexo s</span><br></pre></td></tr></table></figure>

<p>在浏览器地址栏中输入 <code>http://localhost:4000</code> 即可访问hexo的默认页面，如下图所示。如能正常访问页面，说明hexo在本地安装正常，按Ctrl+C停止。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo%25E9%25BB%2598%25E8%25AE%25A4%25E9%25A1%25B5%25E9%259D%25A2.png" alt="hexo默认页面"></p>
<h4 id="服务端配置（CentOS-8-2）"><a href="#服务端配置（CentOS-8-2）" class="headerlink" title="服务端配置（CentOS 8.2）"></a>服务端配置（CentOS 8.2）</h4><p>在这一步骤中，我们将在服务器上安装hexo及其环境，配置git的自动部署和nginx。我们需要在本地计算机上安装XShell和WinSCP以访问我们购买的服务器。注意，<strong>除特殊说明外，以下所有需要输入指令的操作都在服务器上完成</strong>。</p>
<h5 id="服务器初始设置"><a href="#服务器初始设置" class="headerlink" title="服务器初始设置"></a>服务器初始设置</h5><p>这里以腾讯云服务器为例，进入腾讯云网站的服务器管理后台，记录服务器的公网ip，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E8%2585%25BE%25E8%25AE%25AF%25E4%25BA%2591%25E5%2585%25AC%25E7%25BD%2591ip.png" alt="腾讯云公网ip"></p>
<p>我们还需要重置密码，这里设置的密码将会是远程登陆服务器时root用户（即管理员账户）的密码。</p>
<p>检查服务器防火墙设置，查看80端口、443端口和22端口是否开放，如图所示。若无则需添加规则开放这三个端口。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E6%259C%258D%25E5%258A%25A1%25E5%2599%25A8%25E9%2598%25B2%25E7%2581%25AB%25E5%25A2%2599%25E8%25AE%25BE%25E7%25BD%25AE.png" alt="服务器防火墙设置"></p>
<h5 id="访问实例"><a href="#访问实例" class="headerlink" title="访问实例"></a>访问实例</h5><p>这里的实例可以理解为安装了操作系统的一台服务器。我们需要在本地计算机安装XShell和WinSCP，前者用于访问远程实例的控制终端，后者可以让我们更加便捷地访问服务器上的文件，便于后续操作。</p>
<p>(1) 打开XShell并新建会话，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/XShell%25E6%2596%25B0%25E5%25BB%25BA%25E4%25BC%259A%25E8%25AF%259D.png" alt="XShell新建会话"></p>
<p>输入连接信息：</p>
<ul>
<li>协议：SSH</li>
<li>主机：服务器公网ip</li>
<li>端口号：22</li>
</ul>
<p>选择“用户身份验证”选项卡，输入用户名和密码并连接。一般情况下用户名为root，密码则为前面重置密码时设置的密码。连接成功后，会出现实例的控制终端，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/XShell%25E7%25BB%2588%25E7%25AB%25AF.png" alt="XShell终端"></p>
<p>(2) 打开WinSCP并新建站点，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E6%2596%25B0%25E5%25BB%25BA%25E7%25AB%2599%25E7%2582%25B9.png" alt="WinSCP新建站点"></p>
<p>输入连接信息、用户名、密码：</p>
<ul>
<li>文件协议：SFTP或SCP</li>
<li>主机名：服务器公网ip</li>
<li>端口号：22</li>
</ul>
<p>登录成功后会出现如下界面，左半栏为本地计算机的文件目录，右半栏为服务器的文件目录，可进行上传及下载操作。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E7%2595%258C%25E9%259D%25A2.png" alt="WinSCP界面"></p>
<h5 id="创建Hexo部署目录"><a href="#创建Hexo部署目录" class="headerlink" title="创建Hexo部署目录"></a>创建Hexo部署目录</h5><p>用XShell登录实例后，在终端中输入以下命令创建Hexo部署目录（路径可根据喜好自行设置），博客相关的页面文件将会被存储在此处。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p /home/www/hexo</span><br></pre></td></tr></table></figure>

<h5 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h5><p>(1) 在终端中依次输入以下命令，使用yum安装nginx所需的依赖。这里的yum同样为包管理器，不过是CentOS系统内置的，功能与npm基本相同。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install gcc-c++</span><br><span class="line">yum install -y pcre pcre-devel</span><br><span class="line">yum install -y zlib zlib-devel</span><br><span class="line">yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure>

<p>gcc-c++为编译nginx源码所需的编译器；pcre为正则表达式的支持库；zlib为压缩算法的支持库；Nginx支持http与https协议，如需实现https协议需要用到openssl库。</p>
<p>(2) 访问官网的<a href="http://nginx.org/en/download.html">下载页面</a>，查看稳定版nginx的版本号，并在终端中输入指令下载nginx的源代码。这里以1.20.2版本为例。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget -c http://nginx.org/download/nginx-1.20.2.tar.gz     #用wget命令下载源代码的压缩包</span><br><span class="line">tar -zxvf nginx-1.20.2.tar.gz -C /usr/local     #解压压缩包至/usr/local目录下</span><br></pre></td></tr></table></figure>

<p>解压完成后在WinSCP中刷新页面，可以看到 <code>/usr/local</code> 目录下多出了解压后的nginx源代码文件夹。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/nginx%25E6%25BA%2590%25E4%25BB%25A3%25E7%25A0%2581%25E6%2596%2587%25E4%25BB%25B6%25E5%25A4%25B9.PNG" alt="nginx源代码文件夹"></p>
<p>(3) 在终端中进入该目录，执行配置文件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/local/nginx-1.20.2</span><br><span class="line">./configure --with-http_ssl_module     #http_ssl_module为https模块</span><br></pre></td></tr></table></figure>

<p>(4) 编译安装nginx。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>(5) 若按以上方法安装，默认安装目录为 <code>/usr/local/nginx</code> 。进入sbin目录，启动nginx。注意，启动成功后在终端中不会显示任何信息，而在已启动nginx的情况下再次试图启动会显示错误信息（可据此粗略判断nginx是否启动）。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/local/nginx/sbin</span><br><span class="line">./nginx -v     #显示nginx版本号，说明安装成功</span><br><span class="line">./nginx     #启动nginx</span><br></pre></td></tr></table></figure>

<p>启动后在浏览器地址栏中输入 <code>http://你的服务器ip:80</code> 即可看到nginx的欢迎页面，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/nginx%25E6%25AC%25A2%25E8%25BF%258E%25E9%25A1%25B5%25E9%259D%25A2.PNG" alt="nginx欢迎页面"></p>
<p>在这里附上一些常用的nginx命令，注意，以下命令均需要在 <code>/usr/local/nginx/sbin</code> 目录下执行。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx -s stop     #关闭nginx</span><br><span class="line">./nginx -s reload      #重载nginx</span><br><span class="line">./nginx -t      #检查nginx配置文件的语法是否有错误，常在修改配置文件后执行</span><br></pre></td></tr></table></figure>

<h5 id="配置Nginx反向代理"><a href="#配置Nginx反向代理" class="headerlink" title="配置Nginx反向代理"></a>配置Nginx反向代理</h5><p>在WinSCP中进入nginx配置文件所在的目录 <code>/usr/local/nginx/conf</code> ，右键nginx.conf文件并进行编辑。（此处也可在终端中通过vim修改： <code>vim /usr/local/nginx/conf/nginx.conf</code> ；下文凡涉及文件修改的操作均可在终端中完成，这里选择在WinSCP中操作是为了更直观）</p>
<p>找到server语句块，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/server%25E8%25AF%25AD%25E5%258F%25A5%25E5%259D%2597.PNG" alt="server语句块"></p>
<p>进行以下修改：</p>
<ul>
<li>listen为监听端口，保持默认80即可</li>
<li>server_name为虚拟服务器的识别标志，修改为自己注册的域名，如 <code>www.glimound.com</code></li>
<li>root为部署根目录（即用户访问时网页文件所在的目录），修改为前面创建的Hexo部署目录，如 <code>/home/www/hexo</code></li>
</ul>
<p>修改完成后检查语法并重载nginx。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx -t</span><br><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure>

<h5 id="安装Git-1"><a href="#安装Git-1" class="headerlink" title="安装Git"></a>安装Git</h5><p>在终端中用yum安装Git。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y git</span><br><span class="line">git --vesion     #显示git版本号，说明安装成功</span><br></pre></td></tr></table></figure>

<h5 id="添加git用户"><a href="#添加git用户" class="headerlink" title="添加git用户"></a>添加git用户</h5><p>(1) root用户默认的权限过大，出于安全考虑，我们为服务器添加一个名为git的用户，用于将博客自动部署至服务器上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">useradd git     #添加名为git的用户</span><br><span class="line">passwd git     #修改git用户的密码</span><br></pre></td></tr></table></figure>

<p>(2) 为git用户授予sudo权限，用WinSCP打开 <code>/etc</code> 目录下的 <code>sudoers</code> 文件，在 <code>root ALL=(ALL) ALL</code> 语句下添加 <code>git ALL=(ALL) ALL</code> ，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/sudoers%25E6%2596%2587%25E4%25BB%25B6.PNG" alt="sudoers文件"></p>
<h5 id="为git用户添加SSH密钥"><a href="#为git用户添加SSH密钥" class="headerlink" title="为git用户添加SSH密钥"></a>为git用户添加SSH密钥</h5><p>目前为止，对git仓库进行的所有操作都需要输入密码，我们可以通过为git用户添加SSH密钥的方式来实现免密登录。原理：在本地生成一对密钥文件（分别是公钥和私钥），将公钥文件上传到服务器上；服务器收到连接请求时，会将本地的公钥与服务器的公钥进行比对，用私钥解密服务器发来的一段信息并将其发回，验证通过后准许连接。</p>
<p>(1) 在<strong>本地计算机上</strong>打开Git Bash，生成密钥对。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>

<p>输入指令按enter键后会提示输入密码，这里也可不填，一路按enter即可。运行完后将会在 <code>C:\Users\用户名</code> 目录下生成.ssh文件夹，文件夹内的 <code>id_rsa</code> 为私钥文件，<code>id_rsa.pub</code> 为公钥文件。</p>
<p>(2) 在linux下，文件名以小数点开头的文件被视为隐藏文件，在WinSCP中设置显示隐藏文件以方便后续操作。打开WinSCP–选项–选项–面板，勾选“显示隐藏文件”，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E6%2598%25BE%25E7%25A4%25BA%25E9%259A%2590%25E8%2597%258F%25E6%2596%2587%25E4%25BB%25B6.png" alt="WinSCP显示隐藏文件"></p>
<p>(3) 在 <code>/home/git</code> 目录下右键新建名为 <code>.ssh</code> 的文件夹，并在该文件夹内新建名为 <code>authorized_keys</code> 的文件，将之前生成的公钥文件中的所有内容复制进去，保存。</p>
<p>(4) 在XShell中连接实例，登录为root账户，为公钥文件和文件夹设置权限。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod 600 /home/git/.ssh/authorized_keys</span><br><span class="line">chmod 700 /home/git/.ssh</span><br></pre></td></tr></table></figure>

<p>chmod命令可设置文件或文件夹的权限，三位数字为linux中的权限代码，介绍及教程在<a href="https://www.runoob.com/linux/linux-comm-chmod.html">这里</a>。</p>
<p>(5) 将.ssh文件夹及其内的文件所有权移交给git用户。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown -R git:git /home/git/.ssh</span><br></pre></td></tr></table></figure>

<p>chown命令可以变更目录或文件的所有者，-R参数是对子目录及其内的所有文件生效。</p>
<p>(6) 在<strong>本地计算机</strong>测试是否可以用ssh免密登录服务器。打开Git Bash，连接实例，若配置成功则无需输入密码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -v git@xxx.xxx.xxx.xxx     #git@后填写服务器的公网ip</span><br></pre></td></tr></table></figure>

<h5 id="2-9-创建Git仓库并配置自动部署"><a href="#2-9-创建Git仓库并配置自动部署" class="headerlink" title="2.9 创建Git仓库并配置自动部署"></a>2.9 创建Git仓库并配置自动部署</h5><p>这里的Git仓库（repository）可以理解为一个存放着不同版本代码的代码库，包含了项目所有的源文件和版本控制信息。但我们在这里需要用到的是裸库，即仅包含版本控制信息的仓库。后者不保存文件，常用作服务器仓库，实现数据共享和同步。</p>
<p>自动部署的核心在于git-hooks（钩子），可以理解为一种脚本，在特定条件下触发时会调用钩子并执行钩子文件中的内容。</p>
<p>(1) XShell登录为root用户，新建目录并在该目录下创建Git仓库。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p /home/repo     #该目录为git仓库所在的位置，可根据喜好自行设置</span><br><span class="line">cd /home/repo     #进入该目录</span><br><span class="line">git init --bare blog.git     #创建一个名为blog的仓库，--bare参数为创建裸库</span><br></pre></td></tr></table></figure>

<p>(2) 在WinSCP中进入 <code>/home/repo/blog.git/hooks</code> 目录，找到 <code>post-receive</code> 钩子文件（若无则新建）。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E9%2592%25A9%25E5%25AD%2590%25E6%2596%2587%25E4%25BB%25B6.png" alt="钩子文件"></p>
<p>右键编辑，输入 <code>git --work-tree=/home/www/hexo --git-dir=/home/repo/blog.git checkout -f</code> 并保存。（work-tree填写hexo的部署目录，git-dir填写Git仓库的目录）</p>
<p>这里我们使用的是 <code>post-receive</code> 钩子，当Git收到push请求的时候就会调用这个钩子。这个钩子中添加的语句执行的操作为：删除hexo部署目录中原有的文件，然后将Git仓库中的内容clone至hexo部署目录下。这样我们在本地更新博客并且执行部署命令后，网页文件会被push至服务器的Git仓库内，钩子文件则会将Git仓库内的网页文件复制到hexo部署目录下，从而实现自动部署功能。</p>
<p>(3) 为钩子文件及Git仓库目录配置权限。这里需要将我们创建的仓库及部署目录的所有权移交给git用户，因为linux下创建文件时默认只有拥有者（即创建者）才具有读写权限，而Git进行push操作时登录的用户为git用户。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod +x /home/repo/blog.git/hooks/post-receive     #为钩子文件授予可执行权限（+x）</span><br><span class="line">chown -R git:git /home/repo     #将仓库目录的所有权移交给git用户</span><br><span class="line">chown -R git:git /home/www/hexo     #将hexo部署目录的所有权移交给git用户</span><br></pre></td></tr></table></figure>

<h4 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h4><h5 id="Hexo部署插件安装及配置"><a href="#Hexo部署插件安装及配置" class="headerlink" title="Hexo部署插件安装及配置"></a>Hexo部署插件安装及配置</h5><p>在本地计算机的hexo文件夹，这里是 <code>D:\Blog\myblog</code> ，打开 <code>_config.yml</code> 文件，找到 <code>deploy</code> 语句并进行修改，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/deploy%25E8%25AE%25BE%25E7%25BD%25AE.png" alt="deploy设置"></p>
<p>type改为git，repo改为 <code>git@服务器ip:git仓库目录</code> ，这样在执行部署命令时，hexo就会用git用户登录服务器，并将生成的网页文件push到服务器的git仓库中。</p>
<p>输入以下命令生成网页文件并部署至服务器上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure>

<p>在WinSCP中进入服务器的 <code>/home/www/hexo</code> 目录并刷新，查看是否出现文件（该目录原为空目录），如图所示。若有则说明hexo的部署插件及服务器的Git自动部署运行正常。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo%25E9%2583%25A8%25E7%25BD%25B2%25E7%259B%25AE%25E5%25BD%2595.png" alt="hexo部署目录"></p>
<p>至此，我们已经可以在浏览器中输入服务器的ip地址来访问博客站点。</p>
<h5 id="设置域名解析"><a href="#设置域名解析" class="headerlink" title="设置域名解析"></a>设置域名解析</h5><p>域名解析可以将域名指向服务器的ip地址，这样访客输入域名即可访问我们的博客。进入域名管理后台，这里以阿里云的万网为例，在解析设置中添加记录，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E6%25B7%25BB%25E5%258A%25A0%25E8%25A7%25A3%25E6%259E%2590.png" alt="添加解析"></p>
<p>填写相关信息：</p>
<ul>
<li>记录类型：默认为A即可</li>
<li>主机记录：www，或根据需要自行设置</li>
<li>解析线路：默认</li>
<li>记录值：服务器公网ip</li>
<li>TTL：默认为10分钟即可</li>
</ul>
<h5 id="网站备案"><a href="#网站备案" class="headerlink" title="网站备案"></a>网站备案</h5><p>根据法律法规要求，提供非经营性互联网信息服务必须对网站进行ICP备案（需要提交服务器ip、域名、网站信息、网站运营者的身份信息），具体流程详见接入商（即服务器提供商）提供的帮助文档。未进行ICP备案的网站在通过域名进行访问时，会被接入商的检测系统识别并阻断访问。这里以腾讯云为例，进入腾讯云备案页面，根据流程进行ICP备案。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E5%25A4%2587%25E6%25A1%2588.png" alt="备案"></p>
<p>ICP备案审批会在20个工作日内通过，在备案完成前，仍可通过ip地址的方式访问博客站点。注：解析至境外服务器的域名无需进行备案。</p>
<p>ICP备案完成后，需将备案号显示在网站页面下方；此外，根据不同省份及地区的政策，可能还会要求进行公安备案，详见接入商提供的帮助文档。<strong>至此，我们已经完成了博客站点的所有基本配置</strong>，等待备案完成后即可从域名访问属于我们自己的博客网站。</p>
<h5 id="可选操作：为网站配置ssl证书及https协议访问"><a href="#可选操作：为网站配置ssl证书及https协议访问" class="headerlink" title="可选操作：为网站配置ssl证书及https协议访问"></a>可选操作：为网站配置ssl证书及https协议访问</h5><p>https的具体原理在这里不再赘述，简单来说就是一种更加安全的加密通信协议，需要我们在服务器上安装数字证书以建立SSL加密通道。为网站开启https可以提高网站在搜索引擎中的排名，同时浏览器地址栏旁边也会显示一把小锁，说明我们的连接是安全的。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/https%25E5%25B0%258F%25E9%2594%2581.png" alt="https小锁"></p>
<p>企业级数字证书通常价格较贵，一般用于商业网站的加密，而我们在这里选用免费的DV（域名型）证书。以腾讯云为例，可以在腾讯云网站申请免费数字证书，填写域名信息并进行所有权验证，验证通过后即可下载已签名的数字证书；证书有效期为一年，每年到期前续签即可。</p>
<p>(1) 申请ssl证书成功后，下载用于nginx服务器的证书，得到四个文件，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E8%25AF%2581%25E4%25B9%25A6%25E6%2596%2587%25E4%25BB%25B6.png" alt="证书文件"></p>
<ul>
<li><code>xxx_bundle.crt</code> 证书文件</li>
<li><code>xxx.key</code> 私钥文件</li>
<li><code>xxx.pem</code> 证书文件（安装时可忽略该文件）</li>
<li><code>xxx.csr</code> CSR 文件（安装时可忽略该文件）</li>
</ul>
<p>(2) 使用WinCSP登录服务器，将上一步下载到本地的 <code>xxx_bundle.crt</code> 证书文件和 <code>xxx.key</code> 私钥文件复制到 <code>/usr/local/nginx/conf</code> 目录下。</p>
<p>(3) 在该目录下找到nginx.conf文件，右键编辑，找到HTTPS server代码块，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/https%25E8%25AF%25AD%25E5%258F%25A5%25E5%259D%2597.png" alt="https语句块"></p>
<p>进行以下修改：</p>
<ul>
<li>取消该代码块的注释</li>
<li>server_name：修改为域名</li>
<li>ssl_certificate：修改为证书文件的文件名，如 <code>xxx_bundle.crt</code></li>
<li>ssl_certificate_key：修改为私钥文件的文件名，如 <code>xxx.key</code></li>
<li>ssl_ciphers：即使用的算法，参照接入商提供的文档进行修改</li>
<li>root：修改为Hexo部署目录</li>
<li><strong>注：需要修改的内容可能因服务器提供商不同而有所差异，以接入商提供的文档为准</strong></li>
</ul>
<p>(4) 如需访问网站时默认使用https协议，可以设置http重定向为https，在<strong>HTTP的server语句块</strong>中添加 <code>return 301 https://你的域名</code> 即可，如图所示。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/return%25E8%25AF%25AD%25E5%258F%25A5.png" alt="return语句"></p>
<p>(5) XShell连接服务器，检查nginx语法并重启nginx。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/local/nginx/sbin</span><br><span class="line">./nginx -t</span><br><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure>

<p>浏览器访问 <code>https://你的域名</code> 就可以看到地址栏的小锁啦。</p>
<h5 id="附：常用Hexo命令"><a href="#附：常用Hexo命令" class="headerlink" title="附：常用Hexo命令"></a>附：常用Hexo命令</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean     #清除缓存（在本地已渲染的静态文件）</span><br><span class="line">hexo generate     #生成静态文件</span><br><span class="line">hexo deploy     #将静态文件部署至服务器</span><br><span class="line">#上面三个命令常常连用：hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"></span><br><span class="line">hexo server     #将静态文件部署至本地服务器，常用于调试</span><br><span class="line">hexo new &quot;title&quot;     #新建名为title的文章，位置为本地站点文件夹\source\_posts，打开title.md即可编辑文章（.md为markdown文件的后缀名）</span><br></pre></td></tr></table></figure>

<p>更多命令可访问Hexo官网的<a href="https://hexo.io/docs/">帮助文档</a>获取。</p>
<h5 id="附：错误排除"><a href="#附：错误排除" class="headerlink" title="附：错误排除"></a>附：错误排除</h5><ul>
<li>hexo部署目录内无文件：检查hexo部署目录、git仓库目录、钩子文件的权限配置；检查本地博客的 <code>public</code> 目录内是否存在成功渲染的网页文件；重启实例</li>
<li>无法访问服务器ip地址：完成上一步骤的检查；检查nginx是否处于开启状态；检查 <code>nginx.conf</code> 配置文件</li>
<li>无法访问域名：完成上一步骤的检查；检查域名解析状态；确认ICP备案是否已经完成</li>
</ul>
<h2 id="防火墙命令"><a href="#防火墙命令" class="headerlink" title="防火墙命令"></a>防火墙命令</h2><p><a href="https://blog.csdn.net/zhangchaoyang/article/details/109428787">CentOS 7.8 查看和关闭防火墙_7.8系统关闭防火墙‘’-CSDN博客</a></p>
<p>CentOS 7.X 默认使用的是firewall作为防火墙，防火墙启动和关闭与6不一样。</p>
<h3 id="查看防火墙状态"><a href="#查看防火墙状态" class="headerlink" title="查看防火墙状态"></a>查看防火墙状态</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --state</span><br></pre></td></tr></table></figure>

<h3 id="启动防火墙"><a href="#启动防火墙" class="headerlink" title="启动防火墙"></a>启动防火墙</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">systemctl</span> <span class="string">start</span> <span class="string">firewalld</span></span><br></pre></td></tr></table></figure>



<h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>



<h3 id="禁止防火墙开机启动"><a href="#禁止防火墙开机启动" class="headerlink" title="禁止防火墙开机启动"></a>禁止防火墙开机启动</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl disable firewalld.service </span><br></pre></td></tr></table></figure>



<h2 id="Nginx无法访问网页问题"><a href="#Nginx无法访问网页问题" class="headerlink" title="Nginx无法访问网页问题"></a>Nginx无法访问网页问题</h2><p><a href="https://blog.csdn.net/yujing1314/article/details/105225325">【Nginx】启动成功无法访问网页（完整的排除方案）_nginx启动成功但是无法访问-CSDN博客</a>ils&#x2F;105225325)</p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>阿里云</tag>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo优化butterfly主题配置文章版本</title>
    <url>/posts/60038/</url>
    <content><![CDATA[<h2 id="文章版面设计"><a href="#文章版面设计" class="headerlink" title="文章版面设计"></a>文章版面设计</h2><p>先来了解下文章的版面有哪些内容。</p>
<p><a href="https://blog.csdn.net/liudonglovehemin/article/details/131176749">基于Hexo和Butterfly创建个人技术博客，(9) 优化butterfly主题配置文章版本_butterfly搭建博客修改副标题-CSDN博客</a></p>
<h3 id="列表页"><a href="#列表页" class="headerlink" title="列表页"></a>列表页</h3><p>主要包括cover图、标题、摘要、meta信息，以及右侧目录结构显示，如下图所示：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/949542c847564019b2f927af79af0b3e.png" alt="在这里插入图片描述"></p>
<h3 id="详情页"><a href="#详情页" class="headerlink" title="详情页"></a>详情页</h3><p>文章详情页，主要包含三部分：头、内容、脚三部分，详细如下图所示：</p>
<h4 id="头部区"><a href="#头部区" class="headerlink" title="头部区"></a><strong>头部区</strong></h4><p>包含标题、meta信息、top图三块内容</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/29685860aadb4679bd32b4ec732b9a36.png" alt="在这里插入图片描述"></p>
<h4 id="内容区"><a href="#内容区" class="headerlink" title="内容区"></a><strong>内容区</strong></h4><p>主要包括过期提醒、编辑按钮以及文章目录。如下图是在<code>侧边栏</code>显示文章目录的例子。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/c0bf0216a0104c63b8f9ab2213d6281f.png" alt="在这里插入图片描述"></p>
<h4 id="脚部区"><a href="#脚部区" class="headerlink" title="脚部区"></a><strong>脚部区</strong></h4><p>这块的内容比较多，主要包括：版本、分享、打赏、分页、相关推荐。详细可参考下图红框内的说明：</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/22f14030dfe344d2bec747b0fea0623a.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>接下来就挨个实现上述版本面的设计</p>
</blockquote>
<h2 id="列表页-1"><a href="#列表页-1" class="headerlink" title="列表页"></a>列表页</h2><h3 id="cover封面图设计"><a href="#cover封面图设计" class="headerlink" title="cover封面图设计"></a>cover封面图设计</h3><p>也可以称为文章的缩略图片，主要在一些列表地方显示，显示顺序是:<code>文章的cover属性&gt;配置文件的 default_cover</code>，如果不需要显示设置<code>cover=false</code>。当配置多张图片时会随机选择一张作为cover。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span>  <span class="comment"># 主页是否显示文章封面图</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span> <span class="comment"># 侧栏是否显示文章封面图</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span> <span class="comment"># 归档页面是否显示文章封面图</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span> <span class="comment"># 封面顯示的位置，三個值可配置 left , right , both(一左一右)</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cn.bing.com/th?id=OHR.TeaGardensMunnar_ZH-CN9587720369_1366x768.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cn.bing.com/th?id=OHR.RichmondDeer_ZH-CN0408206629_1920x1080.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cn.bing.com/th?id=OHR.SvalbardSun_ZH-CN6108396467_1920x1080.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cn.bing.com/th?id=OHR.VictoriaMemorialKolkata_ZH-CN5801450386_1920x1080.jpg</span></span><br></pre></td></tr></table></figure>

<p>有时这里的<code>default_cover</code>不太好用，可以在文章中配置coverl图，如下：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">abbrlink: 4a17b156</span><br><span class="line"><span class="section">cover: https://file.crazywong.com/gh/jerryc127/CDN/img/Butterfly-docs-02-cover.png</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<h3 id="meta信息"><a href="#meta信息" class="headerlink" title="meta信息"></a>meta信息</h3><p>把文章的一些meta信息显示在网页上，这个信息会同时显示在列表页，也会显示在详情页上。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span> <span class="comment"># 页面meta显示</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">false</span> <span class="comment"># true or false 主頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure>

<h3 id="摘要信息"><a href="#摘要信息" class="headerlink" title="摘要信息"></a>摘要信息</h3><p>是否需要在列表或主页等缩略图的地方显示文章的概述信息，值取自<code>description</code>的值或是自动取文章前多少个字；</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span> <span class="comment"># 主页显示文章节选，1：显示描述；2、自动；3、截取一部分正文</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span></span><br></pre></td></tr></table></figure>

<p>method的可选值有4个，但建设配置为2，然后每个文章好好写写描述值，因为这与seo有关。</p>
<ul>
<li>description： 只显示escription</li>
<li>both： 优先description，如果沒有配置description，则显示自动节选的內容</li>
<li>auto_excerpt：只显示自动节选内容<br>false： 不显示文章內容</li>
</ul>
<h2 id="详情页-1"><a href="#详情页-1" class="headerlink" title="详情页"></a>详情页</h2><h3 id="头部区-1"><a href="#头部区-1" class="headerlink" title="头部区"></a>头部区</h3><h4 id="top顶图"><a href="#top顶图" class="headerlink" title="top顶图"></a>top顶图</h4><p>此处配置的是默认的top图，还可以通过文章的<code>cover</code>和<code>top_img</code>参数进行修改，如果全站不需要显示top图，可直接配置 <code>disable_top_img: true</code>，文章页頂部图的获取順序：各自配置的 <code>top_img</code> &gt; <code>cover</code> &gt; <code>配置文件的 default_top_img</code> 。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 页面顶图配置</span></span><br><span class="line"><span class="comment"># category_per_img和tag_per_img，可配置多张，每次会随机取一张</span></span><br><span class="line"><span class="comment"># format:</span></span><br><span class="line"><span class="comment">#  - category name: xxxxx</span></span><br><span class="line"><span class="attr">disable_top_img:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">default_top_img:</span> <span class="string">https://file.crazywong.com/gh/jerryc127/butterfly_cdn@2.1.0/top_img/index.jpg</span></span><br><span class="line"><span class="attr">archive_img:</span> <span class="string">https://file.crazywong.com/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg</span></span><br><span class="line"><span class="attr">tag_img:</span> <span class="string">https://file.crazywong.com/gh/jerryc127/butterfly_cdn@2.1.0/top_img/tag.png</span></span><br><span class="line"><span class="attr">tag_per_img:</span></span><br><span class="line"><span class="attr">category_img:</span> <span class="string">https://file.crazywong.com/gh/jerryc127/butterfly_cdn@2.1.0/top_img/category.jpg</span></span><br><span class="line"><span class="attr">category_per_img:</span></span><br></pre></td></tr></table></figure>

<p>以上配置中的参数值除配置图片外还可以配置以下几个选项：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">、不配置，则不显示；top_img:</span> </span><br><span class="line"><span class="number">2</span><span class="string">、url图片；top_img:</span> <span class="string">/img/top_bg.png</span></span><br><span class="line"><span class="number">3</span><span class="string">、颜色：top_img:</span> <span class="string">orange</span></span><br><span class="line"><span class="number">4</span><span class="string">、渐变色：top_img:</span> <span class="string">&#x27;linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240113152859108.png" alt="image-20240113152859108"></p>
<h3 id="内容区-1"><a href="#内容区-1" class="headerlink" title="内容区"></a>内容区</h3><h4 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h4><p>可设置是否显示文章过期提醒，以更新时间为基准。会在文章最上面提示一个弹出框说明过期信息</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># 距离更新时间多少天才显示文章过期提醒</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span>  <span class="comment"># 天数之前的文字</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span>  <span class="comment">#天数之后的文字</span></span><br></pre></td></tr></table></figure>

<h4 id="文章是否可编辑"><a href="#文章是否可编辑" class="headerlink" title="文章是否可编辑"></a>文章是否可编辑</h4><p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure>

<h4 id="文章目录显示toc设置"><a href="#文章目录显示toc设置" class="headerlink" title="文章目录显示toc设置"></a>文章目录显示toc设置</h4><p>这是一个全局配置。设置文章的目录显示。这个值可在文章的Front-matter进行覆盖。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span> <span class="comment"># 文章目录显示位置</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span> <span class="comment">#文章页是否显示 TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span> <span class="comment">#普通页面是否显示 TOC</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span> <span class="comment">#是否显示章节数</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span> <span class="comment">#是否展开 TOC</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span> <span class="comment">#是否显示滚动进度百分比</span></span><br></pre></td></tr></table></figure>



<h3 id="脚部区-1"><a href="#脚部区-1" class="headerlink" title="脚部区"></a>脚部区</h3><h4 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章底部</span></span><br><span class="line"><span class="attr">copy:</span> <span class="comment"># 复制配置，开启后复制内容后会加入版权信息</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span> <span class="comment">#复制行数多于50行时会默认添加版本信息</span></span><br><span class="line"></span><br><span class="line"><span class="attr">post_copyright:</span> <span class="comment"># 版权配置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span>  <span class="comment">#true来显示中文网址</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure>



<h4 id="打赏配置"><a href="#打赏配置" class="headerlink" title="打赏配置"></a>打赏配置</h4><p>这里可配置多个打赏二维码图片</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span> <span class="comment"># 文章底部的打赏功能</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">  <span class="comment">#    - img: https://wechat.jpg</span></span><br><span class="line">  <span class="comment">#      link:</span></span><br><span class="line">  <span class="comment">#      text: 微信</span></span><br></pre></td></tr></table></figure>

<h4 id="下一篇上一篇导航-分页"><a href="#下一篇上一篇导航-分页" class="headerlink" title="下一篇上一篇导航(分页)"></a>下一篇上一篇导航(分页)</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 推送文章分页，1表示左侧推送上一篇，2表示左侧推送上一篇</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="文章分享"><a href="#文章分享" class="headerlink" title="文章分享"></a>文章分享</h4><p>这是一个全局的配置，在你每篇文章的结尾，可以添加打赏按钮。以下配置二选一</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sharejs:</span> <span class="comment"># Share System (分享)</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span></span><br><span class="line"></span><br><span class="line"><span class="attr">addtoany:</span> <span class="comment"># Share System (分享)</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">item:</span> <span class="string">facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span></span><br></pre></td></tr></table></figure>

<h4 id="推荐文章"><a href="#推荐文章" class="headerlink" title="推荐文章"></a>推荐文章</h4><p>当文章封面设置为 false 时，或者没有获取到封面配置，相关文章背景将会显示主题色。相关文章推荐的原理是根据文章tags的比重来推荐。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示推荐文章数目</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期显示创建日或者更新日</span></span><br></pre></td></tr></table></figure>

<h2 id="其它设置"><a href="#其它设置" class="headerlink" title="其它设置"></a>其它设置</h2><h3 id="页面锚点"><a href="#页面锚点" class="headerlink" title="页面锚点"></a>页面锚点</h3><p>开启页面锚点后，当你在进行滚动时，页面链接会根据标题ID进行替换(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">anchor:</span> <span class="comment"># 开启页面锚点后，当你在进行滚动时，页面链接会根据标题ID进行替换</span></span><br><span class="line">  <span class="attr">button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">always_show:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">icon:</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="代码样式"><a href="#代码样式" class="headerlink" title="代码样式"></a>代码样式</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span> <span class="comment"># 代码高亮：darker、light、ocean、mac、pale night、mac light</span></span><br><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># 代码支持复制</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment">#代码框是否默认展开，true表示不展开，需点击 &#x27;&gt;&#x27; 打开，可选值还有none，不显示 &#x27;&gt;&#x27;</span></span><br><span class="line"><span class="attr">highlight_lang:</span> <span class="literal">true</span> <span class="comment">#是否显示语言</span></span><br><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">false</span> <span class="comment"># 代码自动换行，不会出现滚动条，但如果上传代码的人代码不规范格式可能会乱；同时也要改动_config.yml中相应高亮显示代码配置的 line_number 设置成false</span></span><br><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px，代码高度配置，超出部分会隐藏</span></span><br></pre></td></tr></table></figure>

<h3 id="图片标题"><a href="#图片标题" class="headerlink" title="图片标题"></a>图片标题</h3><p>如果开启图片Figcaption描述文字显示功能，则优先显示图片的 title 属性，然后是 alt 属性</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">true</span> </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>butterfly</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-Admin安装</title>
    <url>/posts/12373/</url>
    <content><![CDATA[<h2 id="Hexo-Admin安装"><a href="#Hexo-Admin安装" class="headerlink" title="Hexo-Admin安装"></a>Hexo-Admin安装</h2><p>参考链接：<a href="https://yaofeiliang.com/article/Hexo-Hexo-admin/">https://yaofeiliang.com/article/Hexo-Hexo-admin/</a></p>
<p>需要说明的是，hexo-admin 管理是本地用的，就是你需要在本地编辑完之后再上传到 github，而不能直接在线编辑保存，因为 github pages 只支持静态页面的；</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br><span class="line">hexo server -d</span><br><span class="line">open http://localhost:4000/admin/</span><br></pre></td></tr></table></figure>

<h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><p>hexo根目录配置文件</p>
<p>bcrypt hash生成链接：<a href="https://www.bejson.com/encrypt/bcrpyt_encode/">在线Bcrypt密码生成工具-Bejson.com</a></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">admin:</span></span><br><span class="line">   <span class="attr">username:</span> <span class="string">zoro</span></span><br><span class="line">   <span class="attr">password_hash:</span> <span class="string">be121740bf988b2225a313fa1f107ca1</span> <span class="comment"># t205456 //用户名密码不喜欢的可以不设置，这里通过bcrypt hash</span></span><br><span class="line">   <span class="attr">secret:</span> <span class="string">hey</span> <span class="string">hexo</span></span><br><span class="line">   <span class="attr">deployCommand:</span> <span class="string">&#x27;./admin_script/hexo-generate.sh&#x27;</span></span><br><span class="line">  <span class="comment"># expire: 60*1</span></span><br></pre></td></tr></table></figure>

<h3 id="命令脚本"><a href="#命令脚本" class="headerlink" title="命令脚本"></a>命令脚本</h3><p>这里的command对应于界面中的deploy按钮，在下面写上脚本，可以一键生成html页面，并提交到托管的地址，这就是hexo admin的核心思想！<br>commad后续操作：</p>
<p>在根目录新建admin_script，文件夹，进入执行：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch hexo-generate.sh;</span><br><span class="line">vim hexo-generate.sh;</span><br></pre></td></tr></table></figure>

<p>在里面加入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">hexo clean</span><br><span class="line">hexo g  -d</span><br><span class="line">//想加什么命令都可以，一键完成。</span><br></pre></td></tr></table></figure>

<p>最后，修改权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod +x hexo-generate.sh</span><br></pre></td></tr></table></figure>

<h3 id="主页中的按钮"><a href="#主页中的按钮" class="headerlink" title="主页中的按钮"></a>主页中的按钮</h3><p>还有一个publish按钮，点击的话会出现在blog相应的文件夹中，unpublish的话就会在文件夹中消失！！！！！！</p>
<ul>
<li>Post：博客文章列表，包括已经发布的和还在草稿箱等待宠幸的；</li>
<li>Pages：就是诸如标签云之类的页面管理；</li>
<li>About：关于admin插件的说明</li>
<li>Deploy：关键节点；</li>
<li>Settings：配置；</li>
</ul>
<h2 id="安装Hexo-Admin-中文版"><a href="#安装Hexo-Admin-中文版" class="headerlink" title="安装Hexo-Admin 中文版"></a>安装Hexo-Admin 中文版</h2><p><a href="https://blog.tsinbei.com/archives/1136/">安装 Hexo Admin 中文版 - 清北博客 (tsinbei.com)</a></p>
<h3 id="检查是否安装hexo-admin"><a href="#检查是否安装hexo-admin" class="headerlink" title="检查是否安装hexo-admin"></a>检查是否安装hexo-admin</h3><p>如果你已经安装了原版再安装中文版将会出现一些问题，所以建议先将原版卸载，先通过下方这个指令判断是否安装了<code>hexo-admin</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm list hexo-admin</span><br></pre></td></tr></table></figure>

<p>如果输出的内容是这样的，就说明安装了<code>hexo-admin</code>，那么就需要卸载</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1700101410.jpg" alt="hexo-admin已安装"></p>
<p>如果输出的内容是这样的，就说明没有安装<code>hexo-admin</code>，可以跳过卸载步骤</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1700101410.jpg"></p>
<p>卸载原版hexo-admin</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm remove hexo-admin</span><br></pre></td></tr></table></figure>

<p>这样就卸载完成了</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1700101420.jpg" alt="hexo-admin卸载完成"></p>
<p>安装hexo-admin中文版</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-admin-sch --save</span><br></pre></td></tr></table></figure>

<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>安装完成后，就可以启动hexo服务器看看效果了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1700101425.jpg" alt="hexo服务器启动"></p>
<p>启动后访问<code>IP:端口/admin</code>就可以看到效果了</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/1700101429.jpg" alt="使用体验"></p>
<h2 id="Hexo-Admin如何增加文章配置项？"><a href="#Hexo-Admin如何增加文章配置项？" class="headerlink" title="Hexo-Admin如何增加文章配置项？"></a>Hexo-Admin如何增加文章配置项？</h2><p>参考链接：<a href="https://blog.zhheo.com/p/5c3da709.html">https://blog.zhheo.com/p/5c3da709.html</a></p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>Hexo-admin如何增加文章配置项？自定义文章配置、在后台直接自定义封面</p>
<p>在使用Hexoadmin的时候如果要为文章插入封面就变得非常困难，有的时候不得不使用其他的文章编辑器，例如vscode等。这些编辑器虽然也是一个不错的选择，但是hexoadmin在浏览器中编辑的体验还是很不错的。</p>
<p>如何给Hexo怎么添加参数呢？在最新版本的hexo-admin中，更新了该功能。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240119100752289.png" alt="image-20240119100752289"></p>
<h3 id="添加方法"><a href="#添加方法" class="headerlink" title="添加方法"></a>添加方法</h3><p>根据官方的文档所述，在博客根目录的配置文件_config.yml中的admin配置项，我们可以定义这个metadata参数</p>
<p>以下配置就是截图的效果，可以根据你的实际情况来更改为你需要的：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">admin:</span></span><br><span class="line">   <span class="attr">username:</span> <span class="string">zoro</span></span><br><span class="line">   <span class="attr">password_hash:</span> <span class="string">be121740bf988b2225a313fa1f107ca1</span> <span class="comment"># t205456 //用户名密码不喜欢的可以不设置，这里通过bcrypt hash</span></span><br><span class="line">   <span class="attr">secret:</span> <span class="string">hey</span> <span class="string">hexo</span></span><br><span class="line">   <span class="attr">deployCommand:</span> <span class="string">&#x27;./admin_script/hexo-generate.sh&#x27;</span></span><br><span class="line">  <span class="comment"># expire: 60*1</span></span><br><span class="line"><span class="comment"># hexo-admin 默认文章参数</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">top:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">cover:</span> </span><br><span class="line">  <span class="attr">password:</span> </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>Hexo博客增加本地搜索的功能（hexo-generator-searchdb）</title>
    <url>/posts/3650/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>“hexo-generator-searchdb””插件功能更为强大，这次来介绍”hexo-generator-searchdb””，其实与”hexo-generator-search”使用的方法非常相似。</p>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><p>前往博客根目录，打开cmd命令窗口执行<code>npm install hexo-generator-searchdb --save</code>。</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>



<h2 id="注入配置"><a href="#注入配置" class="headerlink" title="注入配置"></a>注入配置</h2><p>修改站点配置文件<code>_config.yml</code>，添加或修改如下代码:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>

<p>参数说明:</p>
<ul>
<li>path -文件路径，可以生成xml和json两种格式。默认情况下是<code>search.xml</code>。如果文件扩展名为<code>.json</code>，则输出格式将为JSON。否则，将导出XML格式化文件。</li>
<li>field -您要搜索的搜索范围，您可以选择:<ul>
<li>post(默认)-仅涵盖您博客的所有文章。</li>
<li>page -将仅涵盖您博客的所有页面。</li>
<li>all -将涵盖您博客的所有文章和页面。</li>
</ul>
</li>
<li>content-是否包含每篇文章的全部内容。如果为<code>false</code>，生成的结果仅涵盖标题和创建时间这些信息，没有文章的内容。默认情况下是:<code>true</code></li>
<li>format:搜索到的内容、选项的格式。<ul>
<li>html(默认):将html原文本缩略。</li>
<li>striptags:将html 原文本缩略，并删除所有标记。</li>
<li>raw:记下每一篇文章或每一页的文字。</li>
</ul>
</li>
</ul>
<h2 id="开启搜索"><a href="#开启搜索" class="headerlink" title="开启搜索"></a>开启搜索</h2><p>在主题配置文件<code>_config.butterfly.yml</code> 中修改以下内容:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="bullet">-</span>  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">+</span>  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>重新编译运行，即可看到效果。</p>
<p>前往博客根目录，打开cmd命令窗口依次执行如下命令:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">cl</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure>

<p>搜索插件访问地址:  <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-searchdb</a>rator-search)</p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo-generator-searchdb</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客添加看板娘</title>
    <url>/posts/43162/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>不知道你们有没有这种体验，就是在逛别人的博客的时候，会在页面左下角或者右下角等界面看到一个会跟随鼠标移动而摇摆的图片动画，看起来还蛮不错，今天就为我的博客添加这样的动画效果  ——看板娘。</p>
<h2 id="普通看板娘"><a href="#普通看板娘" class="headerlink" title="普通看板娘"></a>普通看板娘</h2><p>hexo的官方是支持看板娘的，已经封装好了插件，但只是模型，不能说话、不能换装、功能较少。<br>更多详情请查看<a href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d官网</a></p>
<h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>

<h3 id="下载模型"><a href="#下载模型" class="headerlink" title="下载模型"></a>下载模型</h3><p>作者各种模型展示地址：<a href="https://huaji8.top/post/live2d-plugin-2.0/">live2d插件</a>，可选择自己喜欢的模型，然后进行下载安装<br><a href="https://github.com/xiazeyu/live2d-widget-models">模型仓库</a></p>
<ul>
<li>live2d-widget-model-chitose</li>
<li>live2d-widget-model-epsilon2_1</li>
<li>live2d-widget-model-gf</li>
<li>live2d-widget-model-haru&#x2F;01 (use npm install –save live2d-widget-model-haru)</li>
<li>live2d-widget-model-haru&#x2F;02 (use npm install –save live2d-widget-model-haru)</li>
<li>live2d-widget-model-haruto</li>
<li>live2d-widget-model-hibiki</li>
<li>live2d-widget-model-hijiki</li>
<li>live2d-widget-model-izumi</li>
<li>live2d-widget-model-koharu</li>
<li>live2d-widget-model-miku</li>
<li>live2d-widget-model-ni-j</li>
<li>live2d-widget-model-nico</li>
<li>live2d-widget-model-nietzsche</li>
<li>live2d-widget-model-nipsilon</li>
<li>live2d-widget-model-nito</li>
<li>live2d-widget-model-shizuku</li>
<li>live2d-widget-model-tororo</li>
<li>live2d-widget-model-tsumiki</li>
<li>live2d-widget-model-unitychan</li>
<li>live2d-widget-model-wanko</li>
<li>live2d-widget-model-z16</li>
</ul>
<p>使用<code>npm install &#123;packagename&#125;</code>进行安装，如：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">npm install live2d-widget-model-shizuku -S</span><br></pre></td></tr></table></figure>

<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中新增如下内容：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># enable: false</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># 第二步下载的模型</span></span><br><span class="line">    <span class="comment"># use: wanko # 博客根目录/live2d_models/ 下的目录名</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # 相对于博客根目录的路径</span></span><br><span class="line">    <span class="comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span> <span class="comment"># 手机中是否展示</span></span><br></pre></td></tr></table></figure>

<h2 id="升级看板娘-能说话、能换装"><a href="#升级看板娘-能说话、能换装" class="headerlink" title="升级看板娘(能说话、能换装)"></a>升级看板娘(能说话、能换装)</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol>
<li><p>下载<a href="https://github.com/stevenjoezhang/live2d-widget">live2d文件</a></p>
</li>
<li><p>将下载好的<code>live2d</code>文件解压到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">首先在/themes/Butterfly/source/下创建live2d-widget目录，</span><br><span class="line">然后将lived2文件解压到 项目根目录/themes/Butterfly/source/live2d-widget</span><br></pre></td></tr></table></figure>
</li>
<li><p>更改<code>live2d-widget</code>下的<code>autoload.js</code>文件。里面的内容已经写好了，注释第二行，取消第三行的注释就行了。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">注意：live2d_path</span> <span class="string">参数应使用绝对路径</span></span><br><span class="line"><span class="string">//const</span> <span class="string">live2d_path</span> <span class="string">=</span> <span class="string">&quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/&quot;</span><span class="string">;</span></span><br><span class="line"><span class="string">const</span> <span class="string">live2d_path</span> <span class="string">=</span> <span class="string">&quot;/live2d-widget/&quot;</span><span class="string">;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>更改主题配置文件<code>_config.butterfly.yml</code>:由于<code>live2d-widget</code>内部使用了<code>font-awesome</code>，所以我们需要引入</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">    <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;&gt;</span></span><br><span class="line">    <span class="string">&lt;script</span> <span class="string">src=&quot;/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>在站点配置文件<code>_config.yml</code>或者Butterfly主题配置文件<code>_config.butterfly.yml</code>中,新增如下内容：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>然后在项目根目录进行重新三连跪：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>然后就可以看到效果了。</p>
</li>
<li><p>默认看板娘是在左边，如果想要切换到右边只需要修改<code>根目录/themes/Butterfly/source/live2d-widget/waifu.css</code>:</p>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#waifu</span> &#123;</span><br><span class="line">	<span class="attribute">bottom</span>: -<span class="number">1000px</span>;</span><br><span class="line">	<span class="attribute">right</span>: <span class="number">0</span>; // 这里默认是 <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">margin-bottom</span>: -<span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">position</span>: fixed;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">3px</span>);</span><br><span class="line">	<span class="attribute">transition</span>: transform .<span class="number">3s</span> ease-in-out, bottom <span class="number">3s</span> ease-in-out;</span><br><span class="line">	<span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#waifu-tool</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#aaa</span>;</span><br><span class="line">	<span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">0px</span>; // 这里默认是 <span class="attribute">right</span>: -<span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">70px</span>;</span><br><span class="line">	<span class="attribute">transition</span>: opacity <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>Butterfily主题安装文档</title>
    <url>/posts/14518/</url>
    <content><![CDATA[<h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><p>修改项目配置文件 <code>_config.yml</code><br>默认语言是 en</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure>

<h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><p>修改 主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Menu 目錄</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">清单||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure>

<p>必须是 &#x2F;xxx&#x2F;，后面 || 分开，然后写图标名支持的图标网。<br>注意： 导航的文字可自行更改</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>代码块中的所有功能只适用于 Hexo 默认的 highlight 渲染，如果使用第三方的渲染器，不一定会有效</p>
<h3 id="代码高亮主题"><a href="#代码高亮主题" class="headerlink" title="代码高亮主题"></a>代码高亮主题</h3><blockquote>
<p>Butterfly 支持 6 种代码高亮样式, 自定义主题请查看自定义主题</p>
</blockquote>
<ul>
<li>default</li>
<li>darker</li>
<li>pale night</li>
<li>light</li>
<li>ocean</li>
<li>mac</li>
<li>mac light</li>
</ul>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure>

<h3 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h3><p>Butterfly主题支持代码复制功能。<br>修改主题配置文件<code>_config.butterfly.yml</code></p>
<h3 id="代码展开-关闭"><a href="#代码展开-关闭" class="headerlink" title="代码展开&#x2F;关闭"></a>代码展开&#x2F;关闭</h3><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击 <code>&gt;</code> 可展开代码</p>
<ul>
<li>true 全部代码框不展开，需点击 <code>&gt;</code> 打开</li>
<li>false 代码狂展开，有 <code>&gt;</code> 点击按钮</li>
<li>none 不显示 <code>&gt;</code> 按钮</li>
</ul>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#代码框不展开，需点击 &#x27;&gt;&#x27; 打开</span></span><br></pre></td></tr></table></figure>

<h3 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h3><p>在默认情况下，<code>hexo-highlight</code> 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>然后找到 Hexo 配置文件<code>_config.yml</code>，将 <code>line_number</code> 改成 <code>false</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></table></figure>



<h2 id="社交图标"><a href="#社交图标" class="headerlink" title="社交图标"></a>社交图标</h2><p>社交图标即主页上个性标签下的各种社交账号关联。</p>
<blockquote>
<p>书写格式：图标名：url || 描述性文字</p>
</blockquote>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/xxxxx</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:xxxxxx@gmail.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure>



<h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><p>顶部图有 2 种配置：具体 url 和（留空，true 和 false，三个效果一样）</p>
<h3 id="page页"><a href="#page页" class="headerlink" title="page页"></a>page页</h3><p><strong>当具体 url 时</strong></p>
<ul>
<li><p>主页的顶部图可以在主题配置文件中设置 <code>index_img</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_img: index_img:</span> <span class="string">https://bing.img.run/1920x1080.php</span>  <span class="comment"># 必应每日更新图片</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>archives 页的顶部图可以在主题配置文件中设置 <code>archive_img</code></p>
</li>
<li><p>其他 page 页的顶部图可以在各自的 md 页面设置 <code>front-matter</code> 中的 <code>top_img</code></p>
<blockquote>
<p>页面如果没有设置各自的 top_img，则会显示 default_top_img 图片</p>
</blockquote>
</li>
</ul>
<p><strong>留空， <code>true</code> 和 <code>false</code></strong><br>主页会显示纯颜色的顶部图，其他 page 的顶部图没有设置时，也会显示纯颜色的顶部图</p>
<h3 id="post页"><a href="#post页" class="headerlink" title="post页"></a>post页</h3><p>post 页的顶部图会优先显示各自<code>front-matter</code>中的<code>top_img</code>, 如果没有设置，则会缩略图（即各自 front-matter 中的 cover)，如果没有则会显示显示 <code>default_top_img</code> 图片</p>
<h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><p>要为文章置顶，你需要安装插件 (hexo-generator-index-pin-top 或者 hexo-generator-indexed)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-index-pin-top</span><br></pre></td></tr></table></figure>



<ul>
<li>如果使用 <code>hexo-generator-index-pin-top</code>, 需要先卸载掉 <code>hexo-generator-index</code>，然后在文章的 <code>front-matter</code> 区域里添加 <code>top: true</code> 属性来把这篇文章置顶</li>
<li>如果使用 <code>hexo-generator-indexed</code>, 需要先卸载掉 <code>hexo-generator-index</code>，然后在文章的 front-matter 区域里添加 <code>sticky: 1</code> 属性来把这篇文章置顶。数值越大，置顶的优先级越大</li>
</ul>
<h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><p>文章的 markdown 文档上，在 <code>Front-matter</code> 添加<code>cover</code>, 并填上要显示的图片地址。</p>
<ul>
<li>如果不配置 cover, 可以设置显示默认的 cover。</li>
<li>如果不想在首页显示 cover, 可以设置为 false。</li>
</ul>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line">  <span class="attr">default_cover:</span> <span class="comment"># 当配置多张图片时，会随机选择</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/百度127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/百度127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/百度127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></table></figure>

<h2 id="文章页相关配置"><a href="#文章页相关配置" class="headerlink" title="文章页相关配置"></a>文章页相关配置</h2><h3 id="文章meta显示"><a href="#文章meta显示" class="headerlink" title="文章meta显示"></a>文章meta显示</h3><p>这个选项是用来显示文章的相关信息的。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示标籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure>

<p>在文章详情页顶部的资料，<code>date_type</code>: 可设置文章日期显示创建日期 (created) 或者更新日期 (updated) 或者两种都显示 (both)<br><code>categories</code> 是否显示分类<br><code>tags</code> 是否显示标签</p>
<h3 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h3><p>为你的博客文章展示文章版权和许可协议。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure>

<p>如果有文章（例如：转载文章）不需要显示版权，可以在文章 Front-matter 单独设置</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">copyright: false</span><br></pre></td></tr></table></figure>

<p>从 3.0.0 开始，支持对单独文章设置版权信息，可以在文章 Front-matter 单独设置</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">copyright: true</span><br><span class="line">copyright<span class="emphasis">_author: xxxx</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href: https://xxxxxx.com</span></span><br><span class="line"><span class="emphasis">copyright_</span>url: https://xxxxxx.com</span><br><span class="line">copyright<span class="emphasis">_info: 此文章版权归xxxxx所有，如有转载，请註明来自原作者</span></span><br></pre></td></tr></table></figure>

<h3 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h3><p>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。对于没有提供二维码的，可配置一张软件的 icon 图片，然后在 link 上添加相应的打赏链接。用户点击图片就会跳转到链接去。link 可以不写，会默认为图片的链接。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/image/wechat.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">微信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/image/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">支付宝</span></span><br></pre></td></tr></table></figure>

<h3 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h3><p>相关文章推荐的原理是根据文章 tags 的比重来推荐<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示推荐文章数目</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期显示创建日或者更新日</span></span><br></pre></td></tr></table></figure>

<h3 id="文章锚点"><a href="#文章锚点" class="headerlink" title="文章锚点"></a>文章锚点</h3><p>开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题 ID 进行替换<br>(注意：每替换一次，会留下一个歷史记录。所以如果一篇文章有很多锚点的话，网页的歷史记录会很多。)<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">anchor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>



<h2 id="复制相关配置"><a href="#复制相关配置" class="headerlink" title="复制相关配置"></a>复制相关配置</h2><p>可配置网站是否可以复制、复制的内容是否添加版权信息</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否开启网站复制权限</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="comment"># 复制的内容后面加上版权信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否开启复制版权信息添加</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span> <span class="comment"># 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</span></span><br></pre></td></tr></table></figure>



<h2 id="Footer-设置"><a href="#Footer-设置" class="headerlink" title="Footer 设置"></a>Footer 设置</h2><h3 id="项目年份"><a href="#项目年份" class="headerlink" title="项目年份"></a>项目年份</h3><p>since 是一个来展示你站点起始时间的选项。它位于页面的最底部。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></table></figure>



<h3 id="页脚自定义文本"><a href="#页脚自定义文本" class="headerlink" title="页脚自定义文本"></a>页脚自定义文本</h3><p>custom_text 是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href=&quot;https://百度.me/&quot;&gt;blog&lt;/a&gt;!</span> <span class="comment"># 也叫自定义文本</span></span><br></pre></td></tr></table></figure>



<h3 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h3><p>对于部分有备案的域名，可以在 ICP 配置显示。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ICP:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">粤ICP备xxxx</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">/img/icp.png</span></span><br></pre></td></tr></table></figure>





<h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="侧边排版"><a href="#侧边排版" class="headerlink" title="侧边排版"></a>侧边排版</h3><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># 手机页面（ 显示宽度 &lt; 768px ）是否显示aside内容</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Github</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/百度127/hexo-theme-butterfly</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">  <span class="attr">card_webinfo:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="访问人数"><a href="#访问人数" class="headerlink" title="访问人数"></a>访问人数</h3><p>访问 busuanzi 的官方网站查看更多的介绍。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>



<h3 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h3><p>网页已运行时间<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">1</span><span class="string">/1/2024</span> <span class="number">00</span><span class="string">:00:00</span>  </span><br><span class="line">  <span class="comment">##网页开通时间</span></span><br><span class="line">  <span class="comment">#格式: 月/日/年 时间</span></span><br><span class="line">  <span class="comment">#也可以写成 年/月/日 时间</span></span><br></pre></td></tr></table></figure>

<h2 id="Gallery-相册图库"><a href="#Gallery-相册图库" class="headerlink" title="Gallery 相册图库"></a>Gallery 相册图库</h2><h3 id="增加图库"><a href="#增加图库" class="headerlink" title="增加图库"></a>增加图库</h3><p>图库页面只是普通的页面，你只需要 hexo n page xxxxx 创建你的页面就行</p>
<p>然后使用标签外挂 <code>galleryGroup</code> ,具体用法如下所示：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span><br><span class="line">&#123;% galleryGroup &#x27;壁纸&#x27; &#x27;收藏的一些壁纸&#x27; &#x27;/Gallery/wallpaper&#x27; https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %&#125;</span><br><span class="line">&#123;% galleryGroup &#x27;漫威&#x27; &#x27;关于漫威的图片&#x27; &#x27;/Gallery/marvel&#x27; https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup &#x27;OH MY GIRL&#x27; &#x27;关于OH MY GIRL的图片&#x27; &#x27;/Gallery/ohmygirl&#x27; https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增加图库子页面"><a href="#增加图库子页面" class="headerlink" title="增加图库子页面"></a>增加图库子页面</h3><p>子页面也是普通的页面，你只需要 hexo n page xxxxx 创建你的页面就行</p>
<p>然后使用标签外挂 <code>gallery</code>,具体用法如下所示：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">gallery</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)</span></span><br><span class="line"><span class="type">![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endgallery</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure>



<h2 id="回答问题-tag-hide"><a href="#回答问题-tag-hide" class="headerlink" title="回答问题 tag-hide"></a>回答问题 tag-hide</h2><p>如果你想把一些文字、内容隐藏起来，并提供按钮让用户点击显示。可以使用这个。</p>
<blockquote>
<p>success inline</p>
</blockquote>
<p>inline 在文本里面添加按钮隐藏内容，只限文字(content不能包含英文逗号，可用 <code>&amp;sbquo;</code>)</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">hideInline</span> <span class="string">content</span>,<span class="string">display</span>,<span class="string">bg</span>,<span class="string">color</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>content: 文本内容</li>
<li>display: 按钮显示的文字 (可选)</li>
<li>bg: 按钮的背景颜色 (可选)</li>
<li>color: 按钮文字的颜色 (可选)</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">哪个英文字母最酷？</span> &#123;<span class="string">%</span> <span class="string">hideInline</span> <span class="string">因为西装裤(C装酷)</span>,<span class="string">查看答案</span>,<span class="comment">#FF7242,#fff %&#125;</span></span><br><span class="line"><span class="string">门里站着一个人?</span> &#123;<span class="string">%</span> <span class="string">hideInline</span> <span class="string">闪</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure>

<p>哪个英文字母最酷？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看答案
  </button><span class="hide-content">因为西装裤(C装酷)</span></span></p>
<p>门里站着一个人? <span class="hide-inline"><button type="button" class="hide-button" style="">Click
  </button><span class="hide-content">闪</span></span></p>
<h2 id="绘图mermaid（饼状图、柱状图等）"><a href="#绘图mermaid（饼状图、柱状图等）" class="headerlink" title="绘图mermaid（饼状图、柱状图等）"></a>绘图mermaid（饼状图、柱状图等）</h2><p>使用 mermaid 标籤可以绘製 Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和 Pie Chart（圆形图），具体可以查看 mermaid 文档<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mermaid:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># built-in themes: default/forest/dark/neutral</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">default</span></span><br></pre></td></tr></table></figure>

<p>写法：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line"><span class="code">    title Key elements in Product X</span></span><br><span class="line"><span class="code">    &quot;Calcium&quot; : 42.96</span></span><br><span class="line"><span class="code">    &quot;Potassium&quot; : 50.05</span></span><br><span class="line"><span class="code">    &quot;Magnesium&quot; : 10.01</span></span><br><span class="line"><span class="code">    &quot;Iron&quot; :  5</span></span><br><span class="line"><span class="code">&#123;% endmermaid %&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Tabs标签页"><a href="#Tabs标签页" class="headerlink" title="Tabs标签页"></a>Tabs标签页</h2><p>使用方法：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>

<div class="tabs" id="test1"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="test1-1">test1 1</button><button type="button" class="tab " data-href="test1-2">test1 2</button><button type="button" class="tab " data-href="test1-3">test1 3</button></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>

<p>图标：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h2><p>使用方法：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line">[url]         : 链接</span><br><span class="line">[text]        : 按钮文字</span><br><span class="line">[icon]        : [可选] 图标</span><br><span class="line">[color]       : [可选] 按钮背景顔色(默认style时）</span><br><span class="line"><span class="code">                      按钮字体和边框顔色(outline时)</span></span><br><span class="line"><span class="code">                      default/blue/pink/red/purple/orange/green</span></span><br><span class="line"><span class="code">[style]       : [可选] 按钮样式 默认实心</span></span><br><span class="line"><span class="code">                      outline/留空</span></span><br><span class="line"><span class="code">[layout]      : [可选] 按钮佈局 默认为line</span></span><br><span class="line"><span class="code">                      block/留空</span></span><br><span class="line"><span class="code">[position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边</span></span><br><span class="line"><span class="code">                      center/right/留空</span></span><br><span class="line"><span class="code">[size]        : [可选] 按钮大小</span></span><br><span class="line"><span class="code">                      larger/留空</span></span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#x27;http://www.baidu.com&#x27;,百度 %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;http://www.baidu.com&#x27;,百度,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure>

<p>This is my website, click the button <a class="btn-beautify " href="http://www.baidu.com" 
  title="百度"><span>百度</span></a><br>This is my website, click the button <a class="btn-beautify " href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="http://www.baidu.com" 
  title="百度"><span>百度</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a><br>This is my website, click the button <a class="btn-beautify larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,block center larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,block right outline larger %&#125;</span><br></pre></td></tr></table></figure>

<a class="btn-beautify block" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify block center larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify block right outline larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>

<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,blue larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,pink larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,red larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,purple larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,orange larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,green larger %&#125;</span><br></pre></td></tr></table></figure>

<a class="btn-beautify larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify blue larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify pink larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify red larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify purple larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify orange larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify green larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>

<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn-center&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline blue larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline pink larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline red larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline purple larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline orange larger %&#125;</span><br><span class="line">&#123;% btn &#x27;http://www.baidu.com&#x27;,百度,far fa-hand-point-right,outline green larger %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<div class="btn-center">
<a class="btn-beautify outline larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline blue larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline pink larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline red larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline purple larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline orange larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
<a class="btn-beautify outline green larger" href="http://www.baidu.com" 
  title="百度"><i class="far fa-hand-point-right"></i><span>百度</span></a>
</div>


<h2 id="图片设置"><a href="#图片设置" class="headerlink" title="图片设置"></a>图片设置</h2><h3 id="站点图标"><a href="#站点图标" class="headerlink" title="站点图标"></a>站点图标</h3><p>站点图标又称站点icon(favicon.ico)<br>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span> <span class="string">/img/favicon.png</span> <span class="comment"># 将图片放入 themes -&gt; Butterfly -&gt; source -&gt; img 里</span></span><br></pre></td></tr></table></figure>

<h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><p>头像即是首页个人卡片处展示的自己的头像</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/avatar.png</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span> <span class="comment"># 头像会一直转圈</span></span><br></pre></td></tr></table></figure>

<h3 id="主页封面图片"><a href="#主页封面图片" class="headerlink" title="主页封面图片"></a>主页封面图片</h3><p>在访问系统首页时，出现的封面图片<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">https://gitee.com/dulily/cdn/raw/master/img/214707-1543326427a764.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="文章详情页的顶部图片"><a href="#文章详情页的顶部图片" class="headerlink" title="文章详情页的顶部图片"></a>文章详情页的顶部图片</h3><p>当没有在front-matter设置top_img和cover的情况下会显示该图<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_top_img:</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-08-21/5f3f3d10b054e.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="归档页顶部的图片"><a href="#归档页顶部的图片" class="headerlink" title="归档页顶部的图片"></a>归档页顶部的图片</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">archive_img:</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-07-24/5f1a7c9533901.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="标签页顶部的图片"><a href="#标签页顶部的图片" class="headerlink" title="标签页顶部的图片"></a>标签页顶部的图片</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">tag_img:</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-07-24/5f1a7c9533901.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="分类页顶部的图片"><a href="#分类页顶部的图片" class="headerlink" title="分类页顶部的图片"></a>分类页顶部的图片</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">category_img:</span> <span class="string">http://pic.netbian.com/uploads/allimg/170609/123945-14969831856c4d.jpg</span></span><br></pre></td></tr></table></figure>

<h3 id="文章封面-1"><a href="#文章封面-1" class="headerlink" title="文章封面"></a>文章封面</h3><p>文章封面<br>每篇文章都可以设置一张封面，可以为每篇文章设置默认封面<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span> <span class="comment">#  是否展示文章封面</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span> <span class="comment"># 封面展示的位置 left/right/both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认展示的文章封面</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br><span class="line">    <span class="comment"># 当配置多张图片时，会随机选择一张作为 cover. 此时写法为</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-07-08/5f056636a92cf_270_185.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-08-17/5f39f8e53b026_270_185.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-07-23/5f19587122afa_270_185.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-07-22/5f17b43d50c03_270_185.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">http://pic1.win4000.com/wallpaper/2020-08-14/5f363d07a24be_270_185.jpg</span></span><br></pre></td></tr></table></figure>

<p>也可以修改每个<code>md文件</code>的<code>front-matter</code>的<code>cover</code>属性，会覆盖上面的默认封面。</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">cover: https://cn.bing.com/th?id=OHR.WeinstadelNuernberg<span class="emphasis">_ZH-CN6448054345_</span>1920x1080.jpg # 文章封面图</span><br></pre></td></tr></table></figure>

<h3 id="错误图片"><a href="#错误图片" class="headerlink" title="错误图片"></a>错误图片</h3><p>配置了该属性后会替换无法展示的图片<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">error_img:</span></span><br><span class="line">  <span class="attr">flink:</span> <span class="string">/img/friend_404.gif</span></span><br><span class="line">  <span class="attr">post_page:</span> <span class="string">/img/404.jpg</span></span><br></pre></td></tr></table></figure>

<h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>要为 <code>Butterfly</code> 配上字数统计特性，你需要如下几个步骤:</p>
<ul>
<li>打开 hexo 工作目录</li>
<li><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></li>
<li>修改主题配置文件<code>_config.butterfly.yml</code>：</li>
</ul>
<h2 id="文章节选"><a href="#文章节选" class="headerlink" title="文章节选"></a>文章节选</h2><p>主页文章节选，也就是文章摘要<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># 节选文章的前500个字</span></span><br></pre></td></tr></table></figure>

<h2 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h2><p>只能选择一个分享服务商</p>
<h3 id="AddThis"><a href="#AddThis" class="headerlink" title="AddThis"></a>AddThis</h3><p>访问 <a href="https://www.addthis.com/">AddThis</a>官网, 找到你的 pub-id</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo-theme-butterfly-doc-addthis.jpg" alt="img"></p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">addThis:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line">  <span class="attr">pubid:</span> <span class="string">你的pub-id</span></span><br></pre></td></tr></table></figure>

<h3 id="sharejs"><a href="#sharejs" class="headerlink" title="sharejs"></a>sharejs</h3><p>如果你不知道 <a href="https://github.com/overtrue/share.js/">sharejs</a>，到官网看看说明吧。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span>  <span class="comment">#想要显示的内容</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo-theme-butterfly-doc-sharejs.png" alt="img"></p>
<h3 id="AddToAny"><a href="#AddToAny" class="headerlink" title="AddToAny"></a>AddToAny</h3><p>可以到 <a href="https://www.addtoany.com/">AddToAny</a> 查看使用说明。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item:</span> <span class="string">facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo-theme-butterfly-doc-addtoany.png" alt="img"></p>
<h2 id="广告"><a href="#广告" class="headerlink" title="广告"></a>广告</h2><h3 id="谷歌广告"><a href="#谷歌广告" class="headerlink" title="谷歌广告"></a>谷歌广告</h3><p>主题已集成谷歌广告（自动广告）<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_adsense:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_ads:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span></span><br><span class="line">  <span class="attr">client:</span> <span class="comment"># 填入个人识别码</span></span><br><span class="line">  <span class="attr">enable_page_level_ads:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>



<h3 id="手动广告"><a href="#手动广告" class="headerlink" title="手动广告"></a>手动广告</h3><p>主题预留了三个位置可供插入广告，分别为主页文章 (每三篇文章出现广告)&#x2F;aside 公告之后 &#x2F; 文章页打赏之后。，把 html 代码填写到对应的位置<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ad:</span></span><br><span class="line">  <span class="attr">index:</span></span><br><span class="line">  <span class="attr">aside:</span></span><br><span class="line">  <span class="attr">post:</span></span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index:</span> <span class="string">&lt;ins</span> <span class="string">class=&quot;adsbygoogle&quot;</span> <span class="string">style=&quot;display:block&quot;</span> <span class="string">data-ad-format=&quot;fluid&quot;</span> <span class="string">data-ad-layout-key=&quot;xxxxxxxxxxxx&quot;</span> <span class="string">data-ad-client=&quot;ca-pub-xxxxxxxxxx&quot;</span> <span class="string">data-ad-slot=&quot;xxxxxxxxxx&quot;&gt;&lt;/ins&gt;&lt;script&gt;(adsbygoogle=window.adsbygoogle||[]).push(&#123;&#125;)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111151724553.png" alt="image-20240111151724553"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111151742441.png" alt="image-20240111151742441"></p>
<h2 id="美化-特效"><a href="#美化-特效" class="headerlink" title="美化&#x2F;特效"></a>美化&#x2F;特效</h2><h3 id="自定义主题色"><a href="#自定义主题色" class="headerlink" title="自定义主题色"></a>自定义主题色</h3><p>可以修改大部分 UI 颜色<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#49B1F5&quot;</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">&quot;#99a9bf&quot;</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">&quot;#F47466&quot;</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">&quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111152559878.png" alt="image-20240111152559878"></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111152354628.png" alt="image-20240111152354628"></p>
<h3 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h3><p>默认显示白色，可设置图片或者颜色<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></table></figure>

<p>留意: 如果你的网站根目录不是’&#x2F;‘, 使用本地图片时，需加上你的根目录。<br>例如：网站是 <a href="https://yoursite.com/blog">https://yoursite.com/blog</a>, 引用一张 <code>img/xx.png</code> 图片，则设置 <code>background</code> 为 <code>url (/blog/img/xx.png)</code><br>background: url(<a href="https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png">https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png</a>)</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111152747353.png" alt="image-20240111152747353"></p>
<h3 id="footer-背景"><a href="#footer-背景" class="headerlink" title="footer 背景"></a>footer 背景</h3><p>footer 的背景会与 top_img 的一致，当设置 false 时，将与主题色一致。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># footer是否显示图片背景(与top_img一致)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111153038402.png" alt="image-20240111153038402"></p>
<h3 id="打字效果"><a href="#打字效果" class="headerlink" title="打字效果"></a>打字效果</h3><p>打字效果 activate-power-mode<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖动特效)</span></span><br></pre></td></tr></table></figure>

<h3 id="背景特效"><a href="#背景特效" class="headerlink" title="背景特效"></a>背景特效</h3><h4 id="静止彩带"><a href="#静止彩带" class="headerlink" title="静止彩带"></a>静止彩带</h4><p>好看的彩带背景，可设置每次刷新更换彩带，或者每次点击更换彩带<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#设置是否每次点击都更换綵带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure>

<p>相关配置可查看 <a href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111153327396.png" alt="image-20240111153327396"></p>
<h4 id="动态彩带"><a href="#动态彩带" class="headerlink" title="动态彩带"></a>动态彩带</h4><p>好看的彩带背景，会飘动<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon_piao:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111153758755.png" alt="image-20240111153758755"></p>
<h4 id="canvas-nest"><a href="#canvas-nest" class="headerlink" title="canvas-nest"></a>canvas-nest</h4><p>好看的星空例子特效，会飘动<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111153805756.png" alt="image-20240111153805756"></p>
<h3 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h3><h4 id="烟花"><a href="#烟花" class="headerlink" title="烟花"></a>烟花</h4><p>zIndex 建议只在 -1 和 9999 上选<br>-1 代表烟火效果在底部<br>9999 代表烟火效果在前面<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br></pre></td></tr></table></figure>



<h4 id="爱心"><a href="#爱心" class="headerlink" title="爱心"></a>爱心</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现爱心</span></span><br><span class="line"><span class="attr">click_heart:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>



<h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">I</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">LOVE</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">YOU</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br></pre></td></tr></table></figure>



<h3 id="页面美化"><a href="#页面美化" class="headerlink" title="页面美化"></a>页面美化</h3><p>会改变 ol、ul、h1-h5 的样式<br>field 配置生效的区域</p>
<ul>
<li>post 只在文章页生效</li>
<li>site 在全站生效<br>修改主题配置文件<code>_config.butterfly.yml</code>：</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 美化页面显示</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure>

<p>未开启美化</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111154834548.png" alt="image-20240111154834548"></p>
<p>开启美化</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111154917396.png" alt="image-20240111154917396"></p>
<h3 id="自定义字体和字体大小"><a href="#自定义字体和字体大小" class="headerlink" title="自定义字体和字体大小"></a>自定义字体和字体大小</h3><h4 id="全局字体"><a href="#全局字体" class="headerlink" title="全局字体"></a>全局字体</h4><p>可自行设置字体的 <code>font-family</code><br>如不需要配置，请留空<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span></span><br><span class="line">  <span class="attr">code-font-size:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">&quot;Segoe UI&quot;</span><span class="string">,</span> <span class="string">&quot;Helvetica Neue&quot;</span><span class="string">,</span> <span class="string">Lato,</span> <span class="string">Roboto,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure>

<h4 id="Blog-标题字体"><a href="#Blog-标题字体" class="headerlink" title="Blog 标题字体"></a>Blog 标题字体</h4><p>可自行设置字体的 <code>font-family</code><br>如不需要配置，请留空<br>如不需要使用网络字体，只需要把 font_link 留空就行<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> <span class="string">https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Titillium</span> <span class="string">Web,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft JhengHei&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft YaHei&#x27;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure>

<h3 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h3><p>可设置主页中显示的网站副标题或者喜欢的座右铭。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页subtitle</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 打字效果</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 循环或者只打字一次</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># source调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用</span></span><br><span class="line">  <span class="comment"># source: 1  调用搏天api的随机语录（简体） https://api.btstu.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  调用一言网的一句话（简体） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 3  调用一句网（简体） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 4  调用今日诗词（简体） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的内容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果有英文逗号&#x27; , &#x27;,请使用转义字元 &amp;#44;</span></span><br><span class="line">  <span class="comment"># 如果有英文双引号&#x27; &quot; &#x27;,请使用转义字元 &amp;quot;</span></span><br><span class="line">  <span class="comment"># 开头不允许转义字元，如需要，请把整个句子用双引号包住</span></span><br><span class="line">  <span class="comment"># 例如 ”&amp;quotNever put off till tomorrow what you can do today&amp;quot&quot;</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，subtitle只会显示sub的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">今日事&amp;#44;今日毕</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Never</span> <span class="string">put</span> <span class="string">off</span> <span class="string">till</span> <span class="string">tomorrow</span> <span class="string">what</span> <span class="string">you</span> <span class="string">can</span> <span class="string">do</span> <span class="string">today</span></span><br></pre></td></tr></table></figure>

<h3 id="主页-top-img-显示大小"><a href="#主页-top-img-显示大小" class="headerlink" title="主页 top_img 显示大小"></a>主页 top_img 显示大小</h3><p>默认的显示为全屏。<code>site-info</code> 的区域会居中显示<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页设置</span></span><br><span class="line"><span class="comment"># 默认top_img全屏，site_info在中间</span></span><br><span class="line"><span class="comment"># 使用默认, 都无需填写（建议默认）</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># 主页标题距离顶部距离  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#主页top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure>

<p>注意：index_top_img_height 的值不能使用百分比。</p>
<p>2 个都不填的话，会使用默认值</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240111155324806.png" alt="image-20240111155324806"></p>
<h3 id="页面加载动画-preloader"><a href="#页面加载动画-preloader" class="headerlink" title="页面加载动画 preloader"></a>页面加载动画 preloader</h3><p>当进入网页时，因为加载速度的问题，可能会导致 top_img 图片出现断层显示，或者网页加载不全而出现等待时间，开启 preloader 后，会显示加载动画，等页面加载完，加载动画会消失。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="图片大图查看模式"><a href="#图片大图查看模式" class="headerlink" title="图片大图查看模式"></a>图片大图查看模式</h2><h3 id="fancybox"><a href="#fancybox" class="headerlink" title="fancybox"></a>fancybox</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="medium-zoom"><a href="#medium-zoom" class="headerlink" title="medium_zoom"></a>medium_zoom</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="Snackbar-弹窗"><a href="#Snackbar-弹窗" class="headerlink" title="Snackbar 弹窗"></a>Snackbar 弹窗</h2><p>Snackbar 弹窗，根据自己爱好开启<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#49b1f5&#x27;</span> <span class="comment">#light mode时弹窗背景</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#2d3035&#x27;</span> <span class="comment">#dark mode时弹窗背景</span></span><br></pre></td></tr></table></figure>

<h2 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax"></a>Pjax</h2><p>当用户点击链接，通过 ajax 更新页面需要变化的部分，然后使用 HTML5 的 pushState 修改浏览器的 URL 地址。<br>这样可以不用重复加载相同的资源（css&#x2F;js）， 从而提升网页的加载速度。<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 如果你有使用hexo-douban，可配置这个</span></span><br><span class="line"><span class="attr">pjax:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/music/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/no-pjax/</span></span><br></pre></td></tr></table></figure>

<h2 id="Inject"><a href="#Inject" class="headerlink" title="Inject"></a>Inject</h2><p>如想添加额外的 js&#x2F;css&#x2F;meta 等等东西，可以在 Inject 里添加，支持添加到 head (</body> 标籤之前) 和 bottom (</html> 标籤之前)。<br>请注意：以标準的 html 格式添加内容<br>修改主题配置文件<code>_config.butterfly.yml</code>：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/self.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>留意: 如果你的网站根目录不是’&#x2F;‘, 使用本地图片时，需加上你的根目录。<br>例如：网站是 <a href="https://creammint.cn/">https://creammint.cn/</a>, 引用 css&#x2F;xx.css，则设置为 </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/blog/css/xx<span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure>

<hr>
<p>参考链接：<a href="https://dulily.gitee.io/posts/22836fb8-5935-11eb-ba6a-a5e2f242e8b2/#AddThisddThis">https://dulily.gitee.io/posts/22836fb8-5935-11eb-ba6a-a5e2f242e8b2/#AddThisddThis</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>butterfily</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo增加关于、标签、分类、归档页面</title>
    <url>/posts/39917/</url>
    <content><![CDATA[<h2 id="增加关于页面"><a href="#增加关于页面" class="headerlink" title="增加关于页面"></a>增加关于页面</h2><p>使用: <code>hexo new page &quot;about&quot;</code> 命令新建一个<code>关于</code>页面。修改博客的<code>_config.yml</code>文件中的menu配置项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span>                   <span class="comment"># 主页</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories</span>   <span class="comment"># 分类</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives</span>       <span class="comment"># 归档</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags</span>               <span class="comment"># 标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about</span>             <span class="comment"># 关于（添加此行即可）</span></span><br></pre></td></tr></table></figure>

<p>编辑about关于页面md文件部署后就能看到了</p>
<h2 id="增加标签页面"><a href="#增加标签页面" class="headerlink" title="增加标签页面"></a>增加标签页面</h2><p>使用: <code>hexo new page &quot;tags&quot;</code> 命令新建一个<code>标签</code>页面。修改博客的<code>_config.yml</code>文件中的menu配置项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span>                   <span class="comment"># 主页</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories</span>   <span class="comment"># 分类</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives</span>       <span class="comment"># 归档</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags</span>               <span class="comment"># 标签（添加此行即可）</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about</span>             <span class="comment"># 关于</span></span><br></pre></td></tr></table></figure>

<p>编辑tags标签页面md文件部署后就能看到了</p>
<p>以下代码是一篇包含<code>标签</code>文章的例子:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">标签测试</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">First</span> <span class="string">Tag</span>                 <span class="string">（这个就是文章的标签）</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Another</span> <span class="string">Tag</span>               <span class="string">（这个就是文章的标签）</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<p>你会找到source&#x2F;tags&#x2F;index.md这个文件</p>
<p>修改这个文件:记得添加type: “tags”</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">标签</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-01-05 00:00:00</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>



<h2 id="增加分类页面"><a href="#增加分类页面" class="headerlink" title="增加分类页面"></a>增加分类页面</h2><p>使用: <code>hexo new page &quot;categories&quot;</code>新建一个<code>分类</code>页面。修改博客的<code>_config.yml</code>文件中的menu配置项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span>                   <span class="comment"># 主页</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories</span>   <span class="comment"># 分类（添加此行即可）</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives</span>       <span class="comment"># 归档</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags</span>               <span class="comment"># 标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about</span>             <span class="comment"># 关于</span></span><br></pre></td></tr></table></figure>

<p>编辑categories标签页面md文件部署后就能看到了</p>
<p>以下代码是一篇包含<code>分类</code>文章的例子:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">分类测试</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Hexo</span>                      <span class="string">（这个就是文章的分类）</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<p>你会找到source&#x2F;categories&#x2F;index.md这个文件</p>
<p>修改这个文件:记得添加type: “tags”</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">标签</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-01-05 00:00:00</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>



<h2 id="增加归档页面"><a href="#增加归档页面" class="headerlink" title="增加归档页面"></a>增加归档页面</h2><p>修改博客的<code>_config.yml</code>文件中的menu配置项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span>                   <span class="comment"># 主页</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories</span>   <span class="comment"># 分类</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives</span>       <span class="comment"># 归档（添加此行即可）</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags</span>               <span class="comment"># 标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about</span>             <span class="comment"># 关于</span></span><br></pre></td></tr></table></figure>

<p>编辑archives标签页面md文件部署后就能看到了</p>
<h2 id="增加自定义页面"><a href="#增加自定义页面" class="headerlink" title="增加自定义页面"></a>增加自定义页面</h2><p>使用: <code>hexo new page &quot;custom&quot;</code>新建一个<code>自定义</code>页面。主题的<code>_config.yml</code>文件中的menu配置项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span>                   <span class="comment"># 主页</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories</span>   <span class="comment"># 分类</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives</span>       <span class="comment"># 归档</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags</span>               <span class="comment"># 标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about</span>             <span class="comment"># 关于</span></span><br><span class="line">  <span class="attr">custom:</span> <span class="string">/custom</span>           <span class="comment"># 自定义（添加此行即可）</span></span><br></pre></td></tr></table></figure>

<p>编辑custom标签页面md文件部署后就能看到了就能看到了</p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>hexo博客加载时报错‘prism_plugin‘</title>
    <url>/posts/22942/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>使用命令hexo c &amp; hexo g &amp; hexo s运行hexo时出现一下报错（只截取了部分）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR Plugin load failed: hexo-prism-plugin</span><br><span class="line">Error: `prism_plugin` options should be added to _config.yml file</span><br></pre></td></tr></table></figure>

<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>在hexo的文件目录下的_config.yml里的最后加上下面的代码（注意：不是主题下面的 _config.yml）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">prism_plugin:</span><br><span class="line">  mode: &#x27;preprocess&#x27; # realtime/preprocess</span><br><span class="line">  theme: &#x27;default&#x27;</span><br><span class="line">  line_number: false # default false</span><br></pre></td></tr></table></figure>



<p>default false</p>
<pre><code>

</code></pre>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>bug</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo增加Valine评论系统</title>
    <url>/posts/45310/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Hexo 博客支持的评论系统其实有很多，本站选用了 Valine，选择原因:轻量级、访问速度快、配置过程简单，以上三个原因足够我选择它了。</p>
<p>Valine 评论系统的配置其实很简单，在这里就简单介绍一下。</p>
<h2 id="操作流程"><a href="#操作流程" class="headerlink" title="操作流程"></a>操作流程</h2><ol>
<li><p>注册帐号<br>在LeanCloud官网<a href="https://www.leancloud.cn/">LeanCloud</a> 免费注册一个帐号，注册后需要实名认证即可使用不同的服务了。</p>
</li>
<li><p>创建应用</p>
<ul>
<li>点击左上角LeanCloud后选择创建应用</li>
<li>填写应用名称</li>
<li>默认选择开发版</li>
<li>自行选择是否填写应用描述</li>
<li>最后点击创建按钮</li>
</ul>
</li>
<li><p>修改配置</p>
<p>打开<code>_config.butterfly.yml</code>配置，找到 valine 配置，修改 <code>appid</code> 和 <code>appkey</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># valine</span></span><br><span class="line"><span class="comment"># https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">请在这里填写你的appId</span> <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">请在这里填写你的appKey</span> <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">&quot;嘿，别忘了留下你的小脚印哦！&quot;</span>  <span class="comment"># 评论框的默认填充</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment">#每一页显示的评论条数</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure>

<p>同时修改选择的评论系统为 <code>Valine</code> 即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Valine</span> <span class="comment"># 请在这里选择你的评论系统类型：Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>重新生成博客系统即可看到效果</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">cl</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="评论页面美化"><a href="#评论页面美化" class="headerlink" title="评论页面美化"></a>评论页面美化</h2><ol>
<li><p>配置 LeanCloud（因为某些原因需要绑定域名才能使用）并获取 appID 和 appKey: 具体参照 valine 文档。</p>
</li>
<li><p>填写主题配置文件相应项:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-CN</span> <span class="comment"># i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">昵称栏输入QQ获取头像，快输入你的吐槽吧(</span> <span class="string">￣▽￣)σ</span> <span class="comment"># valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># valine comment header info (nick/mail/link)</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Record reviewer IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">emojiCDN:</span> <span class="comment"># emoji CDN</span></span><br><span class="line">  <span class="attr">enableQQ:</span> <span class="literal">true</span> <span class="comment"># enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line">  <span class="attr">requiredFields:</span> <span class="string">nick,mail</span> <span class="comment"># required fields (nick/mail)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>添加标签<br>添加博主 访客 小伙伴 标签：<br>更换成魔改过的 <code>Valine.min.js</code>:<br>可以直接修改主题配置文件后面# comments 项的 valine 子项链接为 <a href="https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js">https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</a><br>或者可以下载到博客 theme&#x2F;butterfly&#x2F;source&#x2F;js 目录下并更换 valine 子项链接为 &#x2F;js&#x2F;Valine.min.js</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># comments</span></span><br><span class="line"><span class="attr">gitalk:</span> <span class="string">https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js</span></span><br><span class="line"><span class="attr">gitalk_css:</span> <span class="string">https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css</span></span><br><span class="line"><span class="comment">#valine:  https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js</span></span><br><span class="line"><span class="attr">valine:</span>  <span class="string">/js/Valine.min.js</span> <span class="comment">#https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</span></span><br><span class="line"><span class="attr">disqusjs:</span> <span class="string">https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqus.js</span></span><br><span class="line"><span class="attr">disqusjs_css:</span> <span class="string">https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqusjs.css</span></span><br><span class="line"><span class="attr">utterances:</span> <span class="string">https://utteranc.es/client.js</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 themes\butterfly\layout\includes\third-party\comments\ 路径下 valine.pug</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"> <span class="string">script.</span></span><br><span class="line"><span class="string">function</span> <span class="string">loadValine</span> <span class="string">()</span> &#123;</span><br><span class="line">  <span class="string">function</span> <span class="string">initValine</span> <span class="string">()</span> &#123;</span><br><span class="line">    <span class="string">let</span> <span class="string">initData</span> <span class="string">=</span> &#123;</span><br><span class="line">      <span class="attr">el:</span> <span class="string">&#x27;#vcomment&#x27;</span>,</span><br><span class="line">      <span class="attr">appId:</span> <span class="string">&#x27;#&#123;theme.valine.appId&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">appKey:</span> <span class="string">&#x27;#&#123;theme.valine.appKey&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">placeholder:</span> <span class="string">&#x27;#&#123;theme.valine.placeholder&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">&#x27;#&#123;theme.valine.avatar&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">meta:</span> <span class="string">&#x27;#&#123;theme.valine.guest_info &#125;&#x27;</span><span class="string">.split(&#x27;</span>,<span class="string">&#x27;),</span></span><br><span class="line"><span class="string">      pageSize: &#x27;</span><span class="comment">#&#123;theme.valine.pageSize&#125;&#x27;,</span></span><br><span class="line">      <span class="attr">lang:</span> <span class="string">&#x27;#&#123;theme.valine.lang&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">recordIP:</span> <span class="comment">#&#123;theme.valine.recordIP&#125;,</span></span><br><span class="line">      <span class="attr">serverURLs:</span> <span class="string">&#x27;#&#123;theme.valine.serverURLs&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">emojiCDN:</span> <span class="string">&#x27;#&#123;theme.valine.emojiCDN&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">emojiMaps:</span> <span class="string">!</span>&#123;<span class="string">emojiMaps</span>&#125;,</span><br><span class="line">      <span class="attr">enableQQ:</span> <span class="comment">#&#123;theme.valine.enableQQ&#125;,</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">window.location.pathname</span>,</span><br><span class="line">      <span class="string">//-添加博主</span> <span class="string">小伙伴</span> <span class="string">访客标签新增修改：</span></span><br><span class="line">      <span class="attr">master:</span> <span class="string">&#x27;&#x27;</span>, <span class="string">//博主邮箱md5</span> <span class="string">可使用网站</span> <span class="string">https://md5jiami.51240.com/</span> <span class="string">进行转换</span></span><br><span class="line">      <span class="attr">friends:</span> [<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>], <span class="string">//小伙伴邮箱md5</span></span><br><span class="line">      <span class="attr">tagMeta:</span> [<span class="string">&quot;博主&quot;</span>,<span class="string">&quot;小伙伴&quot;</span>,<span class="string">&quot;访客&quot;</span>],</span><br><span class="line">      <span class="string">//-</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>主题配置文件 valine 项：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-CN</span> <span class="comment"># i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">昵称栏输入QQ获取头像，快输入你的吐槽吧(</span> <span class="string">￣▽￣)σ</span> <span class="comment"># valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># valine comment header info (nick/mail/link)</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Record reviewer IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">emojiCDN:</span> <span class="comment"># emoji CDN</span></span><br><span class="line">  <span class="attr">enableQQ:</span> <span class="literal">true</span> <span class="comment"># enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line">  <span class="attr">requiredFields:</span> <span class="string">nick,mail</span> <span class="comment"># required fields (nick/mail)</span></span><br><span class="line">  <span class="comment">#新增</span></span><br><span class="line">  <span class="attr">metaPlaceholder:</span></span><br><span class="line">    <span class="attr">nick:</span> <span class="string">昵称/QQ号(必填)</span></span><br><span class="line">    <span class="attr">mail:</span> <span class="string">邮箱(必填)</span></span><br><span class="line">    <span class="attr">link:</span> <span class="string">网址(https://)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>美化评论背景</p>
</li>
</ol>
<p>定义一个myStyle.css放在下面的目录中</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240112152209550.png" alt="image-20240112152209550"></p>
<p>现在我们在主题文件中引入这个文件</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/myStyle.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>在css中写入下面的代码，这里作者的图片放到了css同级目录下的img下，大家也可以直接放超链接,建议大家放动图，这样有感觉吧</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#veditor</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/valineBg.gif</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: right;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">resize</span>: vertical</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面的这一行代码，当鼠标聚焦的时候，背景图消失，大家可以选择使用</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#veditor</span><span class="selector-pseudo">:focus</span>&#123;</span><br><span class="line">    <span class="attribute">background-position</span>-y: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="增加QQ头像"><a href="#增加QQ头像" class="headerlink" title="增加QQ头像"></a>增加QQ头像</h2><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><strong>Valine 1.4.4版本js地址：</strong></p>
<p><a href="https://cdn.jsdelivr.net/gh/GamerNoTitle/Valine-Magic@master/js/1.0.1/valine.min.js">https://cdn.jsdelivr.net/gh/GamerNoTitle/Valine-Magic@master/js/1.0.1/valine.min.js</a></p>
<p>此版本已修改，可直接套用；</p>
<p>具体修改如下：</p>
<p>打开Valine.min.js，<code>ctrl+F</code>快速查找关键词：（valine1.4.4版）</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">E.cdn+(0,s.default)(t.get(&quot;mail&quot;))+E.params</span></span><br></pre></td></tr></table></figure>

<p>定位到：</p>
<p><img src="https://img-blog.csdnimg.cn/20200415233510896.png" alt="在这里插入图片描述"></p>
<p>稍加换行如图所示：(换行按分号换行)</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/20200415233640821.png" alt="在这里插入图片描述"></p>
<p>添加部分：（在前一个分号后）</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">//var</span> <span class="string">qq_img</span> <span class="string">=</span> <span class="string">m.cdn</span> <span class="string">+</span> <span class="string">a(e.get(&quot;mail&quot;))</span> <span class="string">+</span> <span class="string">m.params;</span></span><br><span class="line"><span class="string">var</span> <span class="string">qq_img</span> <span class="string">=</span> <span class="string">E.cdn+(0,s.default)(t.get(&quot;mail&quot;))+E.params;</span></span><br><span class="line"><span class="string">if</span> <span class="string">(t.get(&quot;mail&quot;).indexOf(&quot;@qq.com&quot;)</span> <span class="string">&gt;=</span> <span class="number">0</span><span class="string">)</span> &#123;</span><br><span class="line">	<span class="string">var</span> <span class="string">prefix</span> <span class="string">=</span> <span class="string">t.get(&quot;mail&quot;).replace(/@.*/</span>, <span class="string">&quot;&quot;</span><span class="string">);//前缀</span></span><br><span class="line">	<span class="string">var</span> <span class="string">pattern</span> <span class="string">=</span> <span class="string">/^\d+$/g;</span>  <span class="string">//正则表达式</span></span><br><span class="line">	<span class="string">var</span> <span class="string">result</span> <span class="string">=</span> <span class="string">prefix.match(pattern);//match</span> <span class="string">是匹配的意思</span></span><br><span class="line">	<span class="string">if</span> <span class="string">(result</span> <span class="type">!==</span> <span class="literal">null</span><span class="string">)</span> &#123;</span><br><span class="line">		<span class="string">qq_img</span> <span class="string">=</span> <span class="string">&quot;//q1.qlogo.cn/g?b=qq&amp;nk=&quot;</span> <span class="string">+</span> <span class="string">prefix</span> <span class="string">+</span> <span class="string">&quot;&amp;s=100&quot;</span><span class="string">;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/20200415234049994.png" alt="在这里插入图片描述"></p>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/image-20240124094524521.png" alt="image-20240124094524521"></p>
<h2 id="评论框美化"><a href="#评论框美化" class="headerlink" title="评论框美化"></a>评论框美化</h2><p><a href="https://immmmm.com/valine-diy/">Valine 评论框美化及功能优化：：木木木木木 (immmmm.com)</a></p>
<p>新建一个custom.css文件，增加如下修改：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* valine评论输入框背景*/</span></span><br><span class="line"><span class="selector-id">#veditor</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/valineBg.gif</span>);</span><br><span class="line">    <span class="comment">/*填写你的图片地址*/</span></span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: right;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">resize</span>: vertical</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*评论框背景图输入时隐藏*/</span></span><br><span class="line"><span class="selector-id">#veditor</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>-y: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*隐藏markdown按钮*/</span></span><br><span class="line"><span class="selector-class">.vcol</span><span class="selector-class">.vcol-30</span> &#123;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*隐藏valine按钮*/</span></span><br><span class="line"><span class="selector-class">.vpower</span><span class="selector-class">.txt-right</span> &#123;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">44px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.veditor</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">7rem</span>;</span><br><span class="line">    <span class="attribute">resize</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vinput</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span> <span class="selector-class">.vctrl</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span> <span class="selector-class">.col</span><span class="selector-class">.col-80</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span> <span class="selector-class">.vctrl</span> <span class="selector-tag">span</span><span class="selector-class">.vpreview-btn</span>,</span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span> <span class="selector-class">.col</span><span class="selector-class">.col-20</span>,</span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vlist</span> <span class="selector-class">.vcard</span> <span class="selector-class">.vhead</span> <span class="selector-class">.vsys</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">520px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vheader</span> <span class="selector-class">.vinput</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">33.33%</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">5px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改主题配置文件<code>_config.butterfly.yml</code>，插入css文件；</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="自定义表情"><a href="#自定义表情" class="headerlink" title="自定义表情"></a>自定义表情</h2><p><a href="https://blog.2broear.com/notes/11-04-2020_valine-emoji-addon">Valine – 自定义表情包（多组） | 2BROEAR - 2B博客</a></p>
<h3 id="为-Valine-添加自定义表情包"><a href="#为-Valine-添加自定义表情包" class="headerlink" title="为 Valine 添加自定义表情包"></a>为 Valine 添加自定义表情包</h3><p>众所周知<a href="https://blog.2broear.com/notes"> Valine </a>自带<a href="https://blog.2broear.com/notes"> emojis 表情</a>是满足不了一颗折腾的心的&#x2F;doge，除了使用网上dalao集成好的 Valine.js 外，还可以采取自己动手丰衣足食的做法。</p>
<h3 id="Valine-js-v1-4-3-版本已于4月11日更新后支持表情包"><a href="#Valine-js-v1-4-3-版本已于4月11日更新后支持表情包" class="headerlink" title="Valine.js v1.4.3 版本已于4月11日更新后支持表情包"></a>Valine.js v1.4.3 版本已于4月11日更新后支持表情包</h3><p>Valine 自带的表情组是一个数组对象，那我们就从这个入手；</p>
<h3 id="自定义内容需要了解部分基础的-js-操作"><a href="#自定义内容需要了解部分基础的-js-操作" class="headerlink" title="自定义内容需要了解部分基础的 js 操作"></a>自定义内容需要了解部分基础的 js 操作</h3><p>注意，以下思路可能并不适用于，要做到真正的自定义还是需要根据个人需求来操作，这里只是个人的思路。</p>
<ol>
<li>首先定位到 e.exports ，进行emoji表情自定义修改（将对象改为普通数组，该数组的数量会与第二个表情包的数量同步）<ul>
<li>删除原有 {key:value} 对象，</li>
<li>添加表情包数组 [key]（数量自定义）</li>
</ul>
</li>
<li>定位到r.prototype.bind &#x3D; function(e) ，<ul>
<li>添加切换按钮 ii，添加初始变量 ESwitch （用于判断 ESwitch 的值来进行表情包切换）</li>
<li>在原有默认表情下（r）i标签下，再 u.create 一个 （rs）img标签并为其 src 赋值（图片库路径）</li>
<li>通过判断 ESwitch 的默认值来判断默认显示的表情包</li>
</ul>
</li>
<li>定位到t.emoji &#x3D; { show: function() ，<ul>
<li>添加额外的点击调用函数 t.semoji</li>
<li>调用内部，通过点击时判断一个调用（r）也就是默认的i标签，另一个调用（rs）也就是自定义的img标签</li>
</ul>
</li>
<li>定位到 u.on(“click”, i,function(e) {<ul>
<li>绑定点击事件（对应点击调用函数）</li>
</ul>
</li>
</ol>
<h2 id="valine评论设置邮件通知和valine-admin后台管理"><a href="#valine评论设置邮件通知和valine-admin后台管理" class="headerlink" title="valine评论设置邮件通知和valine-admin后台管理"></a>valine评论设置邮件通知和valine-admin后台管理</h2><p><a href="https://cloud.tencent.com/developer/article/2122077">valine评论设置邮件通知和valine-admin后台管理-腾讯云开发者社区-腾讯云 (tencent.com)</a></p>
<h4 id="云引擎部署"><a href="#云引擎部署" class="headerlink" title="云引擎部署"></a>云引擎部署</h4><p>leancloud国际版进入后台，【云引擎】-》【部署】-》选择Git部署，输入<code>Valine-Admin</code>项目地址，保存，手动部署。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">https://github.com/DesertsP/Valine-Admin</span></span><br></pre></td></tr></table></figure>

<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/bd40d82bf3fb45b4ab02bb57e0aa7860.png" alt="https://s.imgkb.xyz/abcdocker/2022/08/30/25a0565930021/25a0565930021.png"></p>
<h4 id="添加变量"><a href="#添加变量" class="headerlink" title="添加变量"></a>添加变量</h4><p>添加一大批环境变量，这里有些要注意的点。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/779404afd646de9f86d60c12ec872285.png" alt="https://s.imgkb.xyz/abcdocker/2022/08/30/e068a055e993f/e068a055e993f.png"></p>
<p>详细说明如下：</p>
<table>
<thead>
<tr>
<th align="left">变量</th>
<th align="left">示例</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SITE_NAME</td>
<td align="left">Cream薄荷糖的博客</td>
<td align="left">[必填] 博客名称</td>
</tr>
<tr>
<td align="left">SITE_URL</td>
<td align="left"><a href="https://kingpo.netlify.app/">https://kingpo.netlify.app/</a></td>
<td align="left">[必填] 首页地址</td>
</tr>
<tr>
<td align="left">SMTP_SERVICE</td>
<td align="left">QQ</td>
<td align="left">[必填] 邮件服务提供商，参照 Supported services</td>
</tr>
<tr>
<td align="left">SMTP_USER</td>
<td align="left"><a href="mailto:&#120;&#120;&#x78;&#x78;&#x78;&#120;&#x40;&#x71;&#113;&#46;&#x63;&#111;&#109;">&#120;&#120;&#x78;&#x78;&#x78;&#120;&#x40;&#x71;&#113;&#46;&#x63;&#111;&#109;</a></td>
<td align="left">[必填] SMTP 用户名</td>
</tr>
<tr>
<td align="left">SMTP_PASS</td>
<td align="left">ccxxxxxxxxch</td>
<td align="left">[必填] SMTP 授权码（非邮箱独立密码！），参照客户端设置：<a href="https://www.zhihu.com/tardis/sogou/ans/2616660809">邮箱授权码</a></td>
</tr>
<tr>
<td align="left">SENDER_NAME</td>
<td align="left">Cream薄荷糖</td>
<td align="left">[必填] 发件人</td>
</tr>
<tr>
<td align="left">SENDER_EMAIL</td>
<td align="left"><a href="mailto:&#120;&#120;&#x78;&#120;&#120;&#120;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#109;">&#120;&#120;&#x78;&#120;&#120;&#120;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#109;</a></td>
<td align="left">[必填] 发件邮箱</td>
</tr>
<tr>
<td align="left">MAIL_SUBJECT</td>
<td align="left">${PARENT_NICK}，您在${SITE_NAME}上的评论收到了回复</td>
<td align="left">[必填]@通知邮件主题（标题）模板</td>
</tr>
<tr>
<td align="left">MAIL_TEMPLATE</td>
<td align="left">填下文MAIL_TEMPLATE代码块</td>
<td align="left">[必填]@通知邮件内容模板</td>
</tr>
<tr>
<td align="left">MAIL_SUBJECT_ADMIN</td>
<td align="left">${SITE_NAME}上有新评论了</td>
<td align="left">[必填] 博主邮件通知主题模板</td>
</tr>
<tr>
<td align="left">MAIL_TEMPLATE_ADMIN</td>
<td align="left">填下文MAIL_TEMPLATE_ADMIN代码块</td>
<td align="left">[必填] 博主邮件通知内容模板</td>
</tr>
<tr>
<td align="left">SMTP_HOST</td>
<td align="left">smtp.qq.com</td>
<td align="left">[必填] SMTP_SERVICE 留空时，自定义 SMTP 服务器地址</td>
</tr>
<tr>
<td align="left">SMTP_PORT</td>
<td align="left">465或587，参照 POP3 与 SMTP</td>
<td align="left">[必填] SMTP_SERVICE 留空时，自定义 SMTP 端口</td>
</tr>
<tr>
<td align="left">SMTP_SECURE</td>
<td align="left">true</td>
<td align="left">[选填] SMTP_SERVICE 留空时填写</td>
</tr>
<tr>
<td align="left">BLOGGER_EMAIL</td>
<td align="left"><a href="mailto:&#x78;&#120;&#x78;&#120;&#120;&#x40;&#x67;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;">&#x78;&#120;&#x78;&#120;&#120;&#x40;&#x67;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;</a></td>
<td align="left">[选填] 博主通知收件地址，默认使用 SENDER_EMAIL</td>
</tr>
<tr>
<td align="left">ADMIN_URL</td>
<td align="left"><a href="https://lean.kinpo.eu.org/">https://lean.kinpo.eu.org/</a></td>
<td align="left">评论管理后台地址</td>
</tr>
<tr>
<td align="left">COMMENT</td>
<td align="left"></td>
<td align="left">新评论内容</td>
</tr>
<tr>
<td align="left">NICK</td>
<td align="left"></td>
<td align="left">新评论者昵称</td>
</tr>
<tr>
<td align="left">PARENT_COMMENT</td>
<td align="left"></td>
<td align="left">父级评论内容</td>
</tr>
<tr>
<td align="left">PARENT_NICK</td>
<td align="left"></td>
<td align="left">收件人昵称（被@者，父级评论人）</td>
</tr>
<tr>
<td align="left">POST_URL</td>
<td align="left"></td>
<td align="left">评论文章地址（完整路径）</td>
</tr>
</tbody></table>
<ul>
<li><strong><code>MAIL_TEMPLATE</code>代码块：</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 10px 10px 10px 10px;font-size:13px; color: #555555;width: 666px;font-family:&#x27;Century Gothic&#x27;,&#x27;Trebuchet MS&#x27;,&#x27;Hiragino Sans GB&#x27;,微软雅黑,&#x27;Microsoft Yahei&#x27;,Tahoma,Helvetica,Arial,&#x27;SimSun&#x27;,sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;color:#257db9&quot;</span>&gt;</span>您在<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none;color:#257db9&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;SITE_URL&#125;&quot;</span>&gt;</span>「Kingpo&#x27;s Note」<span class="tag">&lt;/<span class="name">a</span>&gt;</span>上的留言有新回复啦！<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:40px auto;width:90%&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>亲爱的 <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color:#7777ff&quot;</span>&gt;</span>$&#123;PARENT_NICK&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 同学，您曾在该页面/文章：<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;&quot;</span>&gt;</span> </span><br><span class="line">    $&#123;POST_URL&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>发布了以下评论：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>$&#123;PARENT_COMMENT&#125; <span class="tag">&lt;/<span class="name">b</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>刚刚，用户 <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color:#7777ff&quot;</span>&gt;</span>$&#123;NICK&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 给您的回复如下：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>$&#123;COMMENT&#125;<span class="tag">&lt;/<span class="name">b</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>您可以点击 <span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none; color:#12addb&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;POST_URL&#125;#comments&quot;</span>&gt;</span>查看回复的完整內容<span class="tag">&lt;/<span class="name">a</span>&gt;</span>，欢迎再次光临<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none; color:#9fefaf&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;SITE_URL&#125;&quot;</span>&gt;</span> $&#123;SITE_NAME&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span>。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;<span class="attribute">text-decoration</span>:none&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">center</span>&gt;</span> </span><br><span class="line">  Powered by LeanCloud</span><br><span class="line"><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  Copyright <span class="symbol">&amp;copy;</span> 2022 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://kingpo.netlify.app&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:auto;&quot;</span>&gt;</span>六月长河<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://kingpo.netlify.app&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:70px !important;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://kingpo.netlify.app/images/avatar.png&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">center</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>MAIL_TEMPLATE_ADMIN</code>代码块：</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 0px;&quot;</span>&gt;</span>您在<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none;color: #12ADDB;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;SITE_URL&#125;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>$&#123;SITE_NAME&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span>上的文章有了新的评论<span class="tag">&lt;/<span class="name">h2</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>$&#123;NICK&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>回复说：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;</span>&gt;</span></span><br><span class="line">    $&#123;COMMENT&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> 您可以点击<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none; color:#12addb&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;POST_URL&#125;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>查看回复的完整內容<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>评论页面为<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>$&#123;POST_URL&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里注意，**<code>MAIL_TEMPLATE_ADMIN</code>代码块：** 和 <strong><code>MAIL_TEMPLATE</code>代码块：</strong> 两个模板的内容不要搞反，我参考<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://deserts.io/valine-admin-document/&source=article&objectId=2122077">valine-admin-document&#x2F;</a>发现是填反了，会报错，报错日志如下 !</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/e82b6da7acb30730507420e1c6541fce.png" alt="https://s.imgkb.xyz/abcdocker/2022/08/30/9c835599213b5/9c835599213b5.png"></p>
<h4 id="绑定自定义域名"><a href="#绑定自定义域名" class="headerlink" title="绑定自定义域名"></a>绑定自定义域名</h4><p>这里需要绑定自定义域名一个域名，它是你后台评论管理的地址，在你定义的<a href="https://cloud.tencent.com/product/cns?from_column=20065&from=20065">域名解析</a>中添加一条CNAME记录。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/3dc72d202811f34b3ffda9ee7704785c.png" alt="https://s.imgkb.xyz/abcdocker/2022/08/30/3ffa42977f820/3ffa42977f820.png"></p>
<h4 id="评论管理"><a href="#评论管理" class="headerlink" title="评论管理"></a>评论管理</h4><p>绑定自定义域名后，第1步也部署好后，即可进行评论管理。</p>
<p>首次使用需要先<a href="https://cloud.tencent.com/product/cam?from_column=20065&from=20065">访问管理</a>员注册页面<code>https://绑定的域名/sign-up</code>，注册管理员登录信息，然后直接使用域名就可以登录了。功能也比较简单，标记垃圾评论，删除，跳转查看。</p>
<h4 id="定时任务设置"><a href="#定时任务设置" class="headerlink" title="定时任务设置"></a>定时任务设置</h4><p>因为leancloud免费版本提供的实例，有休眠策略，如果没有请求，会自动休眠。为了保持实例一直在线，我们可以设置定时任务函数来来唤醒。</p>
<p><img src="https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/9200afd6b79c0e00d0dbc7177d18a037.png" alt="https://s.imgkb.xyz/abcdocker/2022/08/31/84b8963c89ba4/84b8963c89ba4.png"></p>
<ul>
<li><strong>两个定时任务函数设置</strong></li>
</ul>
<p>参看<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://deserts.io/valine-admin-document/%23%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%AE%BE%E7%BD%AE&source=article&objectId=2122077">Valine Admin 配置手册定时任务设置</a></p>
<ul>
<li><strong>利用github actions设置定时</strong></li>
</ul>
<p>设置定时任务函数，很多人运行几天后会遇到leancloud平台因为流控原因无法激活定时唤醒任务的问题。</p>
<p>另一种方式是利用github actions中的workflow定时执行命令访问leancloud的web域名，实现唤醒。</p>
<p>仓库-&gt;settings-&gt;secrets-&gt;actions-&gt;New repository secret Name: DOMAIN Value: 你的web域名</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&#x27;wake comment system&#x27;</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&#x27;7,33,53 0-15,23 * * *&#x27;</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">bot:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">curl</span> <span class="string">-sLo</span> <span class="string">/dev/null</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DOMAIN</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>



<hr>
<p>参考文章：</p>
<p><a href="https://zsyyblog.com/f01faa9c.html">https://zsyyblog.com/f01faa9c.html</a></p>
<p><a href="https://valine.js.org/configuration.html">https://valine.js.org/configuration.html</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/581640626">https://zhuanlan.zhihu.com/p/581640626</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>valine</tag>
      </tags>
  </entry>
  <entry>
    <title>在Hexo中添加豆瓣个人主页</title>
    <url>/posts/46282/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一个在 <a href="https://hexo.io/">Hexo</a> 页面中嵌入豆瓣个人主页的小插件。</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>hexo-douban 目前升级到了 2.x 版本，将原先由插件客户端自行获取数据的逻辑抽到了一个隐藏的服务端中进行，以统一解决数据获取、数据缓存、风控对抗等问题，提高页面生成的成功率和效率。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-douban --save</span><br></pre></td></tr></table></figure>



<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里(不是主题的配置文件).</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">id:</span> <span class="number">209637606</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">item_per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">meta_max_line:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">customize_layout:</span> <span class="string">page</span></span><br><span class="line">  <span class="attr">book:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">books/index.html</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my book title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my book quote&#x27;</span></span><br><span class="line">    <span class="attr">option:</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">movies/index.html</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my movie title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my movie quote&#x27;</span></span><br><span class="line">    <span class="attr">option:</span></span><br><span class="line">  <span class="attr">game:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">games/index.html</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my game title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my game quote&#x27;</span></span><br><span class="line">    <span class="attr">option:</span></span><br><span class="line">  <span class="attr">song:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">songs/index.html</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my song title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my song quote&#x27;</span></span><br><span class="line">    <span class="attr">option:</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span> </span><br></pre></td></tr></table></figure>



<ul>
<li><strong>id</strong>: 你的豆瓣ID(纯数字格式，不是自定义的域名)。获取方法可以参考<a href="https://www.zhihu.com/question/19634899">怎样获取豆瓣的数字 ID ？</a></li>
<li><strong>builtin</strong>: 是否将<code>hexo douban</code>命令默认嵌入进<code>hexo g</code>、<code>hexo s</code>，使其自动执行<code>hexo douban</code> 命令。默认关闭。</li>
<li><strong>item_per_page</strong>: 每页展示的条目数，默认 10 。</li>
<li><strong>meta_max_line</strong>: 每个条目展示的详细信息的最大行数，超过该行数则会以 “…” 省略，默认 4 。</li>
<li><strong>customize_layout</strong>: 自定义布局文件。默认值为 page 。无特别需要，留空即可。若配置为 <code>abcd</code>，则表示指定 <code>//theme/hexo-theme/layout/abcd.ejs</code> 文件渲染豆瓣页面。</li>
<li><strong>path</strong>: 生成页面后的路径，默认生成在 &#x2F;&#x2F;yourblog&#x2F;books&#x2F;index.html 等下面。如需自定义路径，则可以修改这里。</li>
<li><strong>title</strong>: 该页面的标题。</li>
<li><strong>quote</strong>: 写在页面开头的一段话,支持html语法。</li>
<li><strong>timeout</strong>: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li>
<li><strong>option</strong>: 该页面额外的 Front-matter 配置，参考<a href="https://hexo.io/docs/front-matter.html">Hexo 文档</a>。无特别需要，留空即可。</li>
</ul>
<p>如果只想显示某一个页面(比如movie)，那就把其他的配置项注释掉即可。</p>
<h3 id="Butterfly-主题中使用-hexo-douban-插件"><a href="#Butterfly-主题中使用-hexo-douban-插件" class="headerlink" title="Butterfly 主题中使用 hexo-douban 插件"></a>Butterfly 主题中使用 hexo-douban 插件</h3><p><strong>添加到菜单中</strong><br>如果上面的页面显示都无问题的话，就可以在主题的配置文件 <code>_config.butterfly.yml</code> 中为这些页面添加菜单链接了</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">娱乐||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">    <span class="string">书籍:</span> <span class="string">/books/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-book</span></span><br></pre></td></tr></table></figure>

<p>并且修改主题配置文件 <code>_config.butterfly.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If you are using hexo-douban, you can configure it (如果你有使用 hexo-douban,可配置這個)</span></span><br><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">movies_img:</span> <span class="string">https://cn.bing.com/th?id=OHR.LightPainting_ZH-CN8824196181_1920x1080.jpg</span></span><br><span class="line">  <span class="attr">books_img:</span> <span class="string">https://cn.bing.com/th?id=OHR.MistyTor_ZH-CN7520952555_1920x1080.jpg</span></span><br><span class="line">  <span class="attr">games_img:</span> <span class="string">https://cn.bing.com/th?id=OHR.ZugspitzeGipfelstation_ZH-CN6120971585_1920x1080.jpg</span></span><br></pre></td></tr></table></figure>



<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><strong>展示帮助文档</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">hexo</span> <span class="string">douban</span> <span class="string">-h</span></span><br><span class="line"><span class="attr">Usage:</span> <span class="string">hexo</span> <span class="string">douban</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Description:</span></span><br><span class="line"><span class="string">Generate</span> <span class="string">pages</span> <span class="string">from</span> <span class="string">douban</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Options:</span></span><br><span class="line">  <span class="string">-b,</span> <span class="string">--books</span>   <span class="string">Generate</span> <span class="string">douban</span> <span class="string">books</span> <span class="string">only</span></span><br><span class="line">  <span class="string">-g,</span> <span class="string">--games</span>   <span class="string">Generate</span> <span class="string">douban</span> <span class="string">games</span> <span class="string">only</span></span><br><span class="line">  <span class="string">-m,</span> <span class="string">--movies</span>  <span class="string">Generate</span> <span class="string">douban</span> <span class="string">movies</span> <span class="string">only</span></span><br><span class="line">  <span class="string">-s,</span> <span class="string">--songs</span>   <span class="string">Generate</span> <span class="string">douban</span> <span class="string">songs</span> <span class="string">only</span></span><br></pre></td></tr></table></figure>



<p><strong>主动生成豆瓣页面</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">$ hexo douban</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  0 (wish), 0 (do),0 (collect) game loaded in 729 ms</span><br><span class="line">INFO  0 (wish), 0 (do),20 (collect) song loaded in 761 ms</span><br><span class="line">INFO  2 (wish), 0 (do),136 (collect) book loaded in 940 ms</span><br><span class="line">INFO  30 (wish), 0 (do),6105 (collect) movie loaded in 4129 ms</span><br><span class="line">INFO  Generated: books/index.html</span><br><span class="line">INFO  Generated: movies/index.html</span><br><span class="line">INFO  Generated: games/index.html</span><br><span class="line">INFO  Generated: songs/index.html</span><br></pre></td></tr></table></figure>



<p>如果不加参数，那么默认参数为<code>-bgms</code>。当然，前提是配置文件中均有这些类型的配置。</p>
<p><strong>需要注意的是</strong>，通常大家都喜欢用<code>hexo d</code>来作为<code>hexo deploy</code>命令的简化，但是当安装了<code>hexo douban</code>之后，就不能用<code>hexo d</code>了，因为<code>hexo douban</code>跟<code>hexo deploy</code> 的前缀都是<code>hexo d</code>。</p>
<p>如果 builtin:false 时，执行 hexo g 之后发现将 douban 生成的页面删除了:</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded in 343 ms</span><br><span class="line">INFO  Deleted: games/index.html</span><br><span class="line">INFO  Deleted: books/index.html</span><br><span class="line">INFO  Deleted: movies/index.html</span><br><span class="line">INFO  Deleted: songs/index.html</span><br></pre></td></tr></table></figure>



<p>那么重新执行 hexo clean 一下即可（原因是 db.json 的数据缓存）。</p>
<p>第一次使用 hexo douban 时，后台会异步进行数据获取，一般需要等待一段时间（后台访问你的标记页面）才能查到数据。顺利情况下，平均一个页面会花10s。</p>
<p>例如如果你有 150 个想读、150个已读、150个在读的图书，每页15条，则共需要翻30页。那么大约需要等待 30*10&#x2F;60&#x3D;5 分钟。如果长时间没有更新（一天以上），请及时提 issue 反馈。</p>
<p>后续如果你的豆瓣数据更新了，hexo douban 同样也会自动进行更新（同样需要等待一段时间才会查到更新数据），不过出于安全考虑，一个用户id<strong>每半小时至多只会同步一次</strong>。</p>
<p>由于豆瓣本身深分页的 RT 过高（上万条目的翻页 RT 会到 15s 到 60s），为了防止系统同步压力过大，每个用户的每一类条目最多只会同步 1w 条。</p>
<h2 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h2><p>官方会不定期更新一些功能或者修改一些Bug，所以如果想使用最新的特性，可以用下面的方法来更新:</p>
<ol>
<li>修改 package.json 内 hexo-douban 的版本号至最新</li>
<li>重新安装最新版本<code>npm install hexo-douban --save</code></li>
</ol>
<p>或者使用<code>npm install hexo-douban --update --save</code>直接更新。</p>
<h2 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h2><p>如果上面的配置和操作都没问题，就可以在生成站点之后打开 <code>//yourblog/books</code> 和 <code>//yourblog/movies</code>, <code>//yourblog/games</code>, 来查看结果。</p>
<h2 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h2><p>如果上面的显示没有问题就可以在主题的配置文件 <code>_config.yml</code> 里添加如下配置来为这些页面添加菜单链接.</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="attr">Books:</span> <span class="string">/books</span>     <span class="comment">#This is your books page</span></span><br><span class="line">  <span class="attr">Movies:</span> <span class="string">/movies</span>   <span class="comment">#This is your movies page</span></span><br><span class="line">  <span class="attr">Games:</span> <span class="string">/games</span>   <span class="comment">#This is your games page</span></span><br><span class="line">  <span class="attr">Songs:</span> <span class="string">/songs</span>   <span class="comment">#This is your songs page</span></span><br></pre></td></tr></table></figure>



<h2 id="通用环境"><a href="#通用环境" class="headerlink" title="通用环境"></a>通用环境</h2><p>如果有非 hexo 环境的部署需求，则可以考虑以引入静态资源的方式接入 <a href="https://github.com/mythsman/idouban">idouban</a> 。</p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>如果仅仅想对自己的豆瓣数据进行备份，可以尝试使用下面的接口，复用后端维护的数据提取服务 <a href="https://github.com/mythsman/mouban">mouban</a> ：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将 &#123;your_douban_id&#125; 改为你的豆瓣数字ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户录入/更新</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/check_user?id=&#123;your_douban_id&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询用户的读书评论</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_book?id=&#123;your_douban_id&#125;&amp;action=wish</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_book?id=&#123;your_douban_id&#125;&amp;action=do</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_book?id=&#123;your_douban_id&#125;&amp;action=collect</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询用户的电影评论</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_movie?id=&#123;your_douban_id&#125;&amp;action=wish</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_movie?id=&#123;your_douban_id&#125;&amp;action=do</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_movie?id=&#123;your_douban_id&#125;&amp;action=collect</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询用户的游戏评论</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_game?id=&#123;your_douban_id&#125;&amp;action=wish</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_game?id=&#123;your_douban_id&#125;&amp;action=do</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_game?id=&#123;your_douban_id&#125;&amp;action=collect</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询用户的音乐评论</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_song?id=&#123;your_douban_id&#125;&amp;action=wish</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_song?id=&#123;your_douban_id&#125;&amp;action=do</span></span><br><span class="line"></span><br><span class="line"><span class="string">https://mouban.mythsman.com/guest/user_song?id=&#123;your_douban_id&#125;&amp;action=collect</span></span><br></pre></td></tr></table></figure>



<hr>
<p>参考链接：<a href="https://github.com/mythsman/hexo-douban?tab=readme-ov-filee">https://github.com/mythsman/hexo-douban?tab=readme-ov-filee</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>douban</tag>
      </tags>
  </entry>
  <entry>
    <title>在Hexo中生成唯一的文章链接地址</title>
    <url>/posts/46879/</url>
    <content><![CDATA[<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>Hexo生成博客文章的链接时，默认格式为：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span> <span class="comment"># 年：月：日：标题</span></span><br></pre></td></tr></table></figure>

<p>如果标题中含中文的话，复制URL链接的话中文字符就会是一大串编码字符。</p>
<p>如果想为每一篇文章生成唯一ID(链接地址)的话，推荐使用<code>hexo-abbrlink</code>或<code>hexo-uuid</code></p>
<h2 id="hexo-abbrlink"><a href="#hexo-abbrlink" class="headerlink" title="hexo-abbrlink"></a>hexo-abbrlink</h2><p>在博客根目录下运行命令安装 <code>hexo-abbrlink</code> 插件</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-abbrlink</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure>

<p>修改配置文件 <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br></pre></td></tr></table></figure>

<p>hexo clean -&gt; hexo g -&gt; hexo s在本地查看效果</p>
<p><a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink官方文档</a>中还介绍了其他配置，可以参考和自行修改。</p>
<h2 id="hexo-uuid"><a href="#hexo-uuid" class="headerlink" title="hexo-uuid"></a>hexo-uuid</h2><p>在博客根目录下运行命令安装<code>hexo-uuid</code>插件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-uuid --save</span><br></pre></td></tr></table></figure>

<p>修改配置文件 <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:uuid/</span></span><br></pre></td></tr></table></figure>

<p>hexo clean -&gt; hexo g -&gt; hexo s在本地查看效果</p>
<p><a href="https://github.com/chekun/hexo-uuid">hexo-uuid官方文档</a>中还介绍了其他配置，可以参考和自行修改。</p>
<hr>
<p>参考链接：<a href="https://zsyyblog.com/562734ea.htmlg.com/562734ea.html">https://zsyyblog.com/562734ea.htmlg.com/562734ea.html</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
</search>
