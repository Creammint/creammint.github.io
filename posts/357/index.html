<!DOCTYPE html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>基于Hexo的静态博客网站搭建并部署至云服务器 | Cream薄荷糖</title><meta name=author content=Cream薄荷糖><meta name=copyright content=Cream薄荷糖><meta name=format-detection content="telephone=no"><meta name=theme-color content=ffffff><meta name=description content=Hexo部署到自己的云服务器上，流程和一些问题处理记录，Hexo系列合辑（持续更新中......）><meta property=og:type content=article><meta property=og:title content=基于Hexo的静态博客网站搭建并部署至云服务器><meta property=og:url content=https://creammint.github.io/posts/357/index.html><meta property=og:site_name content=Cream薄荷糖><meta property=og:description content=Hexo部署到自己的云服务器上，流程和一些问题处理记录，Hexo系列合辑（持续更新中......）><meta property=og:locale content=zh_CN><meta property=og:image content="https://cn.bing.com/th?id=OHR.Yellowstone150_ZH-CN0551084440_1920x1080.jpg"><meta property=article:published_time content=2024-01-25T01:40:59.281Z><meta property=article:modified_time content=2024-01-27T06:21:54.138Z><meta property=article:author content=Cream薄荷糖><meta property=article:tag content=阿里云><meta property=article:tag content=服务器><meta name=twitter:card content=summary><meta name=twitter:image content="https://cn.bing.com/th?id=OHR.Yellowstone150_ZH-CN0551084440_1920x1080.jpg"><link rel="shortcut icon" href=/img/icon.png><link rel=canonical href=https://creammint.github.io/posts/357/index.html><link rel=preconnect href=//cdnjs.cloudflare.com><link rel=preconnect href=//busuanzi.ibruce.info><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.32/fancybox/fancybox.min.css media=print onload='this.media="all"'><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"",enable_page_level_ads:"true"})</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:50,languages:{author:"作者: Cream薄荷糖",link:"链接: ",source:"来源: Cream薄荷糖",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体中文",cht_to_chs:"你已切换为简体中文",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdnjs.cloudflare.com/ajax/libs/egjs-infinitegrid/4.11.0/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"基于Hexo的静态博客网站搭建并部署至云服务器",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-01-27 14:21:54"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach((e=>{n.setAttribute(e,t[e])})),document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)})),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><span id=fps></span><link rel=stylesheet href=/css/myStyle.css><link rel=stylesheet href=/css/indexpage.css><link rel=stylesheet href=//at.alicdn.com/t/c/font_4411658_vfy0a3tbi8.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=/css/custom.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/footer.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/todolist.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/yituliu.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/cat.css><link rel=stylesheet href=/css/progress_bar.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/heartbeat.css><link rel=stylesheet href=/css/universe.css><link rel=stylesheet href=/css/readPercent.css><link rel=stylesheet href=https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css><div id=myscoll></div><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><link rel=stylesheet href=/css/runtime.css media=print onload='this.media="all"'><meta name=generator content="Hexo 7.0.0"></head><body><div id=loading-box onclick=document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)><div class=loading-bg><div class=loading-img></div><div class=loading-image-dot></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()}))</script><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",(()=>{Pace.restart()}))</script><link rel=stylesheet href=/css/progress_bar.css><script src=https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js></script><div id=web_bg></div><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img is-center"><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/basicdata_img%2Favatar.webp onerror='onerror=null,src="/img/friend_404.gif"' alt=avatar></div><div class="sidebar-site-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>18</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>15</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>7</div></a></div><hr class=custom-hr><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw iconfont icon-icon-svg-04"></i> <span>首页</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>博文</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/archives/ ><i class="fa-fw iconfont icon-shijianchuo"></i> <span>归档</span></a></li><li><a class="site-page child" href=/tags/ ><i class="fa-fw iconfont icon-biaoqian1"></i> <span>标签</span></a></li><li><a class="site-page child" href=/categories/ ><i class="fa-fw iconfont icon-iconkuozhan_fenleipre"></i> <span>分类</span></a></li><li><a class="site-page child" href=/comments/ ><i class="fa-fw iconfont icon-liuyanban"></i> <span>留言板</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/music/ ><i class="fa-fw iconfont icon-yinle"></i> <span>音乐</span></a></li><li><a class="site-page child" href=/Gallery/ ><i class="fa-fw iconfont icon-tupian"></i> <span>照片</span></a></li><li><a class="site-page child" href=/movies/ ><i class="fa-fw iconfont icon-caidanicondianyinghui"></i> <span>电影</span></a></li><li><a class="site-page child" href=/books/ ><i class="fa-fw iconfont icon-ziliaoku"></i> <span>书籍</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>朋友圈</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/link/ ><i class="fa-fw iconfont icon-pengyou1"></i> <span>友链</span></a></li><li><a class="site-page child" href=/todolist/ ><i class="fa-fw iconfont icon-pengyou1"></i> <span>ToDo</span></a></li></ul></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw iconfont icon-guanyu"></i> <span>关于</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yingyongguanliyuanguanli"></i> <span>Admin</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/admin/ ><i class="fa-fw iconfont icon-yingyongguanliyuanguanli"></i> <span>Hexo-Admin</span></a></li></ul></div></div></div></div><div class=post id=body-wrap><header class=not-top-img id=page-header><nav id=nav><span id=blog-info><a href=/ title=Cream薄荷糖><span class=site-name>Cream薄荷糖</span></a></span><div id=menus><div id=search-button><a class="site-page social-icon search" href=javascript:void(0);><i class="fas fa-search fa-fw"></i></a></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw iconfont icon-icon-svg-04"></i> <span>首页</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>博文</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/archives/ ><i class="fa-fw iconfont icon-shijianchuo"></i> <span>归档</span></a></li><li><a class="site-page child" href=/tags/ ><i class="fa-fw iconfont icon-biaoqian1"></i> <span>标签</span></a></li><li><a class="site-page child" href=/categories/ ><i class="fa-fw iconfont icon-iconkuozhan_fenleipre"></i> <span>分类</span></a></li><li><a class="site-page child" href=/comments/ ><i class="fa-fw iconfont icon-liuyanban"></i> <span>留言板</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/music/ ><i class="fa-fw iconfont icon-yinle"></i> <span>音乐</span></a></li><li><a class="site-page child" href=/Gallery/ ><i class="fa-fw iconfont icon-tupian"></i> <span>照片</span></a></li><li><a class="site-page child" href=/movies/ ><i class="fa-fw iconfont icon-caidanicondianyinghui"></i> <span>电影</span></a></li><li><a class="site-page child" href=/books/ ><i class="fa-fw iconfont icon-ziliaoku"></i> <span>书籍</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule"></i> <span>朋友圈</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/link/ ><i class="fa-fw iconfont icon-pengyou1"></i> <span>友链</span></a></li><li><a class="site-page child" href=/todolist/ ><i class="fa-fw iconfont icon-pengyou1"></i> <span>ToDo</span></a></li></ul></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw iconfont icon-guanyu"></i> <span>关于</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yingyongguanliyuanguanli"></i> <span>Admin</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/admin/ ><i class="fa-fw iconfont icon-yingyongguanliyuanguanli"></i> <span>Hexo-Admin</span></a></li></ul></div></div><div id=toggle-menu><a class=site-page href=javascript:void(0);><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class=layout id=content-inner><div id=post><div id=post-info><h1 class=post-title>基于Hexo的静态博客网站搭建并部署至云服务器</h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class=post-meta-label>发表于</span><time class=post-meta-date-created datetime=2024-01-25T01:40:59.281Z title="发表于 2024-01-25 09:40:59">2024-01-25</time><span class=post-meta-separator>|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class=post-meta-label>更新于</span><time class=post-meta-date-updated datetime=2024-01-27T06:21:54.138Z title="更新于 2024-01-27 14:21:54">2024-01-27</time></span><span class=post-meta-categories><span class=post-meta-separator>|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/hexo/ >hexo</a></span></div><div class=meta-secondline><span class=post-meta-separator>|</span><span class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i><span class=post-meta-label>字数总计:</span><span class=word-count>5.5k</span><span class=post-meta-separator>|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class=post-meta-label>阅读时长:</span><span>18分钟</span></span><span class=post-meta-separator>|</span><span class=leancloud_visitors id=/posts/357/ data-flag-title=基于Hexo的静态博客网站搭建并部署至云服务器><i class="far fa-eye fa-fw post-meta-icon"></i><span class=post-meta-label>阅读量:</span><span class=leancloud-visitors-count><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class=post-content id=article-container><h2 id=Hexo的静态博客网站搭建并部署至云服务器><a href=#Hexo的静态博客网站搭建并部署至云服务器 class=headerlink title=Hexo的静态博客网站搭建并部署至云服务器></a>Hexo的静态博客网站搭建并部署至云服务器</h2><p><a target=_blank rel=noopener href=https://www.glimound.com/build-hexo-blog/ >基于Hexo的静态博客网站搭建并部署至云服务器 | Glimound的个人技术经验分享</a></p><h3 id=搭建博客前的准备><a href=#搭建博客前的准备 class=headerlink title=搭建博客前的准备></a>搭建博客前的准备</h3><p>开始前，你需要购买一台云服务器，并注册好用于博客网站的域名。我选择了腾讯云的轻量应用服务器（2核2G 4M带宽）并预装了CentOS 8.2的系统镜像，用于搭建博客这类轻型网站性能完全足够。我这里购买服务器用了45元&#x2F;年的首单特惠，过期后还可以使用腾讯云的学生优惠来续费，大概也是100元左右一年，对于大部分学生来说也还算负担得起。</p><p>其次，还需要注册好自己的域名并完成实名认证，我是在阿里云的万网注册了 <code>www.glimound.com</code> 这个域名，费用是63元&#x2F;年，供大家参考。通常，非.com后缀的域名会更加便宜，但需要注意的是，<strong>只有在<a target=_blank rel=noopener href=http://域名.信息/#>工信部域名行业管理信息公示网站</a>上展示的域名后缀才可进行后续的ICP备案</strong>，而未进行备案的域名解析至国内的服务器后将无法正常访问。</p><h3 id=工作原理><a href=#工作原理 class=headerlink title=工作原理></a>工作原理</h3><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E5%258E%259F%25E7%2590%2586%25E5%259B%25BE.png alt=原理图></p><p>了解整个博客架构的工作原理有助于理解下面各个步骤的意义。我们需要在本地安装Hexo程序，并在本地hexo目录内书写博客。书写的博客将会保存在source目录内，当我们输入 <code>hexo generate</code> 命令时，hexo将会把我们写的markdown文件渲染成静态文件（即网页文件）；输入 <code>hexo deploy</code> 时，hexo会通过我们配置好的免密登录连接至服务器，并将生成的静态文件推送到服务器的Git仓库内。Git仓库内容的变更触发钩子文件，将仓库内的内容部署至网站根目录下。</p><p>同时，我们还需要配置好nginx服务和域名解析。当用户访问我们博客的域名时，域名将被重定向为服务器的ip地址，并通过nginx服务访问网站根目录里的静态文件。</p><blockquote><p>Git：一个版本管理系统，可供开发者方便地管理不同版本的代码。</p><p>nginx：一个HTTP和反向代理web服务器，本文中我们用到反向代理功能，用户通过该功能以访问服务器内的资源。</p></blockquote><h3 id=搭建步骤><a href=#搭建步骤 class=headerlink title=搭建步骤></a>搭建步骤</h3><h4 id=本地配置（Win10）><a href=#本地配置（Win10） class=headerlink title=本地配置（Win10）></a>本地配置（Win10）</h4><p>开始搭建网站前，需要先在本地计算机安装hexo与其所需的相关环境。注意，<strong>以下步骤全部在本地计算机上完成</strong>。</p><h5 id=安装Git><a href=#安装Git class=headerlink title=安装Git></a>安装Git</h5><p>前往<a target=_blank rel=noopener href=https://git-scm.com/ >官网</a>下载较新版本的Git并安装，安装时的各种选项默认即可，或根据自己的需要进行调整。安装完成后右键桌面空白处会多出”Git GUI Here”和”Git Bash Here”两个选项，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/git%25E5%258F%25B3%25E9%2594%25AE%25E8%258F%259C%25E5%258D%2595.png alt=git右键菜单></p><p>打开Git Bash，依次输入以下命令。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>git config --global user.email &quot;xxx@xxx.com&quot;     # xxx@xxx.com改为你的邮箱</span><br><span class=line>git config --global user.name &quot;xxx&quot;      # xxx改为你的昵称</span><br></pre></td></tr></table></figure><p>这两条命令修改了Git配置文件中用户的邮箱和名称，每一个Git提交都会使用这些信息。无需担心，这里的邮箱和名称只用于标识。</p><h5 id=安装Node-js和npm><a href=#安装Node-js和npm class=headerlink title=安装Node.js和npm></a>安装Node.js和npm</h5><p>前往<a target=_blank rel=noopener href=https://nodejs.org/ >官网</a>下载较新的LTS（即长期支持）版本并安装，Node.js安装过程中会一并将npm包管理工具安装至本地。安装完成后可以在Git Bash中输入 <code>node -v</code> 和 <code>npm -v</code> 查看版本。</p><h5 id=安装Hexo和相关插件><a href=#安装Hexo和相关插件 class=headerlink title=安装Hexo和相关插件></a>安装Hexo和相关插件</h5><p>新建一个文件夹作为博客配置文件存放的目录，如 <code>D:\Blog</code> 。进入该文件夹，右键空白处打开Git Bash，安装hexo。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install -g hexo-cli hexo-server</span><br></pre></td></tr></table></figure><p>npm install -g命令即使用npm包管理工具进行全局安装，这里的hexo-cli为hexo的客户端模块，hexo-server为服务器模块，可以支持在本地服务器生成网页并进行浏览，调试网站时会使用到。</p><h5 id=本地初始化博客站点><a href=#本地初始化博客站点 class=headerlink title=本地初始化博客站点></a>本地初始化博客站点</h5><p>进入上一步建立的博客文件夹，右键打开Git Bash，初始化博客站点。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>hexo init myblog</span><br><span class=line>npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>第一条命令中的myblog可以改成自己喜欢的名字。这里用npm安装的hexo-deployer-git为自动部署至远程git仓库的插件，用于把我们在本地生成的网站页面push到服务器上。</p><p>初始化后会在myblog文件夹下生成以下目录，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/blog%25E7%259B%25AE%25E5%25BD%2595%25E7%25BB%2593%25E6%259E%2584.PNG alt=blog目录结构></p><p>这里有一些比较重要的文件或文件夹：</p><ul><li><code>_config.yml</code> 文件：站点的配置文件</li><li><code>source</code> 文件夹：存放需要进行渲染的文件，该目录下的 <code>_post</code> 文件夹内存放我们写的博文</li><li><code>themes</code> 文件夹：存放主题及其配置文件</li></ul><h5 id=测试网页><a href=#测试网页 class=headerlink title=测试网页></a>测试网页</h5><p>在Git Bash中输入命令，将网页生成至本地服务器上。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo server     #也可输入缩写命令hexo s</span><br></pre></td></tr></table></figure><p>在浏览器地址栏中输入 <code>http://localhost:4000</code> 即可访问hexo的默认页面，如下图所示。如能正常访问页面，说明hexo在本地安装正常，按Ctrl+C停止。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo%25E9%25BB%2598%25E8%25AE%25A4%25E9%25A1%25B5%25E9%259D%25A2.png alt=hexo默认页面></p><h4 id=服务端配置（CentOS-8-2）><a href=#服务端配置（CentOS-8-2） class=headerlink title="服务端配置（CentOS 8.2）"></a>服务端配置（CentOS 8.2）</h4><p>在这一步骤中，我们将在服务器上安装hexo及其环境，配置git的自动部署和nginx。我们需要在本地计算机上安装XShell和WinSCP以访问我们购买的服务器。注意，<strong>除特殊说明外，以下所有需要输入指令的操作都在服务器上完成</strong>。</p><h5 id=服务器初始设置><a href=#服务器初始设置 class=headerlink title=服务器初始设置></a>服务器初始设置</h5><p>这里以腾讯云服务器为例，进入腾讯云网站的服务器管理后台，记录服务器的公网ip，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E8%2585%25BE%25E8%25AE%25AF%25E4%25BA%2591%25E5%2585%25AC%25E7%25BD%2591ip.png alt=腾讯云公网ip></p><p>我们还需要重置密码，这里设置的密码将会是远程登陆服务器时root用户（即管理员账户）的密码。</p><p>检查服务器防火墙设置，查看80端口、443端口和22端口是否开放，如图所示。若无则需添加规则开放这三个端口。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E6%259C%258D%25E5%258A%25A1%25E5%2599%25A8%25E9%2598%25B2%25E7%2581%25AB%25E5%25A2%2599%25E8%25AE%25BE%25E7%25BD%25AE.png alt=服务器防火墙设置></p><h5 id=访问实例><a href=#访问实例 class=headerlink title=访问实例></a>访问实例</h5><p>这里的实例可以理解为安装了操作系统的一台服务器。我们需要在本地计算机安装XShell和WinSCP，前者用于访问远程实例的控制终端，后者可以让我们更加便捷地访问服务器上的文件，便于后续操作。</p><p>(1) 打开XShell并新建会话，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/XShell%25E6%2596%25B0%25E5%25BB%25BA%25E4%25BC%259A%25E8%25AF%259D.png alt=XShell新建会话></p><p>输入连接信息：</p><ul><li>协议：SSH</li><li>主机：服务器公网ip</li><li>端口号：22</li></ul><p>选择“用户身份验证”选项卡，输入用户名和密码并连接。一般情况下用户名为root，密码则为前面重置密码时设置的密码。连接成功后，会出现实例的控制终端，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/XShell%25E7%25BB%2588%25E7%25AB%25AF.png alt=XShell终端></p><p>(2) 打开WinSCP并新建站点，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E6%2596%25B0%25E5%25BB%25BA%25E7%25AB%2599%25E7%2582%25B9.png alt=WinSCP新建站点></p><p>输入连接信息、用户名、密码：</p><ul><li>文件协议：SFTP或SCP</li><li>主机名：服务器公网ip</li><li>端口号：22</li></ul><p>登录成功后会出现如下界面，左半栏为本地计算机的文件目录，右半栏为服务器的文件目录，可进行上传及下载操作。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E7%2595%258C%25E9%259D%25A2.png alt=WinSCP界面></p><h5 id=创建Hexo部署目录><a href=#创建Hexo部署目录 class=headerlink title=创建Hexo部署目录></a>创建Hexo部署目录</h5><p>用XShell登录实例后，在终端中输入以下命令创建Hexo部署目录（路径可根据喜好自行设置），博客相关的页面文件将会被存储在此处。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>mkdir -p /home/www/hexo</span><br></pre></td></tr></table></figure><h5 id=安装Nginx><a href=#安装Nginx class=headerlink title=安装Nginx></a>安装Nginx</h5><p>(1) 在终端中依次输入以下命令，使用yum安装nginx所需的依赖。这里的yum同样为包管理器，不过是CentOS系统内置的，功能与npm基本相同。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>yum install gcc-c++</span><br><span class=line>yum install -y pcre pcre-devel</span><br><span class=line>yum install -y zlib zlib-devel</span><br><span class=line>yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure><p>gcc-c++为编译nginx源码所需的编译器；pcre为正则表达式的支持库；zlib为压缩算法的支持库；Nginx支持http与https协议，如需实现https协议需要用到openssl库。</p><p>(2) 访问官网的<a target=_blank rel=noopener href=http://nginx.org/en/download.html>下载页面</a>，查看稳定版nginx的版本号，并在终端中输入指令下载nginx的源代码。这里以1.20.2版本为例。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>wget -c http://nginx.org/download/nginx-1.20.2.tar.gz     #用wget命令下载源代码的压缩包</span><br><span class=line>tar -zxvf nginx-1.20.2.tar.gz -C /usr/local     #解压压缩包至/usr/local目录下</span><br></pre></td></tr></table></figure><p>解压完成后在WinSCP中刷新页面，可以看到 <code>/usr/local</code> 目录下多出了解压后的nginx源代码文件夹。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/nginx%25E6%25BA%2590%25E4%25BB%25A3%25E7%25A0%2581%25E6%2596%2587%25E4%25BB%25B6%25E5%25A4%25B9.PNG alt=nginx源代码文件夹></p><p>(3) 在终端中进入该目录，执行配置文件。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>cd /usr/local/nginx-1.20.2</span><br><span class=line>./configure --with-http_ssl_module     #http_ssl_module为https模块</span><br></pre></td></tr></table></figure><p>(4) 编译安装nginx。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>make</span><br><span class=line>make install</span><br></pre></td></tr></table></figure><p>(5) 若按以上方法安装，默认安装目录为 <code>/usr/local/nginx</code> 。进入sbin目录，启动nginx。注意，启动成功后在终端中不会显示任何信息，而在已启动nginx的情况下再次试图启动会显示错误信息（可据此粗略判断nginx是否启动）。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>cd /usr/local/nginx/sbin</span><br><span class=line>./nginx -v     #显示nginx版本号，说明安装成功</span><br><span class=line>./nginx     #启动nginx</span><br></pre></td></tr></table></figure><p>启动后在浏览器地址栏中输入 <code>http://你的服务器ip:80</code> 即可看到nginx的欢迎页面，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/nginx%25E6%25AC%25A2%25E8%25BF%258E%25E9%25A1%25B5%25E9%259D%25A2.PNG alt=nginx欢迎页面></p><p>在这里附上一些常用的nginx命令，注意，以下命令均需要在 <code>/usr/local/nginx/sbin</code> 目录下执行。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>./nginx -s stop     #关闭nginx</span><br><span class=line>./nginx -s reload      #重载nginx</span><br><span class=line>./nginx -t      #检查nginx配置文件的语法是否有错误，常在修改配置文件后执行</span><br></pre></td></tr></table></figure><h5 id=配置Nginx反向代理><a href=#配置Nginx反向代理 class=headerlink title=配置Nginx反向代理></a>配置Nginx反向代理</h5><p>在WinSCP中进入nginx配置文件所在的目录 <code>/usr/local/nginx/conf</code> ，右键nginx.conf文件并进行编辑。（此处也可在终端中通过vim修改： <code>vim /usr/local/nginx/conf/nginx.conf</code> ；下文凡涉及文件修改的操作均可在终端中完成，这里选择在WinSCP中操作是为了更直观）</p><p>找到server语句块，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/server%25E8%25AF%25AD%25E5%258F%25A5%25E5%259D%2597.PNG alt=server语句块></p><p>进行以下修改：</p><ul><li>listen为监听端口，保持默认80即可</li><li>server_name为虚拟服务器的识别标志，修改为自己注册的域名，如 <code>www.glimound.com</code></li><li>root为部署根目录（即用户访问时网页文件所在的目录），修改为前面创建的Hexo部署目录，如 <code>/home/www/hexo</code></li></ul><p>修改完成后检查语法并重载nginx。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>./nginx -t</span><br><span class=line>./nginx -s reload</span><br></pre></td></tr></table></figure><h5 id=安装Git-1><a href=#安装Git-1 class=headerlink title=安装Git></a>安装Git</h5><p>在终端中用yum安装Git。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>yum install -y git</span><br><span class=line>git --vesion     #显示git版本号，说明安装成功</span><br></pre></td></tr></table></figure><h5 id=添加git用户><a href=#添加git用户 class=headerlink title=添加git用户></a>添加git用户</h5><p>(1) root用户默认的权限过大，出于安全考虑，我们为服务器添加一个名为git的用户，用于将博客自动部署至服务器上。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>useradd git     #添加名为git的用户</span><br><span class=line>passwd git     #修改git用户的密码</span><br></pre></td></tr></table></figure><p>(2) 为git用户授予sudo权限，用WinSCP打开 <code>/etc</code> 目录下的 <code>sudoers</code> 文件，在 <code>root ALL=(ALL) ALL</code> 语句下添加 <code>git ALL=(ALL) ALL</code> ，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/sudoers%25E6%2596%2587%25E4%25BB%25B6.PNG alt=sudoers文件></p><h5 id=为git用户添加SSH密钥><a href=#为git用户添加SSH密钥 class=headerlink title=为git用户添加SSH密钥></a>为git用户添加SSH密钥</h5><p>目前为止，对git仓库进行的所有操作都需要输入密码，我们可以通过为git用户添加SSH密钥的方式来实现免密登录。原理：在本地生成一对密钥文件（分别是公钥和私钥），将公钥文件上传到服务器上；服务器收到连接请求时，会将本地的公钥与服务器的公钥进行比对，用私钥解密服务器发来的一段信息并将其发回，验证通过后准许连接。</p><p>(1) 在<strong>本地计算机上</strong>打开Git Bash，生成密钥对。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh-keygen</span><br></pre></td></tr></table></figure><p>输入指令按enter键后会提示输入密码，这里也可不填，一路按enter即可。运行完后将会在 <code>C:\Users\用户名</code> 目录下生成.ssh文件夹，文件夹内的 <code>id_rsa</code> 为私钥文件，<code>id_rsa.pub</code> 为公钥文件。</p><p>(2) 在linux下，文件名以小数点开头的文件被视为隐藏文件，在WinSCP中设置显示隐藏文件以方便后续操作。打开WinSCP–选项–选项–面板，勾选“显示隐藏文件”，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/WinSCP%25E6%2598%25BE%25E7%25A4%25BA%25E9%259A%2590%25E8%2597%258F%25E6%2596%2587%25E4%25BB%25B6.png alt=WinSCP显示隐藏文件></p><p>(3) 在 <code>/home/git</code> 目录下右键新建名为 <code>.ssh</code> 的文件夹，并在该文件夹内新建名为 <code>authorized_keys</code> 的文件，将之前生成的公钥文件中的所有内容复制进去，保存。</p><p>(4) 在XShell中连接实例，登录为root账户，为公钥文件和文件夹设置权限。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>chmod 600 /home/git/.ssh/authorized_keys</span><br><span class=line>chmod 700 /home/git/.ssh</span><br></pre></td></tr></table></figure><p>chmod命令可设置文件或文件夹的权限，三位数字为linux中的权限代码，介绍及教程在<a target=_blank rel=noopener href=https://www.runoob.com/linux/linux-comm-chmod.html>这里</a>。</p><p>(5) 将.ssh文件夹及其内的文件所有权移交给git用户。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>chown -R git:git /home/git/.ssh</span><br></pre></td></tr></table></figure><p>chown命令可以变更目录或文件的所有者，-R参数是对子目录及其内的所有文件生效。</p><p>(6) 在<strong>本地计算机</strong>测试是否可以用ssh免密登录服务器。打开Git Bash，连接实例，若配置成功则无需输入密码。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh -v git@xxx.xxx.xxx.xxx     #git@后填写服务器的公网ip</span><br></pre></td></tr></table></figure><h5 id=2-9-创建Git仓库并配置自动部署><a href=#2-9-创建Git仓库并配置自动部署 class=headerlink title="2.9 创建Git仓库并配置自动部署"></a>2.9 创建Git仓库并配置自动部署</h5><p>这里的Git仓库（repository）可以理解为一个存放着不同版本代码的代码库，包含了项目所有的源文件和版本控制信息。但我们在这里需要用到的是裸库，即仅包含版本控制信息的仓库。后者不保存文件，常用作服务器仓库，实现数据共享和同步。</p><p>自动部署的核心在于git-hooks（钩子），可以理解为一种脚本，在特定条件下触发时会调用钩子并执行钩子文件中的内容。</p><p>(1) XShell登录为root用户，新建目录并在该目录下创建Git仓库。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>mkdir -p /home/repo     #该目录为git仓库所在的位置，可根据喜好自行设置</span><br><span class=line>cd /home/repo     #进入该目录</span><br><span class=line>git init --bare blog.git     #创建一个名为blog的仓库，--bare参数为创建裸库</span><br></pre></td></tr></table></figure><p>(2) 在WinSCP中进入 <code>/home/repo/blog.git/hooks</code> 目录，找到 <code>post-receive</code> 钩子文件（若无则新建）。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E9%2592%25A9%25E5%25AD%2590%25E6%2596%2587%25E4%25BB%25B6.png alt=钩子文件></p><p>右键编辑，输入 <code>git --work-tree=/home/www/hexo --git-dir=/home/repo/blog.git checkout -f</code> 并保存。（work-tree填写hexo的部署目录，git-dir填写Git仓库的目录）</p><p>这里我们使用的是 <code>post-receive</code> 钩子，当Git收到push请求的时候就会调用这个钩子。这个钩子中添加的语句执行的操作为：删除hexo部署目录中原有的文件，然后将Git仓库中的内容clone至hexo部署目录下。这样我们在本地更新博客并且执行部署命令后，网页文件会被push至服务器的Git仓库内，钩子文件则会将Git仓库内的网页文件复制到hexo部署目录下，从而实现自动部署功能。</p><p>(3) 为钩子文件及Git仓库目录配置权限。这里需要将我们创建的仓库及部署目录的所有权移交给git用户，因为linux下创建文件时默认只有拥有者（即创建者）才具有读写权限，而Git进行push操作时登录的用户为git用户。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>chmod +x /home/repo/blog.git/hooks/post-receive     #为钩子文件授予可执行权限（+x）</span><br><span class=line>chown -R git:git /home/repo     #将仓库目录的所有权移交给git用户</span><br><span class=line>chown -R git:git /home/www/hexo     #将hexo部署目录的所有权移交给git用户</span><br></pre></td></tr></table></figure><h4 id=其他配置><a href=#其他配置 class=headerlink title=其他配置></a>其他配置</h4><h5 id=Hexo部署插件安装及配置><a href=#Hexo部署插件安装及配置 class=headerlink title=Hexo部署插件安装及配置></a>Hexo部署插件安装及配置</h5><p>在本地计算机的hexo文件夹，这里是 <code>D:\Blog\myblog</code> ，打开 <code>_config.yml</code> 文件，找到 <code>deploy</code> 语句并进行修改，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/deploy%25E8%25AE%25BE%25E7%25BD%25AE.png alt=deploy设置></p><p>type改为git，repo改为 <code>git@服务器ip:git仓库目录</code> ，这样在执行部署命令时，hexo就会用git用户登录服务器，并将生成的网页文件push到服务器的git仓库中。</p><p>输入以下命令生成网页文件并部署至服务器上。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure><p>在WinSCP中进入服务器的 <code>/home/www/hexo</code> 目录并刷新，查看是否出现文件（该目录原为空目录），如图所示。若有则说明hexo的部署插件及服务器的Git自动部署运行正常。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/hexo%25E9%2583%25A8%25E7%25BD%25B2%25E7%259B%25AE%25E5%25BD%2595.png alt=hexo部署目录></p><p>至此，我们已经可以在浏览器中输入服务器的ip地址来访问博客站点。</p><h5 id=设置域名解析><a href=#设置域名解析 class=headerlink title=设置域名解析></a>设置域名解析</h5><p>域名解析可以将域名指向服务器的ip地址，这样访客输入域名即可访问我们的博客。进入域名管理后台，这里以阿里云的万网为例，在解析设置中添加记录，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E6%25B7%25BB%25E5%258A%25A0%25E8%25A7%25A3%25E6%259E%2590.png alt=添加解析></p><p>填写相关信息：</p><ul><li>记录类型：默认为A即可</li><li>主机记录：www，或根据需要自行设置</li><li>解析线路：默认</li><li>记录值：服务器公网ip</li><li>TTL：默认为10分钟即可</li></ul><h5 id=网站备案><a href=#网站备案 class=headerlink title=网站备案></a>网站备案</h5><p>根据法律法规要求，提供非经营性互联网信息服务必须对网站进行ICP备案（需要提交服务器ip、域名、网站信息、网站运营者的身份信息），具体流程详见接入商（即服务器提供商）提供的帮助文档。未进行ICP备案的网站在通过域名进行访问时，会被接入商的检测系统识别并阻断访问。这里以腾讯云为例，进入腾讯云备案页面，根据流程进行ICP备案。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E5%25A4%2587%25E6%25A1%2588.png alt=备案></p><p>ICP备案审批会在20个工作日内通过，在备案完成前，仍可通过ip地址的方式访问博客站点。注：解析至境外服务器的域名无需进行备案。</p><p>ICP备案完成后，需将备案号显示在网站页面下方；此外，根据不同省份及地区的政策，可能还会要求进行公安备案，详见接入商提供的帮助文档。<strong>至此，我们已经完成了博客站点的所有基本配置</strong>，等待备案完成后即可从域名访问属于我们自己的博客网站。</p><h5 id=可选操作：为网站配置ssl证书及https协议访问><a href=#可选操作：为网站配置ssl证书及https协议访问 class=headerlink title=可选操作：为网站配置ssl证书及https协议访问></a>可选操作：为网站配置ssl证书及https协议访问</h5><p>https的具体原理在这里不再赘述，简单来说就是一种更加安全的加密通信协议，需要我们在服务器上安装数字证书以建立SSL加密通道。为网站开启https可以提高网站在搜索引擎中的排名，同时浏览器地址栏旁边也会显示一把小锁，说明我们的连接是安全的。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/https%25E5%25B0%258F%25E9%2594%2581.png alt=https小锁></p><p>企业级数字证书通常价格较贵，一般用于商业网站的加密，而我们在这里选用免费的DV（域名型）证书。以腾讯云为例，可以在腾讯云网站申请免费数字证书，填写域名信息并进行所有权验证，验证通过后即可下载已签名的数字证书；证书有效期为一年，每年到期前续签即可。</p><p>(1) 申请ssl证书成功后，下载用于nginx服务器的证书，得到四个文件，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/%25E8%25AF%2581%25E4%25B9%25A6%25E6%2596%2587%25E4%25BB%25B6.png alt=证书文件></p><ul><li><code>xxx_bundle.crt</code> 证书文件</li><li><code>xxx.key</code> 私钥文件</li><li><code>xxx.pem</code> 证书文件（安装时可忽略该文件）</li><li><code>xxx.csr</code> CSR 文件（安装时可忽略该文件）</li></ul><p>(2) 使用WinCSP登录服务器，将上一步下载到本地的 <code>xxx_bundle.crt</code> 证书文件和 <code>xxx.key</code> 私钥文件复制到 <code>/usr/local/nginx/conf</code> 目录下。</p><p>(3) 在该目录下找到nginx.conf文件，右键编辑，找到HTTPS server代码块，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/https%25E8%25AF%25AD%25E5%258F%25A5%25E5%259D%2597.png alt=https语句块></p><p>进行以下修改：</p><ul><li>取消该代码块的注释</li><li>server_name：修改为域名</li><li>ssl_certificate：修改为证书文件的文件名，如 <code>xxx_bundle.crt</code></li><li>ssl_certificate_key：修改为私钥文件的文件名，如 <code>xxx.key</code></li><li>ssl_ciphers：即使用的算法，参照接入商提供的文档进行修改</li><li>root：修改为Hexo部署目录</li><li><strong>注：需要修改的内容可能因服务器提供商不同而有所差异，以接入商提供的文档为准</strong></li></ul><p>(4) 如需访问网站时默认使用https协议，可以设置http重定向为https，在<strong>HTTP的server语句块</strong>中添加 <code>return 301 https://你的域名</code> 即可，如图所示。</p><p><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/img/return%25E8%25AF%25AD%25E5%258F%25A5.png alt=return语句></p><p>(5) XShell连接服务器，检查nginx语法并重启nginx。</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>cd /usr/local/nginx/sbin</span><br><span class=line>./nginx -t</span><br><span class=line>./nginx -s reload</span><br></pre></td></tr></table></figure><p>浏览器访问 <code>https://你的域名</code> 就可以看到地址栏的小锁啦。</p><h5 id=附：常用Hexo命令><a href=#附：常用Hexo命令 class=headerlink title=附：常用Hexo命令></a>附：常用Hexo命令</h5><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>hexo clean     #清除缓存（在本地已渲染的静态文件）</span><br><span class=line>hexo generate     #生成静态文件</span><br><span class=line>hexo deploy     #将静态文件部署至服务器</span><br><span class=line>#上面三个命令常常连用：hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class=line></span><br><span class=line>hexo server     #将静态文件部署至本地服务器，常用于调试</span><br><span class=line>hexo new &quot;title&quot;     #新建名为title的文章，位置为本地站点文件夹\source\_posts，打开title.md即可编辑文章（.md为markdown文件的后缀名）</span><br></pre></td></tr></table></figure><p>更多命令可访问Hexo官网的<a target=_blank rel=noopener href=https://hexo.io/docs/ >帮助文档</a>获取。</p><h5 id=附：错误排除><a href=#附：错误排除 class=headerlink title=附：错误排除></a>附：错误排除</h5><ul><li>hexo部署目录内无文件：检查hexo部署目录、git仓库目录、钩子文件的权限配置；检查本地博客的 <code>public</code> 目录内是否存在成功渲染的网页文件；重启实例</li><li>无法访问服务器ip地址：完成上一步骤的检查；检查nginx是否处于开启状态；检查 <code>nginx.conf</code> 配置文件</li><li>无法访问域名：完成上一步骤的检查；检查域名解析状态；确认ICP备案是否已经完成</li></ul><h2 id=防火墙命令><a href=#防火墙命令 class=headerlink title=防火墙命令></a>防火墙命令</h2><p><a target=_blank rel=noopener href=https://blog.csdn.net/zhangchaoyang/article/details/109428787>CentOS 7.8 查看和关闭防火墙_7.8系统关闭防火墙‘’-CSDN博客</a></p><p>CentOS 7.X 默认使用的是firewall作为防火墙，防火墙启动和关闭与6不一样。</p><h3 id=查看防火墙状态><a href=#查看防火墙状态 class=headerlink title=查看防火墙状态></a>查看防火墙状态</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>firewall-cmd --state</span><br></pre></td></tr></table></figure><h3 id=启动防火墙><a href=#启动防火墙 class=headerlink title=启动防火墙></a>启动防火墙</h3><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line><span class=string>systemctl</span> <span class=string>start</span> <span class=string>firewalld</span></span><br></pre></td></tr></table></figure><h3 id=关闭防火墙><a href=#关闭防火墙 class=headerlink title=关闭防火墙></a>关闭防火墙</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><h3 id=禁止防火墙开机启动><a href=#禁止防火墙开机启动 class=headerlink title=禁止防火墙开机启动></a>禁止防火墙开机启动</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>systemctl disable firewalld.service </span><br></pre></td></tr></table></figure><h2 id=Nginx无法访问网页问题><a href=#Nginx无法访问网页问题 class=headerlink title=Nginx无法访问网页问题></a>Nginx无法访问网页问题</h2><p><a target=_blank rel=noopener href=https://blog.csdn.net/yujing1314/article/details/105225325>【Nginx】启动成功无法访问网页（完整的排除方案）_nginx启动成功但是无法访问</a></p><h2 id=Nginx-配置-HTTPS-完整过程><a href=#Nginx-配置-HTTPS-完整过程 class=headerlink title="Nginx 配置 HTTPS 完整过程"></a>Nginx 配置 HTTPS 完整过程</h2><p><a target=_blank rel=noopener href=https://blog.csdn.net/weixin_37264997/article/details/84525444>Nginx 配置 HTTPS 完整过程</a>ails&#x2F;84525444)</p></article><div class=post-copyright><div class=post-copyright__author><span class=post-copyright-meta><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class=post-copyright-info><a href=https://creammint.github.io>Cream薄荷糖</a></span></div><div class=post-copyright__type><span class=post-copyright-meta><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class=post-copyright-info><a href=https://creammint.github.io/posts/357/ >https://creammint.github.io/posts/357/</a></span></div><div class=post-copyright__notice><span class=post-copyright-meta><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href=https://creammint.github.io target=_blank>Cream薄荷糖</a>！</span></div></div><div class=tag_share><div class=post-meta__tag-list><a class=post-meta__tags href=/tags/%E9%98%BF%E9%87%8C%E4%BA%91/ >阿里云</a><a class=post-meta__tags href=/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/ >服务器</a></div><div class=post_share><div class=social-share data-image="https://cn.bing.com/th?id=OHR.Yellowstone150_ZH-CN0551084440_1920x1080.jpg" data-sites=facebook,twitter,wechat,weibo,qq></div><link rel=stylesheet href=https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css media=print onload='this.media="all"'><script src=https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js defer></script></div></div><nav class=pagination-post id=pagination><div class="prev-post pull-left"><a href=/posts/4023/ title="PL/SQL Developer使用技巧、快捷键PL/SQL Developer使用技巧、快捷键"><img class=cover src="https://cn.bing.com/th?id=OHR.SpeloncatoSnow_ZH-CN8115437163_1920x1080.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class=pagination-info><div class=label>上一篇</div><div class=prev_info>PL/SQL Developer使用技巧、快捷键PL/SQL Developer使用技巧、快捷键</div></div></a></div><div class="next-post pull-right"><a href=/posts/12373/ title=Hexo-Admin安装><img class=cover src="https://cn.bing.com/th?id=OHR.Oymyakon_ZH-CN7758768574_1920x1080.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class=pagination-info><div class=label>下一篇</div><div class=next_info>Hexo-Admin安装</div></div></a></div></nav><hr class=custom-hr><div id=post-comment><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class=comment-wrap><div><div class=vcomment id=vcomment></div></div></div></div></div><div class=aside-content id=aside-content><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="fas fa-stream"></i><span>目录</span><span class=toc-percentage></span></div><div class=toc-content><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#Hexo%E7%9A%84%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E8%87%B3%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8><span class=toc-number>1.</span> <span class=toc-text>Hexo的静态博客网站搭建并部署至云服务器</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87><span class=toc-number>1.1.</span> <span class=toc-text>搭建博客前的准备</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86><span class=toc-number>1.2.</span> <span class=toc-text>工作原理</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%90%AD%E5%BB%BA%E6%AD%A5%E9%AA%A4><span class=toc-number>1.3.</span> <span class=toc-text>搭建步骤</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE%EF%BC%88Win10%EF%BC%89><span class=toc-number>1.3.1.</span> <span class=toc-text>本地配置（Win10）</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%89%E8%A3%85Git><span class=toc-number>1.3.1.1.</span> <span class=toc-text>安装Git</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%89%E8%A3%85Node-js%E5%92%8Cnpm><span class=toc-number>1.3.1.2.</span> <span class=toc-text>安装Node.js和npm</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%89%E8%A3%85Hexo%E5%92%8C%E7%9B%B8%E5%85%B3%E6%8F%92%E4%BB%B6><span class=toc-number>1.3.1.3.</span> <span class=toc-text>安装Hexo和相关插件</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%9C%AC%E5%9C%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9><span class=toc-number>1.3.1.4.</span> <span class=toc-text>本地初始化博客站点</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%B5%8B%E8%AF%95%E7%BD%91%E9%A1%B5><span class=toc-number>1.3.1.5.</span> <span class=toc-text>测试网页</span></a></li></ol></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%85%8D%E7%BD%AE%EF%BC%88CentOS-8-2%EF%BC%89><span class=toc-number>1.3.2.</span> <span class=toc-text>服务端配置（CentOS 8.2）</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9D%E5%A7%8B%E8%AE%BE%E7%BD%AE><span class=toc-number>1.3.2.1.</span> <span class=toc-text>服务器初始设置</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E8%AE%BF%E9%97%AE%E5%AE%9E%E4%BE%8B><span class=toc-number>1.3.2.2.</span> <span class=toc-text>访问实例</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%88%9B%E5%BB%BAHexo%E9%83%A8%E7%BD%B2%E7%9B%AE%E5%BD%95><span class=toc-number>1.3.2.3.</span> <span class=toc-text>创建Hexo部署目录</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%89%E8%A3%85Nginx><span class=toc-number>1.3.2.4.</span> <span class=toc-text>安装Nginx</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E9%85%8D%E7%BD%AENginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86><span class=toc-number>1.3.2.5.</span> <span class=toc-text>配置Nginx反向代理</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%89%E8%A3%85Git-1><span class=toc-number>1.3.2.6.</span> <span class=toc-text>安装Git</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%B7%BB%E5%8A%A0git%E7%94%A8%E6%88%B7><span class=toc-number>1.3.2.7.</span> <span class=toc-text>添加git用户</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E4%B8%BAgit%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0SSH%E5%AF%86%E9%92%A5><span class=toc-number>1.3.2.8.</span> <span class=toc-text>为git用户添加SSH密钥</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-9-%E5%88%9B%E5%BB%BAGit%E4%BB%93%E5%BA%93%E5%B9%B6%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2><span class=toc-number>1.3.2.9.</span> <span class=toc-text>2.9 创建Git仓库并配置自动部署</span></a></li></ol></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE><span class=toc-number>1.3.3.</span> <span class=toc-text>其他配置</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#Hexo%E9%83%A8%E7%BD%B2%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE><span class=toc-number>1.3.3.1.</span> <span class=toc-text>Hexo部署插件安装及配置</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E8%AE%BE%E7%BD%AE%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90><span class=toc-number>1.3.3.2.</span> <span class=toc-text>设置域名解析</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E7%BD%91%E7%AB%99%E5%A4%87%E6%A1%88><span class=toc-number>1.3.3.3.</span> <span class=toc-text>网站备案</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%8F%AF%E9%80%89%E6%93%8D%E4%BD%9C%EF%BC%9A%E4%B8%BA%E7%BD%91%E7%AB%99%E9%85%8D%E7%BD%AEssl%E8%AF%81%E4%B9%A6%E5%8F%8Ahttps%E5%8D%8F%E8%AE%AE%E8%AE%BF%E9%97%AE><span class=toc-number>1.3.3.4.</span> <span class=toc-text>可选操作：为网站配置ssl证书及https协议访问</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E9%99%84%EF%BC%9A%E5%B8%B8%E7%94%A8Hexo%E5%91%BD%E4%BB%A4><span class=toc-number>1.3.3.5.</span> <span class=toc-text>附：常用Hexo命令</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E9%99%84%EF%BC%9A%E9%94%99%E8%AF%AF%E6%8E%92%E9%99%A4><span class=toc-number>1.3.3.6.</span> <span class=toc-text>附：错误排除</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%98%B2%E7%81%AB%E5%A2%99%E5%91%BD%E4%BB%A4><span class=toc-number>2.</span> <span class=toc-text>防火墙命令</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E7%8A%B6%E6%80%81><span class=toc-number>2.1.</span> <span class=toc-text>查看防火墙状态</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%90%AF%E5%8A%A8%E9%98%B2%E7%81%AB%E5%A2%99><span class=toc-number>2.2.</span> <span class=toc-text>启动防火墙</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99><span class=toc-number>2.3.</span> <span class=toc-text>关闭防火墙</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A6%81%E6%AD%A2%E9%98%B2%E7%81%AB%E5%A2%99%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8><span class=toc-number>2.4.</span> <span class=toc-text>禁止防火墙开机启动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#Nginx%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5%E9%97%AE%E9%A2%98><span class=toc-number>3.</span> <span class=toc-text>Nginx无法访问网页问题</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#Nginx-%E9%85%8D%E7%BD%AE-HTTPS-%E5%AE%8C%E6%95%B4%E8%BF%87%E7%A8%8B><span class=toc-number>4.</span> <span class=toc-text>Nginx 配置 HTTPS 完整过程</span></a></li></ol></div></div></div></div></main><footer id=footer><div id=footer-wrap><div id=ft><div class=ft-item-1><div class=t-top><div class=t-t-r><p class="ft-t t-l-t">说点什么</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">修仙导航</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/sponsorWall/ >来杯咖啡</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/about/ >关于博主</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">修仙导航</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/sponsorWall/ >来杯咖啡</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/about/ >关于博主</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">说点什么</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">修仙导航</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/sponsorWall/ >来杯咖啡</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/about/ >关于博主</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">修仙导航</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/sponsorWall/ >来杯咖啡</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/about/ >关于博主</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">说点什么</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li></ul></div><div class=t-t-r><p class="ft-t t-l-t">修仙导航</p><ul class=ft-links><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1600/ >建站指南</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/sponsorWall/ >来杯咖啡</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/about/ >关于博主</a></li></ul></div></div></div></div><div class=copyright>&copy;2024<i id=heartbeat style=color:#ff6a6a class="fa fa-heartbeat"></i> Cream薄荷糖</div><div class=framework-info><img src=https://creammint-pic-1304832043.cos.ap-hongkong.myqcloud.com/basicdata_img/icp.png><span></span> <a target=_blank rel=noopener href=https://beian.miit.gov.cn/ >湘ICP备2024044746号</a></div></div><div class=js-pjax id=rightMenu><div class="rightMenu-group rightMenu-small"><a class=rightMenu-item href=javascript:window.history.back();><i class="fa fa-arrow-left"></i></a><a class=rightMenu-item href=javascript:window.history.forward();><i class="fa fa-arrow-right"></i></a><a class=rightMenu-item href=javascript:window.location.reload();><i class="fa fa-refresh"></i></a><a class=rightMenu-item href=javascript:rmf.scrollToTop();><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-text><a class=rightMenu-item href=javascript:rmf.copySelect();><i class="fa fa-copy"></i><span>复制</span></a><a class=rightMenu-item href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-too><a class=rightMenu-item href=javascript:window.open(window.getSelection().toString());window.location.reload();><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-paste><a class=rightMenu-item href=javascript:rmf.paste()><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-post><a class=rightMenu-item href=#post-comment><i class="fas fa-comment"></i><span>空降评论</span></a><a class=rightMenu-item href=javascript:rmf.copyWordsLink()><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-to><a class=rightMenu-item href=javascript:rmf.openWithNewTab()><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class=rightMenu-item id=menu-too href=javascript:rmf.open()><i class="fa fa-link"></i><span>转到链接</span></a><a class=rightMenu-item href=javascript:rmf.copyLink()><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-img><a class=rightMenu-item href=javascript:rmf.saveAs()><i class="fa fa-download"></i><span>保存图片</span></a><a class=rightMenu-item href=javascript:rmf.openWithNewTab()><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class=rightMenu-item href=javascript:rmf.copyLink()><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class=rightMenu-item href=javascript:rmf.switchReadMode();><i class="fa fa-book"></i><span>阅读模式</span></a><a class=rightMenu-item href=/about/ ><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class=rightMenu-item href=javascript:rmf.fullScreen();><i class="fas fa-expand"></i><span>切换全屏</span></a><a class=rightMenu-item href=javascript:window.print();><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div></footer></div><div id=rightside><div id=rightside-config-hide><button id=readmode type=button title=阅读模式><i class="fas fa-book-open"></i></button><button id=darkmode type=button title=浅色和深色模式转换><i class="fas fa-adjust"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="fas fa-cog fa-spin"></i></button><button class=share type=button title=分享链接 onclick=share()><i class="fas fa-share-nodes"></i></button><a id=to_comment href=#post-comment title=直达评论><i class="fas fa-comments"></i></a><button class=close id=mobile-toc-button type=button title=目录><i class="fas fa-list-ul"></i></button><button id=go-up type=button title=回到顶部><i class="fas fa-arrow-up"></i><span id=percent>0 <span>%</span></span></button><button id=go-down type=button title=直达底部 onclick=btf.scrollToDest(document.body.scrollHeight,500)><i class="fas fa-arrow-down"></i></button></div></div><div><script src=/js/utils.js></script><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js></script><div class=js-pjax><script>(()=>{const a=()=>{new Valine(Object.assign({el:"#vcomment",appId:"wBApx8abJRnt29SQI6tSvTU8-gzGzoHsz",appKey:"SdlLzNSTkkJ2ZLSEBSgcStbZ",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,master:"cfbcd9eaf8465568335998b86f144202",friends:["30ddf77c2180f3f2b81cb43ba55b08d6",""],tagMeta:["博主","小伙伴","访客"],visitor:!0},null))},t=async()=>{"function"==typeof Valine||await getScript("/js/valine.min.js"),a()};setTimeout(t,0)})()</script></div><script async src=https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js></script><script async src=https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js></script><script defer src=https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js></script><script src=https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js></script><script defer data-pjax src=/js/cat.js></script><script async src=/js/title.js></script><script async src=//npm.elemecdn.com/pace-js@1.2.4/pace.min.js></script><canvas id=universe></canvas><script defer src=/js/universe.js></script><script defer src=/js/cursor.js></script><script defer data-pjax src=/js/readPercent.js></script>\<script src=/js/share.js></script><script async src=/js/fps.js></script><script src=/js/rightmenu.js></script><script id=canvas_nest defer color=0,0,255 opacity=0.7 zindex=-1 count=99 mobile=false src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/canvas-nest.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/activate-power-mode.min.js></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id=click-heart src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-heart.min.js async mobile=true></script><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=local-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><span id=loading-status></span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=is-center id=loading-database><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class=search-wrap><div id=local-search-input><div class=local-search-box><input class=local-search-box--input placeholder=搜索文章></div></div><hr><div id=local-search-results></div><div id=local-search-stats-wrap></div></div></div><div id=search-mask></div><script src=/js/search/local-search.js></script></div></div><script data-pjax>function butterfly_footer_beautify_injector_config(){var t=document.getElementById("footer-wrap");console.log("已挂载butterfly_footer_beautify"),t.insertAdjacentHTML("beforeend",'<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/" style="margin-inline:5px" data-title="湘ICP备2024044746" title=""><img src="https://static.dy208.cn/o_1dfilp8ruo521thr1hvf18ji17soa.png" alt=""/></a></p>')}for(var elist="null".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_footer_beautify_injector_config()</script><script async src=/js/runtime.js></script></body></html>