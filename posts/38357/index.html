<!DOCTYPE html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>博客魔改-2 | Cream薄荷糖</title><meta name=author content=Cream薄荷糖><meta name=copyright content=Cream薄荷糖><meta name=format-detection content="telephone=no"><meta name=theme-color content=ffffff><meta name=description content="侧边栏新年倒计时(Leonus) 添加侧边栏：新建文件[BlogRoot]\source\_data\widget.yml，建议查看butterfly官方文档：自定义侧边栏 12345678910111213# top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)# bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)top:"><meta property=og:type content=article><meta property=og:title content=博客魔改-2><meta property=og:url content=https://creammint.github.io/posts/38357/index.html><meta property=og:site_name content=Cream薄荷糖><meta property=og:description content="侧边栏新年倒计时(Leonus) 添加侧边栏：新建文件[BlogRoot]\source\_data\widget.yml，建议查看butterfly官方文档：自定义侧边栏 12345678910111213# top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)# bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)top:"><meta property=og:locale content=zh_CN><meta property=og:image content=https://cdn.creammint.cn/article_cover/hexo_magic_2.webp><meta property=article:published_time content=2024-03-09T02:29:46.156Z><meta property=article:modified_time content=2024-03-09T02:29:46.536Z><meta property=article:author content=Cream薄荷糖><meta property=article:tag content=优雅魔改><meta name=twitter:card content=summary><meta name=twitter:image content=https://cdn.creammint.cn/article_cover/hexo_magic_2.webp><link rel="shortcut icon" href=https://cdn.creammint.cn/basicdata_img/icon.png><link rel=canonical href=https://creammint.github.io/posts/38357/index.html><link rel=preconnect href=//cdnjs.cloudflare.com><link rel=preconnect href=//busuanzi.ibruce.info><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.32/fancybox/fancybox.min.css media=print onload='this.media="all"'><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"",enable_page_level_ads:"true"})</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:150,languages:{author:"作者: Cream薄荷糖",link:"链接: ",source:"来源: Cream薄荷糖",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体中文",cht_to_chs:"你已切换为简体中文",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdnjs.cloudflare.com/ajax/libs/egjs-infinitegrid/4.11.0/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"博客魔改-2",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-03-09 10:29:46"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach((e=>{n.setAttribute(e,t[e])})),document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)})),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel=stylesheet href=/css/creammint.css media=defer onload='this.media="all"'><span id=fps></span><link rel=stylesheet href=/css/myStyle.css><link rel=stylesheet href=/css/indexpage.css><link rel=stylesheet href=//at.alicdn.com/t/c/font_4411658_3fdhrwyp1bq.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=/css/custom.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/footer.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/todolist.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/yituliu.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/progress_bar.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/heartbeat.css><link rel=stylesheet href=/css/universe.css><link rel=stylesheet href=/css/readPercent.css><link rel=stylesheet href=https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css><link rel=stylesheet href=/css/about.css><script src=/js/reward.js></script><script src=https://cdn1.tianli0.top/npm/sweetalert2@11.6.16/dist/sweetalert2.all.min.js></script><div id=myscoll></div><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><meta name=generator content="Hexo 7.0.0"></head><body><div id=loading-box onclick=document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)><div class=loading-bg><div class=loading-img></div><div class=loading-image-dot></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()}))</script><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",(()=>{Pace.restart()}))</script><link rel=stylesheet href=/css/progress_bar.css><script src=https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js></script><div id=web_bg></div><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img is-center"><img src=https://cdn.creammint.cn/basicdata_img%2Favatar.webp onerror='onerror=null,src="/img/friend_404.gif"' alt=avatar></div><div class="sidebar-site-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>26</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>20</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>8</div></a></div><hr class=custom-hr><div class=menus_items><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-hexo"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/archives/ ><span>归档</span></a></li><li><a class="site-page child" href=/tags/ ><span>标签</span></a></li><li><a class="site-page child" href=/categories/ ><span>分类</span></a></li></ul></div><div class=menus_item><a class=site-page href=/link/ ><i class="fa-fw iconfont icon-pengyou_B"></i> <span>友链</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule1"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/movies/ ><span>电影</span></a></li><li><a class="site-page child" href=/books/ ><span>书籍</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-gerencanshu"></i> <span>我的</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/creammintlog/ ><span>更新日志</span></a></li><li><a class="site-page child" href=/about/ ><span>关于</span></a></li><li><a class="site-page child" href=/todolist/ ><span>ToDo</span></a></li><li><a class="site-page child" href=/comments/ ><span>留言板</span></a></li></ul></div></div></div></div><div class=post id=body-wrap><header class=post-bg id=page-header style="background-image:url('https://cdn.creammint.cn/article_cover/hexo_magic_2.webp')"><nav id=nav><span id=blog-info><a href=/ title=Cream薄荷糖><span class=site-name>Cream薄荷糖</span></a></span><div id=menus><div id=search-button><a class="site-page social-icon search" href=javascript:void(0);><i class="fas fa-search fa-fw"></i></a></div><div class=menus_items><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-hexo"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/archives/ ><span>归档</span></a></li><li><a class="site-page child" href=/tags/ ><span>标签</span></a></li><li><a class="site-page child" href=/categories/ ><span>分类</span></a></li></ul></div><div class=menus_item><a class=site-page href=/link/ ><i class="fa-fw iconfont icon-pengyou_B"></i> <span>友链</span></a></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-yule1"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/movies/ ><span>电影</span></a></li><li><a class="site-page child" href=/books/ ><span>书籍</span></a></li></ul></div><div class=menus_item><a class="site-page group hide" href=javascript:void(0);><i class="fa-fw iconfont icon-gerencanshu"></i> <span>我的</span><i class="fas fa-chevron-down"></i></a><ul class=menus_item_child><li><a class="site-page child" href=/creammintlog/ ><span>更新日志</span></a></li><li><a class="site-page child" href=/about/ ><span>关于</span></a></li><li><a class="site-page child" href=/todolist/ ><span>ToDo</span></a></li><li><a class="site-page child" href=/comments/ ><span>留言板</span></a></li></ul></div></div><div id=toggle-menu><a class=site-page href=javascript:void(0);><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id=post-info><h1 class=post-title>博客魔改-2</h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class=post-meta-label>发表于</span><time class=post-meta-date-created datetime=2024-03-09T02:29:46.156Z title="发表于 2024-03-09 10:29:46">2024-03-09</time><span class=post-meta-separator>|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class=post-meta-label>更新于</span><time class=post-meta-date-updated datetime=2024-03-09T02:29:46.536Z title="更新于 2024-03-09 10:29:46">2024-03-09</time></span><span class=post-meta-categories><span class=post-meta-separator>|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/hexo/ >hexo</a></span></div><div class=meta-secondline><span class=post-meta-separator>|</span><span class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i><span class=post-meta-label>字数总计:</span><span class=word-count>4.8k</span><span class=post-meta-separator>|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class=post-meta-label>阅读时长:</span><span>26分钟</span></span><span class=post-meta-separator>|</span><span class=leancloud_visitors id=/posts/38357/ data-flag-title=博客魔改-2><i class="far fa-eye fa-fw post-meta-icon"></i><span class=post-meta-label>阅读量:</span><span class=leancloud-visitors-count><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class=waves-svg xmlns=http://www.w3.org/2000/svg xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class=parallax><use href=#gentle-wave x=48 y=0></use><use href=#gentle-wave x=48 y=3></use><use href=#gentle-wave x=48 y=5></use><use href=#gentle-wave x=48 y=7></use></g></svg></section></header><main class=layout id=content-inner><div id=post><article class=post-content id=article-container><h2 id=侧边栏新年倒计时-Leonus><a href=#侧边栏新年倒计时-Leonus class=headerlink title=侧边栏新年倒计时(Leonus)></a>侧边栏新年倒计时(Leonus)</h2><ol><li><p>添加侧边栏：新建文件<code>[BlogRoot]\source\_data\widget.yml</code>，建议查看butterfly官方文档：<a target=_blank rel=noopener href=https://butterfly.js.org/posts/ea33ab97/#%E8%87%AA%E5%AE%9A%E7%BE%A9-widget>自定义侧边栏</a></p><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line># top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)</span><br><span class=line># bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)</span><br><span class=line>top:</span><br><span class=line>  - class_name:</span><br><span class=line>    id_name: newYear</span><br><span class=line>    name:</span><br><span class=line>    icon:</span><br><span class=line>    order: 1</span><br><span class=line>    html: &#x27;<span class=tag>&lt;<span class=name>div</span> <span class=attr>id</span>=<span class=string>&quot;newYear-main&quot;</span>&gt;</span><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>&quot;mask&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>      <span class=tag>&lt;<span class=name>p</span> <span class=attr>class</span>=<span class=string>&quot;title&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>      <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>&quot;newYear-time&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>      <span class=tag>&lt;<span class=name>p</span> <span class=attr>class</span>=<span class=string>&quot;today&quot;</span> <span class=attr>style</span>=<span class=string>&quot;text-align: right;&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>      <span class=tag>&lt;/<span class=name>div</span>&gt;</span>&#x27;</span><br></pre></td></tr></table></figure></li><li><p>在<code>custom.css</code>中添加如下代码：</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br></pre></td><td class=code><pre><span class=line><span class=comment>/* 新年侧边栏 */</span></span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: white;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>0</span> <span class=meta>!important</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear</span> <span class=selector-tag>p</span>,</span><br><span class=line><span class=selector-id>#newYear</span> <span class=selector-tag>h3</span> &#123;</span><br><span class=line>    <span class=attribute>font-weight</span>: normal;</span><br><span class=line>    <span class=attribute>color</span>: inherit;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>0</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear</span> <span class=selector-class>.item-headline</span> &#123;</span><br><span class=line>    <span class=attribute>display</span>: none;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> &#123;</span><br><span class=line>    <span class=attribute>min-height</span>: <span class=number>160px</span>;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>1rem</span>;</span><br><span class=line>    <span class=attribute>position</span>: relative;</span><br><span class=line>    <span class=attribute>border-radius</span>: <span class=number>12px</span>;</span><br><span class=line>    <span class=attribute>background-image</span>: <span class=built_in>url</span>(<span class=string>https://tuchuang.voooe.cn/images/2023/01/02/tunian.webp</span>);</span><br><span class=line>    <span class=attribute>background-size</span>: cover;</span><br><span class=line>    <span class=attribute>background-position</span>: center;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> * &#123;</span><br><span class=line>    <span class=attribute>position</span>: relative;</span><br><span class=line>    <span class=attribute>line-height</span>: <span class=number>1.3</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.newYear-time</span> &#123;</span><br><span class=line>    <span class=attribute>font-weight</span>: bold;</span><br><span class=line>    <span class=attribute>text-align</span>: center;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.time</span>,</span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.happyNewYear</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>3.5rem</span>;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>1rem</span> <span class=number>0</span>;</span><br><span class=line>    <span class=attribute>display</span>: block;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.day</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>5rem</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.day</span> <span class=selector-class>.unit</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>1rem</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#newYear-main</span> <span class=selector-class>.mask</span> &#123;</span><br><span class=line>    <span class=attribute>position</span>: absolute;</span><br><span class=line>    <span class=attribute>left</span>: <span class=number>0</span>;</span><br><span class=line>    <span class=attribute>top</span>: <span class=number>0</span>;</span><br><span class=line>    <span class=attribute>height</span>: <span class=number>100%</span>;</span><br><span class=line>    <span class=attribute>width</span>: <span class=number>100%</span>;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, .<span class=number>1</span>);</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>新建文件<code>[BlogRoot]\source\js\newYear.js</code>，并写入如下代码，注意最后的Pjax适配，如果没开Pjax直接是<code>newYear()</code>即可，如果是开启了Pjax就用我的即可：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>let</span> newYearTimer = <span class=literal>null</span>;</span><br><span class=line><span class=keyword>var</span> <span class="title function_">newYear</span> = (<span class=params></span>) =&gt; &#123;</span><br><span class=line>    <span class=built_in>clearTimeout</span>(newYearTimer);</span><br><span class=line>    <span class=keyword>if</span> (!<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear&#x27;</span>)) <span class=keyword>return</span>;</span><br><span class=line>    <span class=comment>// 新年时间戳 and 星期对象</span></span><br><span class=line>    <span class=keyword>let</span> newYear = <span class=keyword>new</span> <span class="title class_">Date</span>(<span class=string>&#x27;2023-01-22 00:00:00&#x27;</span>).<span class="title function_">getTime</span>() / <span class=number>1000</span>,</span><br><span class=line>        week = &#123; <span class=number>0</span>: <span class=string>&#x27;周日&#x27;</span>, <span class=number>1</span>: <span class=string>&#x27;周一&#x27;</span>, <span class=number>2</span>: <span class=string>&#x27;周二&#x27;</span>, <span class=number>3</span>: <span class=string>&#x27;周三&#x27;</span>, <span class=number>4</span>: <span class=string>&#x27;周四&#x27;</span>, <span class=number>5</span>: <span class=string>&#x27;周五&#x27;</span>, <span class=number>6</span>: <span class=string>&#x27;周六&#x27;</span> &#125;</span><br><span class=line></span><br><span class=line>    <span class="title function_">time</span>();</span><br><span class=line></span><br><span class=line>    <span class=comment>// 补零函数</span></span><br><span class=line>    <span class=keyword>function</span> <span class="title function_">nol</span>(<span class=params>h</span>) &#123; <span class=keyword>return</span> h &gt; <span class=number>9</span> ? h : <span class=string>&#x27;0&#x27;</span> + h; &#125;;</span><br><span class=line></span><br><span class=line>    <span class=keyword>function</span> <span class="title function_">time</span>(<span class=params></span>) &#123;</span><br><span class=line>        <span class=comment>// 现在 时间对象</span></span><br><span class=line>        <span class=keyword>let</span> now = <span class=keyword>new</span> <span class="title class_">Date</span>();</span><br><span class=line></span><br><span class=line>        <span class=comment>// 右下角 今天</span></span><br><span class=line>        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .today&#x27;</span>).<span class=property>innerHTML</span> = now.<span class="title function_">getFullYear</span>() + <span class=string>&#x27;-&#x27;</span> + (now.<span class="title function_">getMonth</span>() + <span class=number>1</span>) + <span class=string>&#x27;-&#x27;</span> + now.<span class="title function_">getDate</span>() + <span class=string>&#x27; &#x27;</span> + week[now.<span class="title function_">getDay</span>()]</span><br><span class=line></span><br><span class=line>        <span class=comment>// 现在与新年相差秒数</span></span><br><span class=line>        <span class=keyword>let</span> second = newYear - <span class="title class_">Math</span>.<span class="title function_">round</span>(now.<span class="title function_">getTime</span>() / <span class=number>1000</span>);</span><br><span class=line></span><br><span class=line>        <span class=comment>// 小于0则表示已经过年</span></span><br><span class=line>        <span class=keyword>if</span> (second &lt; <span class=number>0</span>) &#123;</span><br><span class=line>            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .title&#x27;</span>).<span class=property>innerHTML</span> = <span class=string>&#x27;Happy New Year!&#x27;</span>;</span><br><span class=line>            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .newYear-time&#x27;</span>).<span class=property>innerHTML</span> = <span class=string>&#x27;&lt;span class=&quot;happyNewYear&quot;&gt;新年快乐&lt;/p&gt;&#x27;</span>;</span><br><span class=line>        &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>            <span class=comment>// 大于0则还未过年</span></span><br><span class=line>            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .title&#x27;</span>).<span class=property>innerHTML</span> = <span class=string>&#x27;距离2023年春节：&#x27;</span></span><br><span class=line></span><br><span class=line>            <span class=comment>// 大于一天则直接渲染天数</span></span><br><span class=line>            <span class=keyword>if</span> (second &gt; <span class=number>86400</span>) &#123;</span><br><span class=line>                <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .newYear-time&#x27;</span>).<span class=property>innerHTML</span> = <span class=string>`&lt;span class=&quot;day&quot;&gt;<span class=subst>$&#123;<span class=built_in>Math</span>.ceil(second / <span class=number>86400</span>)&#125;</span>&lt;span class=&quot;unit&quot;&gt;天&lt;/span&gt;&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>                <span class=comment>// 小于一天则使用时分秒计时。</span></span><br><span class=line>                <span class=keyword>let</span> h = <span class="title function_">nol</span>(<span class=built_in>parseInt</span>(second / <span class=number>3600</span>));</span><br><span class=line>                second %= <span class=number>3600</span>;</span><br><span class=line>                <span class=keyword>let</span> m = <span class="title function_">nol</span>(<span class=built_in>parseInt</span>(second / <span class=number>60</span>));</span><br><span class=line>                second %= <span class=number>60</span>;</span><br><span class=line>                <span class=keyword>let</span> s = <span class="title function_">nol</span>(second);</span><br><span class=line>                <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&#x27;#newYear .newYear-time&#x27;</span>).<span class=property>innerHTML</span> = <span class=string>`&lt;span class=&quot;time&quot;&gt;<span class=subst>$&#123;h&#125;</span>:<span class=subst>$&#123;m&#125;</span>:<span class=subst>$&#123;s&#125;</span>&lt;/span&gt;&lt;/span&gt;`</span>;</span><br><span class=line>                <span class=comment>// 计时</span></span><br><span class=line>                newYearTimer = <span class=built_in>setTimeout</span>(time, <span class=number>1000</span>);</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    <span class=comment>// 元宝飘落</span></span><br><span class=line>    <span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class=keyword>function</span> (<span class=params>$</span>) &#123;</span><br><span class=line>        $(<span class=string>&#x27;#newYear&#x27;</span>).<span class="title function_">wpSuperSnow</span>(&#123;</span><br><span class=line>            <span class=attr>flakes</span>: [<span class=string>&#x27;https://tuchuang.voooe.cn/images/2023/01/02/yb1.webp&#x27;</span>, <span class=string>&#x27;https://tuchuang.voooe.cn/images/2023/01/02/yb2.webp&#x27;</span>, <span class=string>&#x27;https://tuchuang.voooe.cn/images/2023/01/02/yb3.webp&#x27;</span>],</span><br><span class=line>            <span class=attr>totalFlakes</span>: <span class=string>&#x27;100&#x27;</span>,</span><br><span class=line>            <span class=attr>zIndex</span>: <span class=string>&#x27;999999&#x27;</span>,</span><br><span class=line>            <span class=attr>maxSize</span>: <span class=string>&#x27;30&#x27;</span>,</span><br><span class=line>            <span class=attr>maxDuration</span>: <span class=string>&#x27;20&#x27;</span>,</span><br><span class=line>            <span class=attr>useFlakeTrans</span>: <span class=literal>false</span></span><br><span class=line>        &#125;);</span><br><span class=line>    &#125;);</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>// Pjax适配：若没有开启Pjax这里直接是newYear()即可</span></span><br><span class=line><span class=comment>// 开了Pjax的用以下两句</span></span><br><span class=line><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class=string>&#x27;pjax:complete&#x27;</span>, newYear);</span><br><span class=line><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class=string>&#x27;DOMContentLoaded&#x27;</span>, newYear);</span><br></pre></td></tr></table></figure></li><li><p>引入依赖：在主题配置文件<code>_config.butterfly.yml</code>中添加如下代码：</p><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=attr>inject:</span> </span><br><span class=line>  <span class=attr>bottom:</span> </span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>src=&quot;https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span> <span class=comment># jQuery</span></span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>async</span> <span class=string>data-pjax</span> <span class=string>src=&quot;https://cdn.wpon.cn/2022-sucai/Gold-ingot.js&quot;&gt;&lt;/script&gt;</span>  <span class=comment># 新年元宝</span></span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>async</span> <span class=string>data-pjax</span> <span class=string>src=&quot;/js/newYear.js&quot;&gt;&lt;/script&gt;</span>  <span class=comment># 新年倒计时</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目：</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo cl; hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id=添加fps显示-LYX><a href=#添加fps显示-LYX class=headerlink title=添加fps显示(LYX)></a>添加fps显示(LYX)</h2><ol><li><p>新建文件<code>[BlogRoot]\source\js\fps.js</code>并写入如下代码：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>if</span> (<span class="variable language_">window</span>.<span class=property>localStorage</span>.<span class="title function_">getItem</span>(<span class=string>&quot;fpson&quot;</span>) == <span class=literal>undefined</span> || <span class="variable language_">window</span>.<span class=property>localStorage</span>.<span class="title function_">getItem</span>(<span class=string>&quot;fpson&quot;</span>) == <span class=string>&quot;1&quot;</span>) &#123;</span><br><span class=line>    <span class=keyword>var</span> rAF = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>        <span class=keyword>return</span> (</span><br><span class=line>            <span class="variable language_">window</span>.<span class=property>requestAnimationFrame</span> ||</span><br><span class=line>            <span class="variable language_">window</span>.<span class=property>webkitRequestAnimationFrame</span> ||</span><br><span class=line>            <span class=keyword>function</span> (<span class=params>callback</span>) &#123;</span><br><span class=line>                <span class="variable language_">window</span>.<span class=built_in>setTimeout</span>(callback, <span class=number>1000</span> / <span class=number>60</span>);</span><br><span class=line>            &#125;</span><br><span class=line>        );</span><br><span class=line>    &#125;();</span><br><span class=line>    <span class=keyword>var</span> frame = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>var</span> allFrameCount = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>var</span> lastTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class=line>    <span class=keyword>var</span> lastFameTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class=line>    <span class=keyword>var</span> loop = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>        <span class=keyword>var</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class=line>        <span class=keyword>var</span> fs = (now - lastFameTime);</span><br><span class=line>        <span class=keyword>var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class=number>1000</span> / fs);</span><br><span class=line></span><br><span class=line>        lastFameTime = now;</span><br><span class=line>        <span class=comment>// 不置 0，在动画的开头及结尾记录此值的差值算出 FPS</span></span><br><span class=line>        allFrameCount++;</span><br><span class=line>        frame++;</span><br><span class=line></span><br><span class=line>        <span class=keyword>if</span> (now &gt; <span class=number>1000</span> + lastTime) &#123;</span><br><span class=line>            <span class=keyword>var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class=number>1000</span>) / (now - lastTime));</span><br><span class=line>            <span class=keyword>if</span> (fps &lt;= <span class=number>5</span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:#bd0000&quot;&gt;卡成ppt🤢&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> <span class=keyword>if</span> (fps &lt;= <span class=number>15</span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:red&quot;&gt;电竞级帧率😖&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> <span class=keyword>if</span> (fps &lt;= <span class=number>25</span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:orange&quot;&gt;有点难受😨&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> <span class=keyword>if</span> (fps &lt; <span class=number>35</span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:#9338e6&quot;&gt;不太流畅🙄&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> <span class=keyword>if</span> (fps &lt;= <span class=number>45</span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:#08b7e4&quot;&gt;还不错哦😁&lt;/span&gt;`</span></span><br><span class=line>            &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>                <span class=keyword>var</span> kd = <span class=string>`&lt;span style=&quot;color:#39c5bb&quot;&gt;十分流畅🤣&lt;/span&gt;`</span></span><br><span class=line>            &#125;</span><br><span class=line>            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&quot;fps&quot;</span>).<span class=property>innerHTML</span> = <span class=string>`FPS:<span class=subst>$&#123;fps&#125;</span> <span class=subst>$&#123;kd&#125;</span>`</span>;</span><br><span class=line>            frame = <span class=number>0</span>;</span><br><span class=line>            lastTime = now;</span><br><span class=line>        &#125;;</span><br><span class=line></span><br><span class=line>        <span class="title function_">rAF</span>(loop);</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    <span class="title function_">loop</span>();</span><br><span class=line>&#125; <span class=keyword>else</span> &#123;</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&quot;fps&quot;</span>).<span class=property>style</span> = <span class=string>&quot;display:none!important&quot;</span></span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>在自定义样式文件<code>custom.css</code>中加入如下代码，我这里让这块东西在左下角，你可以自己指定位置，其中<code>backdrop-filter</code>过滤器也可以自己指定，也可以不要：</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br></pre></td><td class=code><pre><span class=line><span class=comment>/* 帧率检测 */</span></span><br><span class=line><span class=selector-id>#fps</span> &#123;</span><br><span class=line>  <span class=attribute>position</span>: fixed;</span><br><span class=line>  <span class=comment>/* 指定位置 */</span></span><br><span class=line>  <span class=attribute>left</span>: <span class=number>10px</span>;</span><br><span class=line>  <span class=attribute>bottom</span>: <span class=number>10px</span>;</span><br><span class=line>  <span class=attribute>z-index</span>: <span class=number>1919810</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;light&quot;</span>]</span> <span class=selector-id>#fps</span> &#123;</span><br><span class=line>  <span class=attribute>background-color</span>: <span class=built_in>rgba</span>(<span class=number>255</span>, <span class=number>255</span>, <span class=number>255</span>, <span class=number>0.85</span>);</span><br><span class=line>  backdrop-<span class=attribute>filter</span>: <span class=built_in>var</span>(--backdrop-filter);</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>4px</span>;</span><br><span class=line>  <span class=attribute>border-radius</span>: <span class=number>4px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;dark&quot;</span>]</span> <span class=selector-id>#fps</span> &#123;</span><br><span class=line>  <span class=attribute>background-color</span>: <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, <span class=number>0.72</span>);</span><br><span class=line>  backdrop-<span class=attribute>filter</span>: <span class=built_in>var</span>(--backdrop-filter);</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>4px</span>;</span><br><span class=line>  <span class=attribute>border-radius</span>: <span class=number>4px</span>;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>文件中加入以下代码：</p><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=attr>inject:</span> </span><br><span class=line>  <span class=attr>head:</span> </span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;span</span> <span class=string>id=&quot;fps&quot;&gt;&lt;/span&gt;</span> <span class=comment># 帧率检测</span></span><br><span class=line>  <span class=attr>bottom:</span> </span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>async</span> <span class=string>src=&quot;/js/fps.js&quot;&gt;&lt;/script&gt;</span> <span class=comment># 帧率检测</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目看看角落有没有出现帧率块</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo cl; hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id=文章页顶波浪线><a href=#文章页顶波浪线 class=headerlink title=文章页顶波浪线></a>文章页顶波浪线</h2><p><a target=_blank rel=noopener href=https://blog.anheyu.com/posts/98c4.html>butterfly文章顶部添加波浪效果 | 安知鱼 (anheyu.com)</a></p><ol><li><p>修改 <code>[BlogRoor]\themes/butterfly/layout/includes/header/index.pug</code> 大概第 33 行左右</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre></td><td class=code><pre><span class=line>if top_img !== false</span><br><span class=line>  if is_post()</span><br><span class=line>    include ./post-info.pug</span><br><span class=line>+   section.main-hero-waves-area.waves-area</span><br><span class=line>+     svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span><br><span class=line>+       defs</span><br><span class=line>+         path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span><br><span class=line>+       g.parallax</span><br><span class=line>+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span><br><span class=line>+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span><br><span class=line>+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span><br><span class=line>+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span><br><span class=line>    #post-top-cover</span><br><span class=line>      img#post-top-bg(class=&#x27;nolazyload&#x27; src=bg_img)</span><br><span class=line>  else if is_home()</span><br><span class=line>    #site-info</span><br><span class=line>      h1#site-title=site_title</span><br><span class=line>      if theme.subtitle.enable</span><br></pre></td></tr></table></figure><p>为了方便复制，提供一份需要修改的部分:</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>复制成功section.main-hero-waves-area.waves-area</span><br><span class=line>  svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span><br><span class=line>    defs</span><br><span class=line>      path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span><br><span class=line>    g.parallax</span><br><span class=line>      use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span><br><span class=line>      use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span><br><span class=line>      use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span><br><span class=line>      use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span><br></pre></td></tr></table></figure></li><li><p>然后在<code>_config.butterfly.yml</code>的 <code>[inject.head]</code> 或者自定义 css 中 引入以下 css</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br></pre></td><td class=code><pre><span class=line>复制成功</span><br><span class=line><span class=comment>/* 波浪css */</span></span><br><span class=line><span class=selector-class>.main-hero-waves-area</span> &#123;</span><br><span class=line>  <span class=attribute>width</span>: <span class=number>100%</span>;</span><br><span class=line>  <span class=attribute>position</span>: absolute;</span><br><span class=line>  <span class=attribute>left</span>: <span class=number>0</span>;</span><br><span class=line>  <span class=attribute>bottom</span>: -<span class=number>11px</span>;</span><br><span class=line>  <span class=attribute>z-index</span>: <span class=number>5</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.waves-area</span> <span class=selector-class>.waves-svg</span> &#123;</span><br><span class=line>  <span class=attribute>width</span>: <span class=number>100%</span>;</span><br><span class=line>  <span class=attribute>height</span>: <span class=number>5rem</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>/* Animation */</span></span><br><span class=line></span><br><span class=line><span class=selector-class>.parallax</span> &gt; use &#123;</span><br><span class=line>  <span class=attribute>animation</span>: move-forever <span class=number>25s</span> <span class=built_in>cubic-bezier</span>(<span class=number>0.55</span>, <span class=number>0.5</span>, <span class=number>0.45</span>, <span class=number>0.5</span>) infinite;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>1</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>2s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>7s</span>;</span><br><span class=line>  fill: <span class=number>#f7f9febd</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>2</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>3s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>10s</span>;</span><br><span class=line>  fill: <span class=number>#f7f9fe82</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>3</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>4s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>13s</span>;</span><br><span class=line>  fill: <span class=number>#f7f9fe36</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>4</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>5s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>20s</span>;</span><br><span class=line>  fill: <span class=number>#f7f9fe</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>/* 黑色模式背景 */</span></span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;dark&quot;</span>]</span> <span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>1</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>2s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>7s</span>;</span><br><span class=line>  fill: <span class=number>#18171dc8</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;dark&quot;</span>]</span> <span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>2</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>3s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>10s</span>;</span><br><span class=line>  fill: <span class=number>#18171d80</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;dark&quot;</span>]</span> <span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>3</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>4s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>13s</span>;</span><br><span class=line>  fill: <span class=number>#18171d3e</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-attr>[data-theme=<span class=string>&quot;dark&quot;</span>]</span> <span class=selector-class>.parallax</span> &gt; use<span class=selector-pseudo>:nth-child</span>(<span class=number>4</span>) &#123;</span><br><span class=line>  <span class=attribute>animation-delay</span>: -<span class=number>5s</span>;</span><br><span class=line>  <span class=attribute>animation-duration</span>: <span class=number>20s</span>;</span><br><span class=line>  fill: <span class=number>#18171d</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=keyword>@keyframes</span> move-forever &#123;</span><br><span class=line>  <span class=number>0%</span> &#123;</span><br><span class=line>    <span class=attribute>transform</span>: <span class=built_in>translate3d</span>(-<span class=number>90px</span>, <span class=number>0</span>, <span class=number>0</span>);</span><br><span class=line>  &#125;</span><br><span class=line>  <span class=number>100%</span> &#123;</span><br><span class=line>    <span class=attribute>transform</span>: <span class=built_in>translate3d</span>(<span class=number>85px</span>, <span class=number>0</span>, <span class=number>0</span>);</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>/*Shrinking for mobile*/</span></span><br><span class=line><span class=keyword>@media</span> (<span class=attribute>max-width</span>: <span class=number>768px</span>) &#123;</span><br><span class=line>  <span class=selector-class>.waves-area</span> <span class=selector-class>.waves-svg</span> &#123;</span><br><span class=line>    <span class=attribute>height</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>min-height</span>: <span class=number>40px</span>;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>需要注意的是 css 中<code>fill属性</code>可以控制波浪颜色，最好使其中一个颜色与背景颜色一致，否则会显的有点奇怪，然后就是重启项目</p><figure class="highlight md"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo cl; hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id=Heo同款加载动画（安知鱼）><a href=#Heo同款加载动画（安知鱼） class=headerlink title=Heo同款加载动画（安知鱼）></a>Heo同款加载动画（安知鱼）</h2><p>懒得搬过来了，详见：<a target=_blank rel=noopener href=https://blog.anheyu.com/posts/52d8.html>Heo同款loading动画</a></p><h2 id=自定义右键菜单（自用）><a href=#自定义右键菜单（自用） class=headerlink title=自定义右键菜单（自用）></a>自定义右键菜单（自用）</h2><p>参考：</p><ul><li><a target=_blank rel=noopener href=https://yisous.xyz/posts/11eb4aac/ >LYX:butterfly博客自定义右键菜单升级版</a></li><li><a target=_blank rel=noopener href=https://tzy1997.com/articles/hexo1608/ >TZY:Hexo + Butterfly 自定义右键菜单</a></li><li><a target=_blank rel=noopener href=https://blog.dorakika.cn/p/20220118.html>Dorakika:自定义右键菜单</a></li></ul><ol><li><p>新建 <code>[BlogRoot]\themes\butterfly\layout\includes\rightmenu.pug</code>，编写以下内容：</p><p>我这里统一采用<code>font-Awesome</code>的图标，因为颜色比较统一，就没用iconfont的图标了</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br></pre></td><td class=code><pre><span class=line>#rightMenu.js-pjax</span><br><span class=line>    .rightMenu-group.rightMenu-small</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.history.back();&quot;)</span><br><span class=line>            i.fa.fa-arrow-left</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.history.forward();&quot;)</span><br><span class=line>            i.fa.fa-arrow-right</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.location.reload();&quot;)</span><br><span class=line>            i.fa.fa-refresh</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.scrollToTop();&quot;)</span><br><span class=line>            i.fa.fa-arrow-up</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-text</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.copySelect();&quot;)</span><br><span class=line>            i.fa.fa-copy</span><br><span class=line>            span=&#x27;复制&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.open(\&quot;https://www.baidu.com/s?wd=\&quot;+window.getSelection().toString());window.location.reload();&quot;)</span><br><span class=line>            i.fa.fa-search</span><br><span class=line>            span=&#x27;百度搜索&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-too</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.open(window.getSelection().toString());window.location.reload();&quot;)</span><br><span class=line>            i.fa.fa-link</span><br><span class=line>            span=&#x27;转到链接&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-paste</span><br><span class=line>        a.rightMenu-item(href=&#x27;javascript:rmf.paste()&#x27;)</span><br><span class=line>            i.fa.fa-copy</span><br><span class=line>            span=&#x27;粘贴&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-post</span><br><span class=line>        a.rightMenu-item(href=&quot;#post-comment&quot;)</span><br><span class=line>            i.fas.fa-comment</span><br><span class=line>            span=&#x27;空降评论&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.copyWordsLink()&quot;)</span><br><span class=line>            i.fa.fa-link</span><br><span class=line>            span=&#x27;复制本文地址&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-to</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.openWithNewTab()&quot;)</span><br><span class=line>            i.fa.fa-window-restore</span><br><span class=line>            span=&#x27;新窗口打开&#x27;</span><br><span class=line>        a.rightMenu-item#menu-too(href=&quot;javascript:rmf.open()&quot;)</span><br><span class=line>            i.fa.fa-link</span><br><span class=line>            span=&#x27;转到链接&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.copyLink()&quot;)</span><br><span class=line>            i.fa.fa-copy</span><br><span class=line>            span=&#x27;复制链接&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line.hide#menu-img</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.saveAs()&quot;)</span><br><span class=line>            i.fa.fa-download</span><br><span class=line>            span=&#x27;保存图片&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.openWithNewTab()&quot;)</span><br><span class=line>            i.fa.fa-window-restore</span><br><span class=line>            span=&#x27;在新窗口打开&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.copyLink()&quot;)</span><br><span class=line>            i.fa.fa-copy</span><br><span class=line>            span=&#x27;复制图片链接&#x27;</span><br><span class=line>    .rightMenu-group.rightMenu-line</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:randomPost()&quot;)</span><br><span class=line>            i.fa.fa-paper-plane</span><br><span class=line>            span=&#x27;随便逛逛&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:switchNightMode();&quot;)</span><br><span class=line>            i.fa.fa-moon</span><br><span class=line>            span=&#x27;昼夜切换&#x27;</span><br><span class=line>        if is_post()||is_page()</span><br><span class=line>            a.rightMenu-item(href=&quot;javascript:rmf.switchReadMode();&quot;)</span><br><span class=line>                i.fa.fa-book</span><br><span class=line>                span=&#x27;阅读模式&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;/personal/about/&quot;)</span><br><span class=line>            i.fa.fa-info-circle</span><br><span class=line>            span=&#x27;关于博客&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:toggleWinbox();&quot;)</span><br><span class=line>            i.fas.fa-cog</span><br><span class=line>            span=&#x27;美化设置&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:rmf.fullScreen();&quot;)</span><br><span class=line>            i.fas.fa-expand</span><br><span class=line>            span=&#x27;切换全屏&#x27;</span><br><span class=line>        a.rightMenu-item(href=&quot;javascript:window.print();&quot;)</span><br><span class=line>            i.fa-solid.fa-print</span><br><span class=line>            span=&#x27;打印页面&#x27;</span><br></pre></td></tr></table></figure></li><li><p>然后在 <code>[BlogRoot]/themes/butterfly/layout/includes/layout.pug</code>中引入（注意缩进，去掉+）</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre></td><td class=code><pre><span class=line>doctype html</span><br><span class=line>html(lang=config.language data-theme=theme.display_mode class=htmlClassHideAside)</span><br><span class=line>  head</span><br><span class=line>    include ./head.pug</span><br><span class=line>  body</span><br><span class=line>    ...</span><br><span class=line></span><br><span class=line>    else</span><br><span class=line>      include ./404.pug</span><br><span class=line></span><br><span class=line>    include ./rightside.pug</span><br><span class=line>    !=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class=line>+    !=partial(&#x27;includes/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span><br><span class=line>    include ./additional-js.pug</span><br></pre></td></tr></table></figure></li><li><p>在自定义的<code>custom.css</code>中加入以下样式描述菜单，其中重要的颜色我都做了备注，根据自己的需要修改</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br></pre></td><td class=code><pre><span class=line><span class=comment>/* 右键菜单 */</span></span><br><span class=line><span class=selector-id>#rightMenu</span> &#123;</span><br><span class=line>  <span class=attribute>display</span>: none;</span><br><span class=line>  <span class=attribute>position</span>: fixed;</span><br><span class=line>  <span class=attribute>width</span>: <span class=number>160px</span>;</span><br><span class=line>  <span class=attribute>height</span>: fit-content;</span><br><span class=line>  <span class=attribute>top</span>: <span class=number>10%</span>;</span><br><span class=line>  <span class=attribute>left</span>: <span class=number>10%</span>;</span><br><span class=line>    <span class=comment>/* 菜单面板背景色 */</span></span><br><span class=line>  <span class=attribute>background-color</span>: <span class=built_in>var</span>(--card-bg);</span><br><span class=line>    <span class=comment>/* 菜单面板文字颜色 */</span></span><br><span class=line>  <span class=attribute>border</span>: <span class=number>1px</span> solid <span class=built_in>var</span>(--font-color);</span><br><span class=line>  <span class=attribute>border-radius</span>: <span class=number>8px</span>;</span><br><span class=line>  <span class=attribute>z-index</span>: <span class=number>100</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span> &#123;</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>7px</span> <span class=number>6px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span><span class=selector-pseudo>:not</span>(<span class=selector-pseudo>:nth-last-child</span>(<span class=number>1</span>)) &#123;</span><br><span class=line>  <span class=attribute>border-bottom</span>: <span class=number>1px</span> solid <span class=built_in>var</span>(--font-color);</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span><span class=selector-class>.rightMenu-small</span> &#123;</span><br><span class=line>  <span class=attribute>display</span>: flex;</span><br><span class=line>  <span class=attribute>justify-content</span>: space-between;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span> <span class=selector-class>.rightMenu-item</span> &#123;</span><br><span class=line>  <span class=attribute>height</span>: <span class=number>30px</span>;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>30px</span>;</span><br><span class=line>  <span class=attribute>border-radius</span>: <span class=number>8px</span>;</span><br><span class=line>  <span class=attribute>transition</span>: <span class=number>0.3s</span>;</span><br><span class=line>  <span class=attribute>color</span>: <span class=built_in>var</span>(--font-color);</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span><span class=selector-class>.rightMenu-line</span> <span class=selector-class>.rightMenu-item</span> &#123;</span><br><span class=line>  <span class=attribute>display</span>: flex;</span><br><span class=line>  <span class=attribute>height</span>: <span class=number>40px</span>;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>40px</span>;</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>0</span> <span class=number>4px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span> <span class=selector-class>.rightMenu-item</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line>    <span class=comment>/* 鼠标悬浮选项颜色 */</span></span><br><span class=line>  <span class=attribute>background-color</span>: <span class=built_in>var</span>(--text-bg-hover);</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span> <span class=selector-class>.rightMenu-item</span> <span class=selector-tag>i</span> &#123;</span><br><span class=line>  <span class=attribute>display</span>: inline-block;</span><br><span class=line>  <span class=attribute>text-align</span>: center;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>30px</span>;</span><br><span class=line>  <span class=attribute>width</span>: <span class=number>30px</span>;</span><br><span class=line>  <span class=attribute>height</span>: <span class=number>30px</span>;</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>0</span> <span class=number>5px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span> <span class=selector-class>.rightMenu-item</span> <span class=selector-tag>span</span> &#123;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>30px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-id>#rightMenu</span> <span class=selector-class>.rightMenu-group</span><span class=selector-class>.rightMenu-line</span> <span class=selector-class>.rightMenu-item</span> * &#123;</span><br><span class=line>  <span class=attribute>height</span>: <span class=number>40px</span>;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>40px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.rightMenu-group</span><span class=selector-class>.hide</span> &#123;</span><br><span class=line>  <span class=attribute>display</span>: none;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>创建 <code>[BlogRoot]/themes/butterfly/source/js/rightmenu.js</code>，并写入如下代码：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>function</span> <span class="title function_">setMask</span>(<span class=params></span>) &#123;</span><br><span class=line>    <span class=comment>//设置遮罩</span></span><br><span class=line>    <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class=string>&quot;rmMask&quot;</span>)[<span class=number>0</span>] != <span class=literal>undefined</span>)</span><br><span class=line>        <span class=keyword>return</span> <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class=string>&quot;rmMask&quot;</span>)[<span class=number>0</span>];</span><br><span class=line>    mask = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&#x27;div&#x27;</span>);</span><br><span class=line>    mask.<span class=property>className</span> = <span class=string>&quot;rmMask&quot;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>width</span> = <span class="variable language_">window</span>.<span class=property>innerWidth</span> + <span class=string>&#x27;px&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>height</span> = <span class="variable language_">window</span>.<span class=property>innerHeight</span> + <span class=string>&#x27;px&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>background</span> = <span class=string>&#x27;#fff&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>opacity</span> = <span class=string>&#x27;.0&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>position</span> = <span class=string>&#x27;fixed&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>top</span> = <span class=string>&#x27;0&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>left</span> = <span class=string>&#x27;0&#x27;</span>;</span><br><span class=line>    mask.<span class=property>style</span>.<span class=property>zIndex</span> = <span class=number>998</span>;</span><br><span class=line>    <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(mask);</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&quot;rightMenu&quot;</span>).<span class=property>style</span>.<span class=property>zIndex</span> = <span class=number>19198</span>;</span><br><span class=line>    <span class=keyword>return</span> mask;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=keyword>function</span> <span class="title function_">insertAtCursor</span>(<span class=params>myField, myValue</span>) &#123;</span><br><span class=line></span><br><span class=line>    <span class=comment>//IE 浏览器</span></span><br><span class=line>    <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class=property>selection</span>) &#123;</span><br><span class=line>        myField.<span class="title function_">focus</span>();</span><br><span class=line>        sel = <span class="variable language_">document</span>.<span class=property>selection</span>.<span class="title function_">createRange</span>();</span><br><span class=line>        sel.<span class=property>text</span> = myValue;</span><br><span class=line>        sel.<span class="title function_">select</span>();</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    <span class=comment>//FireFox、Chrome等</span></span><br><span class=line>    <span class=keyword>else</span> <span class=keyword>if</span> (myField.<span class=property>selectionStart</span> || myField.<span class=property>selectionStart</span> == <span class=string>&#x27;0&#x27;</span>) &#123;</span><br><span class=line>        <span class=keyword>var</span> startPos = myField.<span class=property>selectionStart</span>;</span><br><span class=line>        <span class=keyword>var</span> endPos = myField.<span class=property>selectionEnd</span>;</span><br><span class=line></span><br><span class=line>        <span class=comment>// 保存滚动条</span></span><br><span class=line>        <span class=keyword>var</span> restoreTop = myField.<span class=property>scrollTop</span>;</span><br><span class=line>        myField.<span class=property>value</span> = myField.<span class=property>value</span>.<span class="title function_">substring</span>(<span class=number>0</span>, startPos) + myValue + myField.<span class=property>value</span>.<span class="title function_">substring</span>(endPos, myField.<span class=property>value</span>.<span class=property>length</span>);</span><br><span class=line></span><br><span class=line>        <span class=keyword>if</span> (restoreTop &gt; <span class=number>0</span>) &#123;</span><br><span class=line>            myField.<span class=property>scrollTop</span> = restoreTop;</span><br><span class=line>        &#125;</span><br><span class=line></span><br><span class=line>        myField.<span class="title function_">focus</span>();</span><br><span class=line>        myField.<span class=property>selectionStart</span> = startPos + myValue.<span class=property>length</span>;</span><br><span class=line>        myField.<span class=property>selectionEnd</span> = startPos + myValue.<span class=property>length</span>;</span><br><span class=line>    &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>        myField.<span class=property>value</span> += myValue;</span><br><span class=line>        myField.<span class="title function_">focus</span>();</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=keyword>let</span> rmf = &#123;&#125;;</span><br><span class=line>rmf.<span class=property>showRightMenu</span> = <span class=keyword>function</span> (<span class=params>isTrue, x = <span class=number>0</span>, y = <span class=number>0</span></span>) &#123;</span><br><span class=line>    <span class=keyword>let</span> $rightMenu = $(<span class=string>&#x27;#rightMenu&#x27;</span>);</span><br><span class=line>    $rightMenu.<span class="title function_">css</span>(<span class=string>&#x27;top&#x27;</span>, x + <span class=string>&#x27;px&#x27;</span>).<span class="title function_">css</span>(<span class=string>&#x27;left&#x27;</span>, y + <span class=string>&#x27;px&#x27;</span>);</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (isTrue) &#123;</span><br><span class=line>        $rightMenu.<span class="title function_">show</span>();</span><br><span class=line>    &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>        $rightMenu.<span class="title function_">hide</span>();</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>rmf.<span class=property>copyWordsLink</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>    <span class=keyword>let</span> url = <span class="variable language_">window</span>.<span class=property>location</span>.<span class=property>href</span></span><br><span class=line>    <span class=keyword>let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&quot;textarea&quot;</span>);</span><br><span class=line>    txa.<span class=property>value</span> = url;</span><br><span class=line>    <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class=line>    txa.<span class="title function_">select</span>();</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class=string>&quot;Copy&quot;</span>);</span><br><span class=line>    <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class=line>&#125;</span><br><span class=line>rmf.<span class=property>switchReadMode</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>    <span class=keyword>const</span> $body = <span class="variable language_">document</span>.<span class=property>body</span></span><br><span class=line>    $body.<span class=property>classList</span>.<span class="title function_">add</span>(<span class=string>&#x27;read-mode&#x27;</span>)</span><br><span class=line>    <span class=keyword>const</span> newEle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&#x27;button&#x27;</span>)</span><br><span class=line>    newEle.<span class=property>type</span> = <span class=string>&#x27;button&#x27;</span></span><br><span class=line>    newEle.<span class=property>className</span> = <span class=string>&#x27;fas fa-sign-out-alt exit-readmode&#x27;</span></span><br><span class=line>    $body.<span class="title function_">appendChild</span>(newEle)</span><br><span class=line></span><br><span class=line>    <span class=keyword>function</span> <span class="title function_">clickFn</span>(<span class=params></span>) &#123;</span><br><span class=line>        $body.<span class=property>classList</span>.<span class="title function_">remove</span>(<span class=string>&#x27;read-mode&#x27;</span>)</span><br><span class=line>        newEle.<span class="title function_">remove</span>()</span><br><span class=line>        newEle.<span class="title function_">removeEventListener</span>(<span class=string>&#x27;click&#x27;</span>, clickFn)</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    newEle.<span class="title function_">addEventListener</span>(<span class=string>&#x27;click&#x27;</span>, clickFn)</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=comment>//复制选中文字</span></span><br><span class=line>rmf.<span class=property>copySelect</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class=string>&#x27;Copy&#x27;</span>, <span class=literal>false</span>, <span class=literal>null</span>);</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=comment>//回到顶部</span></span><br><span class=line>rmf.<span class=property>scrollToTop</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class=string>&quot;menus_items&quot;</span>)[<span class=number>1</span>].<span class="title function_">setAttribute</span>(<span class=string>&quot;style&quot;</span>, <span class=string>&quot;&quot;</span>);</span><br><span class=line>    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class=string>&quot;style&quot;</span>, <span class=string>&quot;display:none&quot;</span>);</span><br><span class=line>    btf.<span class="title function_">scrollToDest</span>(<span class=number>0</span>, <span class=number>500</span>);</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">addEventListener</span>(<span class=string>&#x27;touchmove&#x27;</span>, <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line></span><br><span class=line>&#125;, &#123; <span class=attr>passive</span>: <span class=literal>false</span> &#125;);</span><br><span class=line></span><br><span class=line><span class=keyword>function</span> <span class="title function_">popupMenu</span>(<span class=params></span>) &#123;</span><br><span class=line>    <span class="variable language_">window</span>.<span class=property>oncontextmenu</span> = <span class=keyword>function</span> (<span class=params>event</span>) &#123;</span><br><span class=line>        <span class=comment>// if (event.ctrlKey) return true;</span></span><br><span class=line></span><br><span class=line>        <span class=comment>// 当关掉自定义右键时候直接返回</span></span><br><span class=line>        <span class=keyword>if</span> (mouseMode == <span class=string>&quot;off&quot;</span>) <span class=keyword>return</span> <span class=literal>true</span>;</span><br><span class=line></span><br><span class=line>        $(<span class=string>&#x27;.rightMenu-group.hide&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class=line>        <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-text&#x27;</span>).<span class="title function_">show</span>();</span><br><span class=line>        &#125;</span><br><span class=line>        <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&#x27;post&#x27;</span>)) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class=line>        &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>            <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class=string>&#x27;page&#x27;</span>)) &#123;</span><br><span class=line>                $(<span class=string>&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;</span><br><span class=line>        <span class=keyword>var</span> el = <span class="variable language_">window</span>.<span class=property>document</span>.<span class=property>body</span>;</span><br><span class=line>        el = event.<span class=property>target</span>;</span><br><span class=line>        <span class=keyword>var</span> a = <span class=regexp>/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;&#x27;\*\+,;=.]+$/</span></span><br><span class=line>        <span class=keyword>if</span> (a.<span class="title function_">test</span>(<span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()) &amp;&amp; el.<span class=property>tagName</span> != <span class=string>&quot;A&quot;</span>) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-too&#x27;</span>).<span class="title function_">show</span>()</span><br><span class=line>        &#125;</span><br><span class=line>        <span class=keyword>if</span> (el.<span class=property>tagName</span> == <span class=string>&#x27;A&#x27;</span>) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-to&#x27;</span>).<span class="title function_">show</span>()</span><br><span class=line>            rmf.<span class=property>open</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class=keyword>if</span> (el.<span class=property>href</span>.<span class="title function_">indexOf</span>(<span class=string>&quot;http://&quot;</span>) == -<span class=number>1</span> &amp;&amp; el.<span class=property>href</span>.<span class="title function_">indexOf</span>(<span class=string>&quot;https://&quot;</span>) == -<span class=number>1</span> || el.<span class=property>href</span>.<span class="title function_">indexOf</span>(<span class=string>&quot;yisous.xyz&quot;</span>) != -<span class=number>1</span>) &#123;</span><br><span class=line>                    pjax.<span class="title function_">loadUrl</span>(el.<span class=property>href</span>)</span><br><span class=line>                &#125;</span><br><span class=line>                <span class=keyword>else</span> &#123;</span><br><span class=line>                    location.<span class=property>href</span> = el.<span class=property>href</span></span><br><span class=line>                &#125;</span><br><span class=line>            &#125;</span><br><span class=line>            rmf.<span class=property>openWithNewTab</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class=property>href</span>);</span><br><span class=line>                <span class=comment>// window.location.reload();</span></span><br><span class=line>            &#125;</span><br><span class=line>            rmf.<span class=property>copyLink</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class=keyword>let</span> url = el.<span class=property>href</span></span><br><span class=line>                <span class=keyword>let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&quot;textarea&quot;</span>);</span><br><span class=line>                txa.<span class=property>value</span> = url;</span><br><span class=line>                <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class=line>                txa.<span class="title function_">select</span>();</span><br><span class=line>                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class=string>&quot;Copy&quot;</span>);</span><br><span class=line>                <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class=line>            &#125;</span><br><span class=line>        &#125; <span class=keyword>else</span> <span class=keyword>if</span> (el.<span class=property>tagName</span> == <span class=string>&#x27;IMG&#x27;</span>) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-img&#x27;</span>).<span class="title function_">show</span>()</span><br><span class=line>            rmf.<span class=property>openWithNewTab</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class=property>src</span>);</span><br><span class=line>                <span class=comment>// window.location.reload();</span></span><br><span class=line>            &#125;</span><br><span class=line>            rmf.<span class=property>click</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                el.<span class="title function_">click</span>()</span><br><span class=line>            &#125;</span><br><span class=line>            rmf.<span class=property>copyLink</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class=keyword>let</span> url = el.<span class=property>src</span></span><br><span class=line>                <span class=keyword>let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&quot;textarea&quot;</span>);</span><br><span class=line>                txa.<span class=property>value</span> = url;</span><br><span class=line>                <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class=line>                txa.<span class="title function_">select</span>();</span><br><span class=line>                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class=string>&quot;Copy&quot;</span>);</span><br><span class=line>                <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class=line>            &#125;</span><br><span class=line>            rmf.<span class=property>saveAs</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                <span class=keyword>var</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&#x27;a&#x27;</span>);</span><br><span class=line>                <span class=keyword>var</span> url = el.<span class=property>src</span>;</span><br><span class=line>                <span class=keyword>var</span> filename = url.<span class="title function_">split</span>(<span class=string>&quot;/&quot;</span>)[-<span class=number>1</span>];</span><br><span class=line>                a.<span class=property>href</span> = url;</span><br><span class=line>                a.<span class=property>download</span> = filename;</span><br><span class=line>                a.<span class="title function_">click</span>();</span><br><span class=line>                <span class="variable language_">window</span>.<span class=property>URL</span>.<span class="title function_">revokeObjectURL</span>(url);</span><br><span class=line>            &#125;</span><br><span class=line>        &#125; <span class=keyword>else</span> <span class=keyword>if</span> (el.<span class=property>tagName</span> == <span class=string>&quot;TEXTAREA&quot;</span> || el.<span class=property>tagName</span> == <span class=string>&quot;INPUT&quot;</span>) &#123;</span><br><span class=line>            $(<span class=string>&#x27;#menu-paste&#x27;</span>).<span class="title function_">show</span>();</span><br><span class=line>            rmf.<span class=property>paste</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                navigator.<span class=property>permissions</span></span><br><span class=line>                    .<span class="title function_">query</span>(&#123;</span><br><span class=line>                        <span class=attr>name</span>: <span class=string>&#x27;clipboard-read&#x27;</span></span><br><span class=line>                    &#125;)</span><br><span class=line>                    .<span class="title function_">then</span>(<span class=function><span class=params>result</span> =&gt;</span> &#123;</span><br><span class=line>                        <span class=keyword>if</span> (result.<span class=property>state</span> == <span class=string>&#x27;granted&#x27;</span> || result.<span class=property>state</span> == <span class=string>&#x27;prompt&#x27;</span>) &#123;</span><br><span class=line>                            <span class=comment>//读取剪贴板</span></span><br><span class=line>                            navigator.<span class=property>clipboard</span>.<span class="title function_">readText</span>().<span class="title function_">then</span>(<span class=function><span class=params>text</span> =&gt;</span> &#123;</span><br><span class=line>                                <span class="variable language_">console</span>.<span class="title function_">log</span>(text)</span><br><span class=line>                                <span class="title function_">insertAtCursor</span>(el, text)</span><br><span class=line>                            &#125;)</span><br><span class=line>                        &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>                            <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class=line>                                <span class=attr>text</span>: <span class=string>&#x27;请允许读取剪贴板！&#x27;</span>,</span><br><span class=line>                                <span class=attr>pos</span>: <span class=string>&#x27;top-center&#x27;</span>,</span><br><span class=line>                                <span class=attr>showAction</span>: <span class=literal>false</span>,</span><br><span class=line>                            &#125;)</span><br><span class=line>                        &#125;</span><br><span class=line>                    &#125;)</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;</span><br><span class=line>        <span class=keyword>let</span> pageX = event.<span class=property>clientX</span> + <span class=number>10</span>;</span><br><span class=line>        <span class=keyword>let</span> pageY = event.<span class=property>clientY</span>;</span><br><span class=line>        <span class=keyword>let</span> rmWidth = $(<span class=string>&#x27;#rightMenu&#x27;</span>).<span class="title function_">width</span>();</span><br><span class=line>        <span class=keyword>let</span> rmHeight = $(<span class=string>&#x27;#rightMenu&#x27;</span>).<span class="title function_">height</span>();</span><br><span class=line>        <span class=keyword>if</span> (pageX + rmWidth &gt; <span class="variable language_">window</span>.<span class=property>innerWidth</span>) &#123;</span><br><span class=line>            pageX -= rmWidth + <span class=number>10</span>;</span><br><span class=line>        &#125;</span><br><span class=line>        <span class=keyword>if</span> (pageY + rmHeight &gt; <span class="variable language_">window</span>.<span class=property>innerHeight</span>) &#123;</span><br><span class=line>            pageY -= pageY + rmHeight - <span class="variable language_">window</span>.<span class=property>innerHeight</span>;</span><br><span class=line>        &#125;</span><br><span class=line>        mask = <span class="title function_">setMask</span>();</span><br><span class=line>        <span class=comment>// 滚动消失的代码和阅读进度有冲突，因此放到readPercent.js里面了</span></span><br><span class=line>        $(<span class=string>&quot;.rightMenu-item&quot;</span>).<span class="title function_">click</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            $(<span class=string>&#x27;.rmMask&#x27;</span>).<span class="title function_">attr</span>(<span class=string>&#x27;style&#x27;</span>, <span class=string>&#x27;display: none&#x27;</span>);</span><br><span class=line>        &#125;)</span><br><span class=line>        $(<span class="variable language_">window</span>).<span class="title function_">resize</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            rmf.<span class="title function_">showRightMenu</span>(<span class=literal>false</span>);</span><br><span class=line>            $(<span class=string>&#x27;.rmMask&#x27;</span>).<span class="title function_">attr</span>(<span class=string>&#x27;style&#x27;</span>, <span class=string>&#x27;display: none&#x27;</span>);</span><br><span class=line>        &#125;)</span><br><span class=line>        mask.<span class=property>onclick</span> = <span class=function>() =&gt;</span> &#123;</span><br><span class=line>            $(<span class=string>&#x27;.rmMask&#x27;</span>).<span class="title function_">attr</span>(<span class=string>&#x27;style&#x27;</span>, <span class=string>&#x27;display: none&#x27;</span>);</span><br><span class=line>        &#125;</span><br><span class=line>        rmf.<span class="title function_">showRightMenu</span>(<span class=literal>true</span>, pageY, pageX);</span><br><span class=line>        $(<span class=string>&#x27;.rmMask&#x27;</span>).<span class="title function_">attr</span>(<span class=string>&#x27;style&#x27;</span>, <span class=string>&#x27;display: flex&#x27;</span>);</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>false</span>;</span><br><span class=line>    &#125;;</span><br><span class=line></span><br><span class=line>    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class=string>&#x27;click&#x27;</span>, <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>        rmf.<span class="title function_">showRightMenu</span>(<span class=literal>false</span>);</span><br><span class=line>    &#125;);</span><br><span class=line>&#125;</span><br><span class=line><span class=keyword>if</span> (!(navigator.<span class=property>userAgent</span>.<span class="title function_">match</span>(<span class=regexp>/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class=line>    <span class="title function_">popupMenu</span>()</span><br><span class=line>&#125;</span><br><span class=line><span class=keyword>const</span> box = <span class="variable language_">document</span>.<span class=property>documentElement</span></span><br><span class=line></span><br><span class=line><span class=keyword>function</span> <span class="title function_">addLongtabListener</span>(<span class=params>target, callback</span>) &#123;</span><br><span class=line>    <span class=keyword>let</span> timer = <span class=number>0</span> <span class=comment>// 初始化timer</span></span><br><span class=line></span><br><span class=line>    target.<span class=property>ontouchstart</span> = <span class=function>() =&gt;</span> &#123;</span><br><span class=line>        timer = <span class=number>0</span> <span class=comment>// 重置timer</span></span><br><span class=line>        timer = <span class=built_in>setTimeout</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            <span class="title function_">callback</span>();</span><br><span class=line>            timer = <span class=number>0</span></span><br><span class=line>        &#125;, <span class=number>380</span>) <span class=comment>// 超时器能成功执行，说明是长按</span></span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    target.<span class=property>ontouchmove</span> = <span class=function>() =&gt;</span> &#123;</span><br><span class=line>        <span class=built_in>clearTimeout</span>(timer) <span class=comment>// 如果来到这里，说明是滑动</span></span><br><span class=line>        timer = <span class=number>0</span></span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    target.<span class=property>ontouchend</span> = <span class=function>() =&gt;</span> &#123; <span class=comment>// 到这里如果timer有值，说明此触摸时间不足380ms，是点击</span></span><br><span class=line>        <span class=keyword>if</span> (timer) &#123;</span><br><span class=line>            <span class=built_in>clearTimeout</span>(timer)</span><br><span class=line>        &#125;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class="title function_">addLongtabListener</span>(box, popupMenu)</span><br><span class=line></span><br><span class=line><span class=comment>// 全屏</span></span><br><span class=line>rmf.<span class=property>fullScreen</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>    <span class=keyword>if</span> (<span class="variable language_">document</span>.<span class=property>fullscreenElement</span>) <span class="variable language_">document</span>.<span class="title function_">exitFullscreen</span>();</span><br><span class=line>    <span class=keyword>else</span> <span class="variable language_">document</span>.<span class=property>documentElement</span>.<span class="title function_">requestFullscreen</span>();</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=comment>// 右键开关</span></span><br><span class=line><span class=keyword>if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class=string>&quot;mouse&quot;</span>) == <span class=literal>undefined</span>) &#123;</span><br><span class=line>    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class=string>&quot;mouse&quot;</span>, <span class=string>&quot;on&quot;</span>);</span><br><span class=line>&#125;</span><br><span class=line><span class=keyword>var</span> mouseMode = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class=string>&quot;mouse&quot;</span>);</span><br><span class=line><span class=keyword>function</span> <span class="title function_">changeMouseMode</span>(<span class=params></span>) &#123;</span><br><span class=line>    <span class=keyword>if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class=string>&quot;mouse&quot;</span>) == <span class=string>&quot;on&quot;</span>) &#123;</span><br><span class=line>        mouseMode = <span class=string>&quot;off&quot;</span>;</span><br><span class=line>        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class=string>&quot;mouse&quot;</span>, <span class=string>&quot;off&quot;</span>);</span><br><span class=line>        <span class="title function_">debounce</span>(<span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>            <span class=keyword>new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class=line>                <span class=attr>data</span>: <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                    <span class="variable language_">this</span>.$notify(&#123;</span><br><span class=line>                        <span class=attr>title</span>: <span class=string>&quot;切换右键模式成功🍔&quot;</span>,</span><br><span class=line>                        <span class=attr>message</span>: <span class=string>&quot;当前鼠标右键已恢复为系统默认！&quot;</span>,</span><br><span class=line>                        <span class=attr>position</span>: <span class=string>&#x27;top-left&#x27;</span>,</span><br><span class=line>                        <span class=attr>offset</span>: <span class=number>50</span>,</span><br><span class=line>                        <span class=attr>showClose</span>: <span class=literal>true</span>,</span><br><span class=line>                        <span class=attr>type</span>: <span class=string>&quot;success&quot;</span>,</span><br><span class=line>                        <span class=attr>duration</span>: <span class=number>5000</span></span><br><span class=line>                    &#125;);</span><br><span class=line>                &#125;</span><br><span class=line>            &#125;)</span><br><span class=line>        &#125;, <span class=number>300</span>);</span><br><span class=line>    &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>        mouseMode = <span class=string>&quot;on&quot;</span>;</span><br><span class=line>        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class=string>&quot;mouse&quot;</span>, <span class=string>&quot;on&quot;</span>);</span><br><span class=line>        <span class="title function_">debounce</span>(<span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>            <span class=keyword>new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class=line>                <span class=attr>data</span>: <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>                    <span class="variable language_">this</span>.$notify(&#123;</span><br><span class=line>                        <span class=attr>title</span>: <span class=string>&quot;切换右键模式成功🍔&quot;</span>,</span><br><span class=line>                        <span class=attr>message</span>: <span class=string>&quot;当前鼠标右键已更换为网站指定样式！&quot;</span>,</span><br><span class=line>                        <span class=attr>position</span>: <span class=string>&#x27;top-left&#x27;</span>,</span><br><span class=line>                        <span class=attr>offset</span>: <span class=number>50</span>,</span><br><span class=line>                        <span class=attr>showClose</span>: <span class=literal>true</span>,</span><br><span class=line>                        <span class=attr>type</span>: <span class=string>&quot;success&quot;</span>,</span><br><span class=line>                        <span class=attr>duration</span>: <span class=number>5000</span></span><br><span class=line>                    &#125;);</span><br><span class=line>                &#125;</span><br><span class=line>            &#125;)</span><br><span class=line>        &#125;, <span class=number>300</span>);</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure></li><li><p>引入jQuery依赖以及上述的css和js文件(<code>custom.css</code>默认已经引入了就不重复引用了)</p><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line><span class=attr>inject:</span></span><br><span class=line>  <span class=attr>bottom:</span></span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>type=&quot;text/javascript&quot;</span> <span class=string>src=&quot;https://cdn1.tianli0.top/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=line><span class=string>+</span>    <span class=bullet>-</span> <span class=string>&lt;script</span> <span class=string>type=&quot;text/javascript&quot;</span> <span class=string>src=&quot;/js/rightmenu.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>本来到这里重启项目就可以见效了，我这里还加了一个右键开关，取消了原来ctrl复合的右键开关策略。因此还需要加一个右键开关的按钮，在<code>[BlogRoot]\themes\butterfly\layout\includes\rightside.pug</code>中做如下的修改，目的就是把鼠标开关放到右边栏的设置隐藏项里面，这样我们就能随时随地开关右键功能了</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre></td><td class=code><pre><span class=line>      when &#x27;share&#x27;</span><br><span class=line>        button.share(type=&quot;button&quot; title=&#x27;分享链接&#x27; onclick=&quot;share()&quot;)</span><br><span class=line>          i.fas.fa-share-nodes</span><br><span class=line></span><br><span class=line>+      when &#x27;mouse&#x27;</span><br><span class=line>+        button.share(type=&quot;button&quot; title=&#x27;右键模式&#x27; onclick=&quot;changeMouseMode()&quot;)</span><br><span class=line>+          i.fas.fa-mouse</span><br><span class=line></span><br><span class=line></span><br><span class=line>#rightside</span><br><span class=line>  - const &#123; enable, hide, show &#125; = theme.rightside_item_order</span><br><span class=line>-  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) : [&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;]</span><br><span class=line>+  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) : [&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;,&#x27;hideAside&#x27;, &#x27;mouse&#x27;]</span><br><span class=line>  - const showArray = enable ? show &amp;&amp; show.split(&#x27;,&#x27;) : [&#x27;toc&#x27;,&#x27;chat&#x27;,&#x27;share&#x27;,&#x27;comment&#x27;]</span><br></pre></td></tr></table></figure></li><li><p>重启项目看看效果（可能会有问题，因为这个还是比较复杂的，有问题在评论区留言吧！）</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>hexo cl; hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id=关于页><a href=#关于页 class=headerlink title=关于页></a>关于页</h2><p><a target=_blank rel=noopener href=https://meuicat.com/blog/78/ >Butterfly的魔改教程：关于本站 | 爱吃肉的猫 (meuicat.com)</a></p><p>log&#x2F;78&#x2F;)</p></article><div class=post-copyright><div class=post-copyright__author><span class=post-copyright-meta><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class=post-copyright-info><a href=https://creammint.github.io>Cream薄荷糖</a></span></div><div class=post-copyright__type><span class=post-copyright-meta><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class=post-copyright-info><a href=https://creammint.github.io/posts/38357/ >https://creammint.github.io/posts/38357/</a></span></div><div class=post-copyright__notice><span class=post-copyright-meta><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href=https://creammint.github.io target=_blank>Cream薄荷糖</a>！</span></div></div><div class=tag_share><div class=post-meta__tag-list><a class=post-meta__tags href=/tags/%E4%BC%98%E9%9B%85%E9%AD%94%E6%94%B9/ >优雅魔改</a></div><div class=post_share><div class=social-share data-image=https://cdn.creammint.cn/article_cover/hexo_magic_2.webp data-sites=facebook,twitter,wechat,weibo,qq></div><link rel=stylesheet href=https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css media=print onload='this.media="all"'><script src=https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js defer></script></div></div><nav class=pagination-post id=pagination><div class="prev-post pull-left"><a href=/posts/38037/ title=博客魔改-1><img class=cover src=https://cdn.creammint.cn/article_cover/hexo_magic_1.webp onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class=pagination-info><div class=label>上一篇</div><div class=prev_info>博客魔改-1</div></div></a></div><div class="next-post pull-right"><a href=/posts/33090/ title=博客添加待办清单页><img class=cover src=https://cdn.creammint.cn/basicdata_img/todo.webp onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class=pagination-info><div class=label>下一篇</div><div class=next_info>博客添加待办清单页</div></div></a></div></nav><div class=relatedPosts><div class=headline><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class=relatedPosts-list><div><a href=/posts/38037/ title=博客魔改-1><img class=cover src=https://cdn.creammint.cn/article_cover/hexo_magic_1.webp alt=cover><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2024-03-09</div><div class=title>博客魔改-1</div></div></a></div></div></div><hr class=custom-hr><div id=post-comment><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class=comment-wrap><div><div class=vcomment id=vcomment></div></div></div></div></div><div class=aside-content id=aside-content><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="fas fa-stream"></i><span>目录</span><span class=toc-percentage></span></div><div class=toc-content><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%96%B0%E5%B9%B4%E5%80%92%E8%AE%A1%E6%97%B6-Leonus><span class=toc-number>1.</span> <span class=toc-text>侧边栏新年倒计时(Leonus)</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%B7%BB%E5%8A%A0fps%E6%98%BE%E7%A4%BA-LYX><span class=toc-number>2.</span> <span class=toc-text>添加fps显示(LYX)</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%96%87%E7%AB%A0%E9%A1%B5%E9%A1%B6%E6%B3%A2%E6%B5%AA%E7%BA%BF><span class=toc-number>3.</span> <span class=toc-text>文章页顶波浪线</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#Heo%E5%90%8C%E6%AC%BE%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB%EF%BC%88%E5%AE%89%E7%9F%A5%E9%B1%BC%EF%BC%89><span class=toc-number>4.</span> <span class=toc-text>Heo同款加载动画（安知鱼）</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%EF%BC%88%E8%87%AA%E7%94%A8%EF%BC%89><span class=toc-number>5.</span> <span class=toc-text>自定义右键菜单（自用）</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%85%B3%E4%BA%8E%E9%A1%B5><span class=toc-number>6.</span> <span class=toc-text>关于页</span></a></li></ol></div></div></div></div></main><footer id=footer><div id=footer-wrap><div id=footer-left><div class=footer-title><span>Cream薄荷糖|</span><span class=footer-copyright>&copy;2024 By Cream薄荷糖</span></div><div class=footer-button><a title=GitHub target=_blank rel=noopener href=https://github.com/Creammint><i class="fab fa-github"></i></a><a title=Gitee target=_blank rel=noopener href=https://gitee.com/creammint><i class="iconfont icon-gitee1"></i></a><a title=知乎 target=_blank rel=noopener href=https://www.zhihu.com/people/creammint_1><i class="fab fa-zhihu"></i></a><a title=CSDN target=_blank rel=noopener href="https://blog.csdn.net/t2736416901?type=blog"><i class="iconfont icon-csdn"></i></a><a title=QQ target=_blank rel=noopener href="https://qm.qq.com/cgi-bin/qm/qr?k=xb453AHuxlK_XjrxV0A5rkz2x23N3_Vk&amp;noverify=0"><i class="iconfont icon-QQ"></i></a></div><div class=wordcount></div><span>小糖已经写了 56k 字，</span><span>好像写完一本 埃克苏佩里 的 《小王子》 了啊</span></div><div id=footer-right><div class=footer-totop><i class="fas fa-chevron-up" onclick=scrollToTop()></i></div><div class=footer-info><p>使用Hexo框架 | 基于butterfly修改</p><a title=湘ICP备2024044746号 target=_blank rel=noopener href=https://beian.miit.gov.cn/ ><img src=https://cdn.creammint.cn/basicdata_img/icp.png alt=备案图标 style=height:16px;margin-right:3px;filter:grayscale(1)>湘ICP备2024044746号</a></div><div class=footer-service><a title=腾讯云 target=_blank rel=noopener href=https://cloud.tencent.com><img alt=腾讯云 src=https://cdn.ichika.cc/typora/202211071552681.png!towebp></a><a title=51LA target=_blank rel=noopener href=https://www.51.la><img alt=51LA src=https://cdn.ichika.cc/typora/202211071552427.png!towebp></a><a title="CC BY-NC-SA 4.0" target=_blank rel=noopener href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh><img alt="CC BY-NC-SA 4.0" src=https://cdn.ichika.cc/typora/202211071552856.png!towebp></a></div></div></div><div class=js-pjax id=rightMenu><div class="rightMenu-group rightMenu-small"><a class=rightMenu-item href=javascript:window.history.back();><i class="fa fa-arrow-left"></i></a><a class=rightMenu-item href=javascript:window.history.forward();><i class="fa fa-arrow-right"></i></a><a class=rightMenu-item href=javascript:window.location.reload();><i class="fa fa-refresh"></i></a><a class=rightMenu-item href=javascript:rmf.scrollToTop();><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-text><a class=rightMenu-item href=javascript:rmf.copySelect();><i class="fa fa-copy"></i><span>复制</span></a><a class=rightMenu-item href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-too><a class=rightMenu-item href=javascript:window.open(window.getSelection().toString());window.location.reload();><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-paste><a class=rightMenu-item href=javascript:rmf.paste()><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-post><a class=rightMenu-item href=#post-comment><i class="fas fa-comment"></i><span>空降评论</span></a><a class=rightMenu-item href=javascript:rmf.copyWordsLink()><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-to><a class=rightMenu-item href=javascript:rmf.openWithNewTab()><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class=rightMenu-item id=menu-too href=javascript:rmf.open()><i class="fa fa-link"></i><span>转到链接</span></a><a class=rightMenu-item href=javascript:rmf.copyLink()><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id=menu-img><a class=rightMenu-item href=javascript:rmf.saveAs()><i class="fa fa-download"></i><span>保存图片</span></a><a class=rightMenu-item href=javascript:rmf.openWithNewTab()><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class=rightMenu-item href=javascript:rmf.copyLink()><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class=rightMenu-item href=javascript:rmf.switchReadMode();><i class="fa fa-book"></i><span>阅读模式</span></a><a class=rightMenu-item href=/about/ ><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class=rightMenu-item href=javascript:rmf.fullScreen();><i class="fas fa-expand"></i><span>切换全屏</span></a><a class=rightMenu-item href=javascript:window.print();><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div></footer></div><div id=rightside><div id=rightside-config-hide><button id=readmode type=button title=阅读模式><i class="fas fa-book-open"></i></button><button id=darkmode type=button title=浅色和深色模式转换><i class="fas fa-adjust"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="fas fa-cog fa-spin"></i></button><button class=share type=button title=分享链接 onclick=share()><i class="fas fa-share-nodes"></i></button><a id=to_comment href=#post-comment title=直达评论><i class="fas fa-comments"></i></a><button class=close id=mobile-toc-button type=button title=目录><i class="fas fa-list-ul"></i></button><button id=go-up type=button title=回到顶部><i class="fas fa-arrow-up"></i><span id=percent>0 <span>%</span></span></button><button id=go-down type=button title=直达底部 onclick=btf.scrollToDest(document.body.scrollHeight,500)><i class="fas fa-arrow-down"></i></button></div></div><div><script src=/js/utils.js></script><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js></script><div class=js-pjax><script>(()=>{const a=()=>{new Valine(Object.assign({el:"#vcomment",appId:"wBApx8abJRnt29SQI6tSvTU8-gzGzoHsz",appKey:"SdlLzNSTkkJ2ZLSEBSgcStbZ",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,master:"cfbcd9eaf8465568335998b86f144202",friends:["30ddf77c2180f3f2b81cb43ba55b08d6",""],tagMeta:["博主","小伙伴","访客"],visitor:!0},null))},t=async()=>{"function"==typeof Valine||await getScript("/js/valine.min.js"),a()};setTimeout(t,0)})()</script></div><script async src=https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js></script><script async src=https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js></script><script defer src=https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js></script><script src=https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js></script><script async src=/js/title.js></script><script async src=//npm.elemecdn.com/pace-js@1.2.4/pace.min.js></script><canvas id=universe></canvas><script defer src=/js/universe.js></script><script defer src=/js/cursor.js></script><script defer data-pjax src=/js/readPercent.js></script>\<script src=/js/share.js></script><script async src=/js/fps.js></script><script src=/js/rightmenu.js></script><script src=/js/about.js></script><script defer src=https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js></script><link rel=stylesheet href=/js/footer.js><script id=canvas_nest defer color=0,0,255 opacity=0.7 zindex=-1 count=99 mobile=false src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/canvas-nest.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/activate-power-mode.min.js></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id=click-heart src=https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-heart.min.js async mobile=true></script><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=local-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><span id=loading-status></span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=is-center id=loading-database><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class=search-wrap><div id=local-search-input><div class=local-search-box><input class=local-search-box--input placeholder=搜索文章></div></div><hr><div id=local-search-results></div><div id=local-search-stats-wrap></div></div></div><div id=search-mask></div><script src=/js/search/local-search.js></script></div></div></body></html>